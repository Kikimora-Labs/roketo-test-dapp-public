(this["webpackJsonproketo-dapp"]=this["webpackJsonproketo-dapp"]||[]).push([[0],{100:function(e,t,a){e.exports={root:"styles_root__37pAo",label:"styles_label__1Z1u2",description:"styles_description__3HMUq",error:"styles_error__iK_dp",required:"styles_required__eL5Iv"}},101:function(e,t,a){e.exports={root:"styles_root__2b5hR",description:"styles_description__256I8",checkbox:"styles_checkbox__JfL1O",error:"styles_error__3vxG-",disabled:"styles_disabled__3pqPt"}},102:function(e,t,a){e.exports={dropdownWrapper:"styles_dropdownWrapper__1mfn5",dropdownOpener:"styles_dropdownOpener__xnUU_",tokenOption:"styles_tokenOption__2nenl",withHover:"styles_withHover__17YXX",dropdownMenu:"styles_dropdownMenu__1M_bV"}},103:function(e,t,a){e.exports={root:"styles_root__1Ickw",controls:"styles_controls__35vzk",name:"styles_name__26X88",comment:"styles_comment__z2oIA",withMarginRight:"styles_withMarginRight__20A25"}},119:function(e,t,a){e.exports={root:"styles_root__1_66R",radio:"styles_radio__3I1ek",radioActive:"styles_radioActive__2fx8l",text:"styles_text__21Txd"}},12:function(e,t,a){e.exports={wrapper:"styles_wrapper__CegNU",root:"styles_root__1apvt",centeredFlex:"styles_centeredFlex__1HZSf",infoRow:"styles_infoRow__2vMrz",numericProgress:"styles_numericProgress__2AuoP",breadbrumbs:"styles_breadbrumbs__BUT8d",streamsLink:"styles_streamsLink__L0U7w",breadbrumb:"styles_breadbrumb__NNWx2",id:"styles_id__16P2T",stream:"styles_stream__3Fr_5",left:"styles_left__1kdhS",right:"styles_right__vZBRd",tile:"styles_tile__2fhhc",remaining:"styles_remaining__2iHJj",blockTitle:"styles_blockTitle__TMhpt",main:"styles_main__18lFE",closeBadge:"styles_closeBadge__oSZpP",tokenIcon:"styles_tokenIcon__2BgHM",buttons:"styles_buttons__kZcO7",divider:"styles_divider__hCiPy",speed:"styles_speed__3klLg",commentBody:"styles_commentBody__1ywdK",copyTitle:"styles_copyTitle__2hQ0e",copyButton:"styles_copyButton__10iJH",linkIcon:"styles_linkIcon__1XYWy",link:"styles_link__24b3y",infoTile:"styles_infoTile__2Te2a",blockHeader:"styles_blockHeader__1zEQa",sectionHeader:"styles_sectionHeader__2S7fb",dropdownOpener:"styles_dropdownOpener__374xe",infoTitle:"styles_infoTitle__wuj-6",font16:"styles_font16__3CMGR",name:"styles_name__16kMm",font14:"styles_font14__2T9bM",font12:"styles_font12__eO0Tl",streamID:"styles_streamID__2QzEw",grey:"styles_grey__3NsWF",modalContent:"styles_modalContent__2SlZf",modalOverlay:"styles_modalOverlay__1e4y6",modalHeader:"styles_modalHeader__3KM3Z",modalButtons:"styles_modalButtons__3_5n3",modalButton:"styles_modalButton__2sR4n",modalSecondary:"styles_modalSecondary__37FKH",dueDate:"styles_dueDate__2sJ5G",dueDateLabel:"styles_dueDateLabel__2wyIH",dueDateValue:"styles_dueDateValue__1rWbE"}},120:function(e,t,a){e.exports={root:"styles_root__HwxLP",dropdownWrapper:"styles_dropdownWrapper__32byB",dropdownMenu:"styles_dropdownMenu__1RS3q",dropdownInactive:"styles_dropdownInactive__34nZF"}},147:function(e,t,a){e.exports={root:"authorization_root__3Nfgj",name:"authorization_name__GjBzW",logoutButton:"authorization_logoutButton__2sCaP"}},148:function(e,t,a){e.exports={root:"styles_root__9Q_y8",arrow:"styles_arrow__dmtxI",rotate:"styles_rotate__3bkvh"}},149:function(e,t,a){e.exports={menu:"styles_menu__oG1pK",menuDivider:"styles_menuDivider__3rvtk",hidden:"styles_hidden__3JyX9"}},15:function(e,t,a){e.exports={wrapper:"styles_wrapper__waQWy",root:"styles_root__19PW7",centeredFlex:"styles_centeredFlex__idtVt",infoRow:"styles_infoRow__DynnT",numericProgress:"styles_numericProgress__3WX9j",breadbrumbs:"styles_breadbrumbs__3R-VX",streamsLink:"styles_streamsLink__z_oX2",breadbrumb:"styles_breadbrumb__35lMb",id:"styles_id__3U16x",stream:"styles_stream__15zYj",left:"styles_left__2Gn-B",right:"styles_right__2t6b3",tile:"styles_tile__2S_fe",remaining:"styles_remaining__2xbtE",blockTitle:"styles_blockTitle__AVORE",main:"styles_main__EZ9Ad",tokenIcon:"styles_tokenIcon__1ECAS",buttons:"styles_buttons__1knN9",divider:"styles_divider__LJnOh",speed:"styles_speed__16A6R",commentBody:"styles_commentBody__1f5OU",copyTitle:"styles_copyTitle__5Y0V9",copyButton:"styles_copyButton__LRE-Z",linkIcon:"styles_linkIcon__2jhgt",link:"styles_link__3w_CQ",infoTile:"styles_infoTile__3vchd",blockHeader:"styles_blockHeader__2hHfE",sectionHeader:"styles_sectionHeader__3bPFB",dropdownOpener:"styles_dropdownOpener__2WSze",infoTitle:"styles_infoTitle__1j4ai",font16:"styles_font16__1E8_k",font14:"styles_font14__34e9m",font12:"styles_font12__2Fhe5",streamID:"styles_streamID__bjGsg",grey:"styles_grey__1goqK"}},150:function(e,t,a){e.exports={root:"styles_root__2IVIz",sort:"styles_sort__2oMly",active:"styles_active__3vMTz"}},151:function(e,t,a){e.exports={root:"styles_root__12V-i",filtersWrapper:"styles_filtersWrapper__3lX2U",sortWithOrder:"styles_sortWithOrder__2gTJ0"}},152:function(e,t,a){e.exports={flexCenter:"styles_flexCenter__1ROiJ",name:"styles_name__HgeGm",nameLabel:"styles_nameLabel__1iFRt"}},153:function(e,t,a){e.exports={root:"styles_root__1_PXp",sort:"styles_sort__3sdm0",active:"styles_active__2U1h-"}},154:function(e,t,a){e.exports={root:"styles_root__1C2L3",filtersWrapper:"styles_filtersWrapper__3sIgz",sortWithOrder:"styles_sortWithOrder__2yZvk"}},155:function(e,t,a){e.exports={card:"styles_card__chYY0",title:"styles_title__cc9o3",finance:"styles_finance__wsZi_"}},156:function(e,t,a){e.exports={badge:"styles_badge__2AKuG",blue:"styles_blue__3vwgm",orange:"styles_orange__23CY5"}},157:function(e,t,a){e.exports={notAllowed:"styles_notAllowed__3rC0O",small:"styles_small__2wTWz",hasntPassedCliff:"styles_hasntPassedCliff__3QI54"}},158:function(e,t,a){e.exports={block:"styles_block__3xJQm",hint:"styles_hint__2cJLP",content:"styles_content__10idn"}},188:function(e,t,a){e.exports={defaultOverlay:"styles_defaultOverlay__3nR8o",defaultIcon:"styles_defaultIcon__hJLMj"}},189:function(e,t,a){e.exports={wrapper:"styles_wrapper__oqa_T",spinner:"styles_spinner__3Ptbo",spin:"styles_spin__1Vf_l"}},190:function(e,t,a){e.exports={root:"styles_root__3OdL8",linkButton:"styles_linkButton__oY6_t"}},191:function(e,t,a){e.exports={root:"styles_root__2s9Jd",pageLink:"styles_pageLink__3rg8i"}},192:function(e,t,a){e.exports={input:"styles_input__KeAvj",error:"styles_error__1dP_7"}},193:function(e,t,a){e.exports={profileForm:"ProfileForm_profileForm__6KCp0",loaderWrapper:"ProfileForm_loaderWrapper__1tIAk",label:"ProfileForm_label__3P7Uk",inputName:"ProfileForm_inputName__3fFmI"}},194:function(e,t,a){e.exports={textarea:"styles_textarea__1lPSs",error:"styles_error__3C3Rv"}},195:function(e,t,a){e.exports={formfield:"styles_formfield__2DZrP",textLimitCounter:"styles_textLimitCounter__2B7mB"}},198:function(e,t,a){e.exports={flexCenter:"styles_flexCenter__B0Jt1",name:"styles_name__25-53"}},199:function(e,t,a){e.exports={root:"styles_root__2iwP4",linkButton:"styles_linkButton__1laX_"}},24:function(e,t,a){e.exports={relative:"styles_relative__yWBD-",controlButton:"styles_controlButton__1sUCZ",statusPadded:"styles_statusPadded__3delP",button:"styles_button__18c-7",modalContent:"styles_modalContent__1ddyy",modalOverlay:"styles_modalOverlay__1UpG0",modalHeader:"styles_modalHeader__1wI_9",modalButtons:"styles_modalButtons__3ze2c",modalButton:"styles_modalButton__2LWw5",modalSecondary:"styles_modalSecondary__3V_0f",modalWarning:"styles_modalWarning__1UbkD",modalDanger:"styles_modalDanger__3abDR",controlsMenu:"styles_controlsMenu__2Z6nr",dropdownOpener:"styles_dropdownOpener__2fJW3",start:"styles_start__1Jd1k",active:"styles_active__1vNpj",pause:"styles_pause__jEqEC",stop:"styles_stop__19ozh"}},25:function(e,t,a){e.exports={relative:"styles_relative__2QiFJ",controlButton:"styles_controlButton__1vq4p",statusPadded:"styles_statusPadded__3UL71",button:"styles_button__1UW_h",modalContent:"styles_modalContent__3f34e",modalOverlay:"styles_modalOverlay__ZnuwA",modalHeader:"styles_modalHeader__2-Oti",modalButtons:"styles_modalButtons__367QE",modalButton:"styles_modalButton__uHmah",modalSecondary:"styles_modalSecondary__1y73P",modalWarning:"styles_modalWarning__aeSV8",modalDanger:"styles_modalDanger__2FJKr",controlsMenu:"styles_controlsMenu__h4rsZ",dropdownOpener:"styles_dropdownOpener__KpUjE",notAllowed:"styles_notAllowed__AgwS0",start:"styles_start__AVZHt",active:"styles_active__1J1qI",pause:"styles_pause__AS7EK",stop:"styles_stop__IMPS5"}},252:function(e,t,a){e.exports={layout:"styles_layout__2ac3i"}},258:function(e,t,a){e.exports={rotate:"styles_rotate__ZjzwB"}},259:function(e,t,a){e.exports={container:"styles_container__1AC1F",logo:"styles_logo__3ciI3"}},263:function(e,t,a){e.exports={error:"styles_error__sGMTb",maxWidth:"styles_maxWidth__2ZM3Z"}},267:function(e,t,a){e.exports={root:"styles_root__20iY_"}},28:function(e,t,a){e.exports={root:"styles_root__3FXzU",text:"styles_text__3Ccy_",status:"styles_status__2XG4U",grey:"styles_grey__6V1Y1",overlay:"styles_overlay__vPDRx",tooltip:"styles_tooltip__17_8O",innerStatus:"styles_innerStatus__294En",smaller:"styles_smaller__35jwv",speed:"styles_speed__2gSeJ",remained:"styles_remained__2GAOw",clock:"styles_clock__1TglA",progress:"styles_progress__lFlGb",streamed:"styles_streamed__3msIw",withdrawn:"styles_withdrawn__28DlC"}},29:function(e,t,a){e.exports={root:"styles_root__38B64",text:"styles_text__11atI",status:"styles_status__3b_ey",grey:"styles_grey__36o2c",overlay:"styles_overlay__3rasY",tooltip:"styles_tooltip__23VN9",innerStatus:"styles_innerStatus__132Fk",smaller:"styles_smaller__HXT1f",speed:"styles_speed__1i2og",remained:"styles_remained__2-6rd",clock:"styles_clock__2q7yf",progress:"styles_progress__YG-x-",streamed:"styles_streamed__2mtn0",withdrawn:"styles_withdrawn__SfaXK"}},305:function(e,t){},315:function(e,t){},333:function(e,t){},36:function(e,t,a){e.exports={root:"styles_root__1XQku",dropdownOpener:"styles_dropdownOpener__3kQgF",dropdownMenu:"styles_dropdownMenu___vHNq",container:"styles_container__aPnlt",loader:"styles_loader__3dO2x",header:"styles_header__1d9ir",date:"styles_date__2TpB4",divider:"styles_divider__KqyfJ",notification:"styles_notification__3Zr3E",unread:"styles_unread__3ngZd",icon:"styles_icon__3IYnm",notificationBody:"styles_notificationBody__3G1w8",primaryText:"styles_primaryText__3lpJr",secondaryText:"styles_secondaryText__30aDU",time:"styles_time__1xidu",compact:"styles_compact__1AVk6",mainText:"styles_mainText__1Fr7u"}},362:function(e,t,a){},38:function(e,t,a){e.exports={root:"styles_root__1zlKm",title:"styles_title__39adN",description:"styles_description__12RAl",form:"styles_form__1ud4S",row:"styles_row__Pz5Iu",rowItem:"styles_rowItem__TexQO",checkboxes:"styles_checkboxes__OfA8Y",submitError:"styles_submitError__1B7Gd",actionButtonsWrapper:"styles_actionButtonsWrapper__1E6yB",feeDisclaimer:"styles_feeDisclaimer__WNlqw",feeDisclaimerRow:"styles_feeDisclaimerRow__11c8e",amount:"styles_amount__1l7_V",subDescription:"styles_subDescription__1OTIx"}},483:function(e,t,a){},484:function(e,t,a){"use strict";a.r(t);var n,r,s=a(1),c=a.n(s),o=a(40),i=a.n(o),l=a(46),u=a.n(l),d=(a(204),a(13)),m=a(26),j=a(30),b=a(5),f=a(8),p=a(3),h=a.n(p),_=a(10),O=a(23),v={ACCOUNT_SUFFIX:"testnet",NEAR_NETWORK_ID:"testnet",NEAR_NODE_URL:"https://rpc.testnet.near.org",ROKETO_CONTRACT_NAME:"streaming-r-v2.dcversus.testnet",WALLET_URL:"https://wallet.testnet.near.org",PUBLIC_URL:"",PRICE_ORACLE_CONTRACT_NAME:"priceoracle.testnet",PRICE_ORACLE_SOURCE_ID:"oracle-1.testnet",WNEAR_ID:"wrap.testnet",WEB_API_URL:"https://api.test.roke.to",COMMIT_HASH:null!==(n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ROKETO_CONTRACT_NAME:"streaming-r-v2.dcversus.testnet",REACT_APP_ROKETO_LEGACY_CONTRACT_NAME:"dev-1635510732093-17387698050424",REACT_APP_WALLET_URL:"https://wallet.testnet.near.org",REACT_APP_NEAR_NETWORK_ID:"testnet",REACT_APP_NEAR_ACCOUNT_SUFFIX:"testnet",REACT_APP_NEAR_NODE_URL:"https://rpc.testnet.near.org",REACT_APP_PRICE_ORACLE_CONTRACT_NAME:"priceoracle.testnet",REACT_APP_PRICE_ORACLE_SOURCE_ID:"oracle-1.testnet",REACT_APP_WNEAR_ID:"wrap.testnet",REACT_APP_WEB_API_URL:"https://api.test.roke.to"}).COMMIT_HASH)&&void 0!==n?n:"development",BUILD_TIME:null!==(r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ROKETO_CONTRACT_NAME:"streaming-r-v2.dcversus.testnet",REACT_APP_ROKETO_LEGACY_CONTRACT_NAME:"dev-1635510732093-17387698050424",REACT_APP_WALLET_URL:"https://wallet.testnet.near.org",REACT_APP_NEAR_NETWORK_ID:"testnet",REACT_APP_NEAR_ACCOUNT_SUFFIX:"testnet",REACT_APP_NEAR_NODE_URL:"https://rpc.testnet.near.org",REACT_APP_PRICE_ORACLE_CONTRACT_NAME:"priceoracle.testnet",REACT_APP_PRICE_ORACLE_SOURCE_ID:"oracle-1.testnet",REACT_APP_WNEAR_ID:"wrap.testnet",REACT_APP_WEB_API_URL:"https://api.test.roke.to"}).BUILD_TIME)&&void 0!==r?r:null},x="200000000000000";function y(){return g.apply(this,arguments)}function g(){return(g=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new O.keyStores.BrowserLocalStorageKeyStore,e.next=3,Object(O.connect)({nodeUrl:v.NEAR_NODE_URL,walletUrl:v.WALLET_URL,networkId:v.NEAR_NETWORK_ID,keyStore:t,headers:{}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return N.apply(this,arguments)}function N(){return N=Object(f.a)(h.a.mark((function e(t){var a,n,r,s,c,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return(i=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.signOut();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},o=function(){return i.apply(this,arguments)},c=function(){return(c=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Roketo Token Streaming Service",e.next=3,t.requestSignIn(v.ROKETO_CONTRACT_NAME,"Roketo Token Streaming Service");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(){return c.apply(this,arguments)},e.next=6,t.getAccountId();case 6:return a=e.sent,e.next=9,t.account();case 9:if(n=e.sent,!a){e.next=14;break}return e.next=13,n.getAccountBalance();case 13:r=e.sent;case 14:return e.abrupt("return",{balance:r,account:n,signedIn:!!a,accountId:a,login:s,logout:o});case 15:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}var k=a(17),C=a(18),S=a(19),A=a.n(S),I=a(488),R={xYears:"{{count}} years",xMonths:"{{count}} months",xDays:"{{count}}d",xSeconds:"{{count}}s",xMinutes:"{{count}}m",xHours:"{{count}}h"},L={formatDistance:function(e,t){return R[e].replace("{{count}}",t)}};var T="Initialized",E="Active",B="Paused",M="Finished",P=function(e){return e.status===E};function F(e){return e.status===T||e.status===B}function D(e){return"object"===typeof(null===e||void 0===e?void 0:e.status)&&M in e.status}function H(e){if(F(e)||!function(e){return!e.cliff||Date.now()>e.cliff/1e6}(e))return new A.a(0);var t,a=Object(I.a)(Date.now())-(t=e.last_action,Number(t)/1e3/1e3/1e3);return A.a.minimum(e.balance,Number(e.tokens_per_sec)*a)}var V=function(){function e(t){var a=t.contract,n=t.account;Object(k.a)(this,e),this.contract=void 0,this.account=void 0,this.contract=a,this.account=n}return Object(C.a)(e,[{key:"getAccount",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.account.accountId){e.next=2;break}return e.abrupt("return",{active_incoming_streams:0,active_outgoing_streams:0,deposit:"0",inactive_incoming_streams:0,inactive_outgoing_streams:0,is_cron_allowed:!0,last_created_stream:"any",stake:"0",total_incoming:{},total_outgoing:{},total_received:{}});case 2:return e.prev=2,e.next=5,this.contract.get_account({account_id:this.account.accountId});case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{active_incoming_streams:0,active_outgoing_streams:0,deposit:"0",inactive_incoming_streams:0,inactive_outgoing_streams:0,is_cron_allowed:!0,last_created_stream:"any",stake:"0",total_incoming:{},total_outgoing:{},total_received:{}});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountIncomingStreams",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.from,n=t.limit,e.prev=1,e.next=4,this.contract.get_account_incoming_streams({account_id:this.account.accountId,from:a,limit:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccountOutgoingStreams",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.from,n=t.limit,e.prev=1,e.next=4,this.contract.get_account_outgoing_streams({account_id:this.account.accountId,from:a,limit:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getStream",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.get_stream({stream_id:a});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDao",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.get_dao();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createStream",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,s,c,o,i,l,u,d,m,j,b,f,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.comment,n=t.deposit,r=t.receiverId,s=t.tokenAccountId,c=t.commissionOnCreate,o=t.tokensPerSec,i=t.cliffPeriodSec,l=t.delayed,u=void 0!==l&&l,d=t.isExpirable,m=t.isLocked,j=t.callbackUrl,b=t.handleTransferStream,f=new A.a(n).plus(c).toFixed(),p={description:JSON.stringify({comment:a}),balance:n,owner_id:this.account.accountId,receiver_id:r,token_name:s,tokens_per_sec:BigInt(o),cliff_period_sec:i,is_locked:m,is_auto_start_enabled:!u,is_expirable:d},e.abrupt("return",b(p,f,j));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startStream",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.start_stream({stream_id:a},x,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseStream",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.pause_stream({stream_id:a},x,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopStream",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.stop_stream({stream_id:a},x,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamIds,e.next=3,this.contract.withdraw({stream_ids:a},x,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function W(e){return U.apply(this,arguments)}function U(){return(U=Object(f.a)(h.a.mark((function e(t){var a,n,r,s,c,o,i,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=new O.Contract(a,v.ROKETO_CONTRACT_NAME,{viewMethods:["get_stats","get_dao","get_token","get_stream","get_account","get_account_incoming_streams","get_account_outgoing_streams","get_account_ft"],changeMethods:["start_stream","pause_stream","stop_stream","withdraw"]}),r=new V({contract:n,account:a}),s=r.getAccount(),c=r.getDao(),e.next=7,Promise.all([s,c]);case 7:return o=e.sent,i=Object(b.a)(o,2),l=i[0],u=i[1],e.abrupt("return",{api:r,dao:u,account:l});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z,q,K=a(6),Y=a(80),z={baseServer:new Y.ServerConfiguration(v.WEB_API_URL,{})},J=function(){function e(){Object(k.a)(this,e),this.initialized=!1,this.token=null,this.authApiClient=new Y.AuthApi(Object(Y.createConfiguration)(Object(K.a)({},z)))}return Object(C.a)(e,[{key:"getToken",value:function(){return this.token||(this.token=this.getRefreshedToken()),this.token}},{key:"refreshToken",value:function(){this.token=this.getRefreshedToken()}},{key:"getRefreshedToken",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,s,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccountIdAndNear();case 3:if(t=e.sent,a=t.accountId,"roketoApiAccessToken",n="".concat("roketoApiAccessToken",":").concat(a),this.initialized){e.next=12;break}if(this.initialized=!0,!(r=localStorage[n]||null)||this.containsUnicode(r)){e.next=12;break}return e.abrupt("return",r);case 12:return delete localStorage[n],e.next=15,this.generateLoginParams();case 15:return s=e.sent,e.next=18,this.authApiClient.login(s);case 18:return c=e.sent,o=c.accessToken,localStorage[n]=o,e.abrupt("return",o);case 24:throw e.prev=24,e.t0=e.catch(0),this.token=null,e.t0;case 28:case"end":return e.stop()}}),e,this,[[0,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountIdAndNear",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return t=e.sent,a=new O.WalletConnection(t,v.ROKETO_CONTRACT_NAME),n=a.getAccountId(),e.abrupt("return",{accountId:n,near:t});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"generateLoginParams",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,s,c,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAccountIdAndNear();case 2:return t=e.sent,a=t.accountId,n=t.near,e.next=7,n.config.keyStore.getKey(n.config.networkId,a);case 7:return r=e.sent,s=Date.now(),c=r.sign((new TextEncoder).encode(String(s))),o=c.signature,i=Array.from(o),e.abrupt("return",{accountId:a,timestamp:s,signature:i});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"containsUnicode",value:function(e){return e!==encodeURIComponent(e)}}]),e}(),X=new J,G=Object(Y.createConfiguration)(Object(K.a)(Object(K.a)({},z),{},{authMethods:{bearer:{tokenProvider:X}}})),Q=new Y.UsersApi(G),$=new Y.NotificationsApi(G),ee=a(7),te=a(50),ae=a.n(te),ne=3600,re=86400,se=604800,ce=2419200,oe=29030400;!function(e){e.Second="second",e.Minute="minute",e.Hour="hour",e.Day="day"}(q||(q={}));var ie=(Z={},Object(ee.a)(Z,q.Hour,"/h"),Object(ee.a)(Z,q.Day,"/d"),Object(ee.a)(Z,q.Minute,"/m"),Object(ee.a)(Z,q.Second,"/s"),Z),le={signInButton:"signInButton",signOutButton:"signOutButton",availableForWithdrawalCaption:"availableForWithdrawalCaption",withdrawAllButton:"withdrawAllButton",createStreamButton:"createStreamButton",withdrawButton:"withdrawButton",withdrawTooltip:"withdrawTooltip",withdrawLoadingCaption:"withdrawLoadingCaption",streamProgressCaption:"streamProgressCaption",streamControlsDropdown:"streamControlsDropdown",streamStartButton:"streamStartButton",streamPauseButton:"streamPauseButton",streamStopButton:"streamStopButton",createStreamReceiverInput:"createStreamReceiverInput",createStreamAmountInput:"createStreamAmountInput",createStreamMonthsInput:"createStreamMonthsInput",createStreamDaysInput:"createStreamDaysInput",createStreamHoursInput:"createStreamHoursInput",createStreamMinutesInput:"createStreamMinutesInput",createStreamCommentInput:"createStreamCommentInput",createStreamDelayedCheckbox:"createStreamDelayedCheckbox",createStreamLockedCheckbox:"createStreamLockedCheckbox",createStreamCancelButton:"createStreamCancelButton",createStreamSubmitButton:"createStreamSubmitButton",openNotificationsButton:"openNotificationsButton",notificationsLoader:"notificationsLoader",notificationElement:"notificationElement",notificationPrimaryCaption:"notificationPrimaryCaption",notificationSecondaryCaption:"notificationSecondaryCaption"},ue=(Object.keys(le).reduce((function(e,t){return Object(K.a)(Object(K.a)({},e),{},Object(ee.a)({},t,'[data-testid="'.concat(le[t],'"]')))}),{}),function(){function e(t){Object(k.a)(this,e),this.tokenDecimals=void 0,this.MP=void 0,this.tokenDecimals=t,this.MP=Math.pow(10,t)}return Object(C.a)(e,[{key:"amount",value:function(e){var t=ae()(e).divide(this.MP).value(),a=ae()(t).format({mantissa:3,trimMantissa:!0,optionalMantissa:!0,average:!0});return 0===t?"0":0!==e&&t<.001?"<0.001":a}},{key:"toYocto",value:function(e){return ae()(e).multiply(this.MP).format({mantissa:0})}},{key:"toHumanReadableValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ae()(e).divide(this.MP).format({mantissa:t,trimMantissa:!0,optionalMantissa:!0})}},{key:"tokensPerMeaningfulPeriod",value:function(t){var a,n=this,r=[1,60,ne,re,se,ce,oe],s=(a={1:"second"},Object(ee.a)(a,60,"minute"),Object(ee.a)(a,ne,"hour"),Object(ee.a)(a,re,"day"),Object(ee.a)(a,se,"week"),Object(ee.a)(a,ce,"month"),Object(ee.a)(a,oe,"year"),a),c=r.find((function(e){return ae()(t).multiply(e).divide(n.MP).value()>.1}))||oe,o=ae()(t).multiply(c).divide(this.MP).value();return{formattedValue:e.formatSmartly(o),unit:s[c]}}}],[{key:"formatSmartly",value:function(e){return 0===e?"0":e<.001?"<0.001":ae()(e).format({mantissa:3,trimMantissa:!0,optionalMantissa:!0,average:!0})}}]),e}()),de=a(251),me=a.n(de);function je(e){return e===v.WNEAR_ID}var be=function(){function e(t,a){var n=this;Object(k.a)(this,e),this.contract=void 0,this.tokenAccountId=void 0,this.account=void 0,this.addFunds=function(e,t,a){var r=[O.transactions.functionCall("ft_transfer_call",{receiver_id:v.ROKETO_CONTRACT_NAME,amount:e,memo:"Roketo transfer",msg:JSON.stringify({Deposit:{stream_id:t}})},"100000000000000","1")];return je(n.tokenAccountId)&&r.unshift(O.transactions.functionCall("near_deposit",{},"30000000000000",e)),n.account.signAndSendTransaction({receiverId:n.tokenAccountId,walletCallbackUrl:a,actions:r})},this.transfer=function(){var e=Object(f.a)(h.a.mark((function e(t,a,r){var s,c,o,i,l,u,d,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.getIsRegistered(t.owner_id),n.getIsRegistered(t.receiver_id)]);case 2:return s=e.sent,c=Object(b.a)(s,2),o=c[0],i=c[1],l=[O.transactions.functionCall("ft_transfer_call",{receiver_id:v.ROKETO_CONTRACT_NAME,amount:new A.a(a).toFixed(),memo:"Roketo transfer",msg:me.a.stringify({Create:{request:t}})},"100000000000000",1)],u=new A.a(0),d=O.utils.format.parseNearAmount("0.00125"),o||(l.unshift(O.transactions.functionCall("storage_deposit",{account_id:t.owner_id},"30000000000000",d)),u=u.plus(d)),i||(l.unshift(O.transactions.functionCall("storage_deposit",{account_id:t.receiver_id},"30000000000000",d)),u=u.plus(d)),je(n.tokenAccountId)&&l.unshift(O.transactions.functionCall("near_deposit",{},"30000000000000",new A.a(a).plus(u).toFixed())),m=n.account.signAndSendTransaction({receiverId:n.tokenAccountId,walletCallbackUrl:r,actions:l}),e.abrupt("return",m);case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.tokenAccountId=a,this.account=t,this.contract=new O.Contract(t,a,{viewMethods:["ft_balance_of","ft_metadata","storage_balance_of"],changeMethods:["ft_transfer_call","storage_deposit","near_deposit"]})}return Object(C.a)(e,[{key:"getMetadata",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.ft_metadata();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.account.accountId){e.next=2;break}return e.abrupt("return","0");case 2:return e.next=4,this.contract.ft_balance_of({account_id:this.account.accountId});case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getIsRegistered",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.storage_balance_of({account_id:t});case 2:return a=e.sent,e.abrupt("return",a&&"0"!==a.total);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function fe(e){return pe.apply(this,arguments)}function pe(){return pe=Object(f.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=t.tokens,r={},e.next=4,Promise.all(Object.keys(n).map(function(){var e=Object(f.a)(h.a.mark((function e(t){var s,c,o,i,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new be(a,t),e.next=3,Promise.all([s.getMetadata(),s.getBalance()]);case 3:c=e.sent,o=Object(b.a)(c,2),i=o[0],l=o[1],u=new ue(i.decimals),r[t]={api:s,formatter:u,roketoMeta:n[t],meta:i,balance:l};case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),pe.apply(this,arguments)}var he=Math.pow(10,24),_e=Math.pow(10,18),Oe={"wrap.testnet":he,"dai.fakes.testnet":_e,"wrap.near":he,"dai.bridge.near":_e},ve=["get_assets","get_asset","get_price_data"],xe=[],ye=function(e,t){return e.reduce((function(e,a){var n=Object(b.a)(a,2),r=n[0],s=n[1].reports.find((function(e){return e.oracle_id===t}));return s?Object(K.a)(Object(K.a)({},e),{},Object(ee.a)({},r,s.price)):e}),{})},ge=function(e,t){return function(a,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=e[a],c=t[a];if(!s||!c)return"0";var o=s.multiplier,i=s.decimals;return ae()(n).multiply(c).multiply(Number(o)).divide(Math.pow(10,i)).format({mantissa:r,trimMantissa:!0})}},we=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=new O.Contract(a,v.PRICE_ORACLE_CONTRACT_NAME,{viewMethods:ve,changeMethods:xe}),e.next=4,n.get_assets({});case 4:return r=e.sent,s=ye(r,v.PRICE_ORACLE_SOURCE_ID),c=ge(s,Oe),e.abrupt("return",{getPriceInUsd:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ne(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(f.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=3,r=0;case 2:if(!(r<=a)){e.next=20;break}if(e.prev=3,!(r>0)){e.next=7;break}return e.next=7,X.refreshToken();case 7:return e.next=9,t();case 9:return e.abrupt("return",e.sent);case 12:if(e.prev=12,e.t0=e.catch(3),e.t0.message.startsWith("HTTP-Code: 401")){e.next=16;break}throw e.t0;case 16:n=e.t0;case 17:r+=1,e.next=2;break;case 20:throw n;case 21:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}var Ce=Object(_.e)(),Se=Object(_.g)(null),Ae=Object(_.g)(null),Ie=Object(_.g)({}),Re=Object(_.g)({getPriceInUsd:function(){return"0"}}),Le=Object(_.g)({inputs:[],outputs:[],streamsLoaded:!1}),Te=Se.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.auth.signedIn)&&void 0!==t&&t})),Ee=Se.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.auth.accountId)&&void 0!==t?t:null})),Be=Object(_.g)({name:null,email:null}),Me=Object(_.g)([]),Pe=Object(_.d)(function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ne((function(){return Q.findOne(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Fe=Object(_.d)(Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ne((function(){return $.findAll()})));case 1:case"end":return e.stop()}}),e)})))),De=Object(_.a)({source:Ee,effect:function(e,t){return Object(f.a)(h.a.mark((function a(){var n,r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.name,r=t.email,e){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,Q.update(e,{name:n,email:r});case 5:case"end":return a.stop()}}),a)})))()}}),He=Object(_.e)(),Ve=Object(_.d)(Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return t=e.sent,e.next=5,w(new O.WalletConnection(t,v.ROKETO_CONTRACT_NAME));case 5:return a=e.sent,e.abrupt("return",{near:t,auth:a});case 7:case"end":return e.stop()}}),e)})))),We=Object(_.d)(function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({account:t});case 2:return a=e.sent,e.next=5,fe({account:t,tokens:a.dao.tokens});case 5:return n=e.sent,e.abrupt("return",{roketo:a,tokens:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ue=Object(_.g)(!0),Ze=Object(_.d)((function(e){return we({account:e})})),qe=Object(_.d)(function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.api.getAccountIncomingStreams({from:0,limit:100}),t.api.getAccountOutgoingStreams({from:0,limit:100})]);case 2:return a=e.sent,n=Object(b.a)(a,2),r=n[0],s=n[1],e.abrupt("return",{inputs:r,outputs:s});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ke=Object(_.d)((function(){return new Promise((function(e){setTimeout(e,3e4)}))}));Object(_.j)({clock:Ae,filter:Boolean,fn:function(e){return e.roketo.account.last_created_stream},target:He}),Object(_.j)({clock:[We.doneData,Ke.doneData],target:Ke}),Object(_.j)({clock:[He,Ke.doneData],source:Ae,filter:Boolean,fn:function(e){return e.roketo},target:qe}),Object(_.j)({clock:qe.doneData,fn:function(e){return{inputs:e.inputs,outputs:e.outputs,streamsLoaded:!0}},target:Le}),Object(_.j)({clock:Ee,filter:Boolean,target:[Pe,Fe]}),Object(_.j)({clock:[Pe.doneData,De.done.map((function(e){return e.params}))],target:Be}),Object(_.j)({clock:Fe.doneData,target:Me}),Object(_.j)({clock:Ee,filter:function(e){return!e},fn:function(){return{name:null,email:null}},target:Be}),Object(_.j)({clock:Ee,filter:function(e){return!e},fn:function(){return[]},target:Me}),Object(_.j)({clock:Ce,target:Ve}),Object(_.j)({clock:Ve.doneData,fn:function(e){return e.auth.account},target:[We,Ze]}),Object(_.j)({clock:Ve.doneData,target:Se}),Object(_.j)({clock:We.doneData,target:Ae}),Object(_.j)({clock:We.doneData,fn:function(e){return e.tokens},target:Ie}),Object(_.j)({clock:Ze.doneData,target:Re}),Object(_.j)({clock:[We.finally],fn:function(){return!1},target:Ue});var Ye=a(4),ze=a.n(Ye),Je={root:{path:"/"},authorize:{path:"/authorize",title:"Authorize"},streams:{path:"/streams",title:"Streams"},stream:{path:"/streams/:id",title:"Stream"}};function Xe(e){return"".concat(window.location.origin,"/#/streams/").concat(e)}var Ge,Qe,$e=a(0);!function(e){e.COLORED="colored",e.CURRENT_COLOR="current-color"}(Qe||(Qe={}));var et,tt,at=(Ge={},Object(ee.a)(Ge,Qe.COLORED,(function(e){var t=e.className;return Object($e.jsxs)("svg",{width:"85",height:"37",viewBox:"0 0 85 37",fill:"none",className:t,children:[Object($e.jsx)("path",{d:"M27.2243 21.6559L25.1382 26.3574C24.9976 26.6743 25.3083 27.0039 25.6314 26.8807L33.2506 23.9755C37.4638 22.3691 42.9334 16.8281 42.9334 13.7051C42.9334 10.8974 37.5108 4.89742 33.3857 3.5349L22.7464 0.0207055C22.3964 -0.0949031 22.0975 0.297465 22.3004 0.606068L24.4608 3.89078C24.7026 4.2583 24.4683 4.75193 24.0316 4.79531L11.5321 6.03692C11.1728 6.07261 11.0519 6.5378 11.3481 6.74504L14.751 9.12589C15.0895 9.36266 15.0825 9.86755 14.7377 10.0948L9.62698 13.4638C9.35407 13.6437 9.03165 13.7328 8.70543 13.7185L0.406475 13.3549C-0.00343963 13.337 -0.157883 13.8858 0.200859 14.0857L9.40222 19.2108C9.74603 19.4023 10.1494 19.456 10.5311 19.361L14.6051 18.3475C15.1342 18.2159 15.6933 18.3718 16.0787 18.7586L19.1812 21.8717C19.5854 22.2774 20.179 22.4277 20.7267 22.2631L26.291 20.5912C26.9277 20.3999 27.4946 21.0466 27.2243 21.6559Z",fill:"url(#paint0_linear_25_2458)"}),Object($e.jsx)("path",{d:"M40.6818 26.4196V36.3357C40.6818 36.6675 40.9498 36.9364 41.2804 36.9364H51.0314C51.362 36.9364 51.63 36.6675 51.63 36.3357V26.4213C51.63 26.0896 51.898 25.8207 52.2286 25.8207L64.6597 25.8207C64.8659 25.8207 65.0576 25.9271 65.167 26.1025L71.793 36.7182C71.9025 36.8935 72.0942 37 72.3004 37H84.4004C84.8768 37 85.1623 36.4688 84.9006 36.0694L76.5735 23.3575C76.5713 23.3541 76.5701 23.3502 76.5701 23.3462C76.5701 23.3349 76.5793 23.3257 76.5905 23.3256C80.5584 23.293 84.2732 19.6259 84.2732 13.0961C84.2732 5.84535 77.8859 1.84441 73.0585 1.84397L73.0559 1.84319V1.82211C73.0559 1.81792 73.0525 1.81451 73.0483 1.81451H41.2804C41.036 1.81451 40.8258 1.96149 40.7328 2.17217C41.1621 5.93024 44.6468 10.0091 52.2641 10.0091L67.8871 10.0098C69.5984 10.0098 71.8625 11.4284 71.8625 13.9989C71.8625 16.3234 70.5333 17.6246 69.1201 17.6254L52.2641 17.6254V17.6315C43.9975 17.6315 40.5981 22.4353 40.6889 26.4196H40.6818Z",fill:"#2B313B"}),Object($e.jsx)("defs",{children:Object($e.jsxs)("linearGradient",{id:"paint0_linear_25_2458",x1:"1.29563",y1:"14.7557",x2:"38.3082",y2:"14.3339",gradientUnits:"userSpaceOnUse",children:[Object($e.jsx)("stop",{offset:"0",stopColor:"#E61A11"}),Object($e.jsx)("stop",{offset:"0.554808",stopColor:"#E9712E"}),Object($e.jsx)("stop",{offset:"1",stopColor:"#FFD231"})]})})]})})),Object(ee.a)(Ge,Qe.CURRENT_COLOR,(function(e){var t=e.className;return Object($e.jsxs)("svg",{viewBox:"0 0 57 25",fill:"none",className:t,children:[Object($e.jsx)("path",{d:"M17.9487 14.2217L16.5734 17.3093C16.4807 17.5174 16.6855 17.7338 16.8986 17.6529L21.9219 15.7451C24.6995 14.6901 28.3056 11.0512 28.3056 9.00033C28.3056 7.15649 24.7306 3.2162 22.0109 2.32141L14.9965 0.0135976C14.7657 -0.0623242 14.5687 0.195349 14.7025 0.398013L16.1268 2.55513C16.2862 2.79648 16.1317 3.12066 15.8438 3.14914L7.60302 3.96452C7.36611 3.98797 7.2864 4.29346 7.48169 4.42956L9.72523 5.99309C9.94834 6.14858 9.94376 6.48015 9.71643 6.62942L6.34698 8.84184C6.16706 8.95998 5.95449 9.01851 5.73941 9.00912L0.267985 8.77036C-0.00226772 8.75857 -0.104091 9.11902 0.132424 9.25024L6.1988 12.616C6.42547 12.7418 6.6914 12.777 6.94303 12.7147L9.629 12.049C9.97782 11.9626 10.3465 12.065 10.6006 12.319L12.646 14.3634C12.9125 14.6298 13.3038 14.7286 13.6649 14.6205L17.3334 13.5225C17.7532 13.3969 18.127 13.8216 17.9487 14.2217Z",fill:"currentColor"}),Object($e.jsx)("path",{d:"M26.8203 17.3502V23.8622C26.8203 24.0801 26.997 24.2567 27.215 24.2567H33.6438C33.8617 24.2567 34.0384 24.0801 34.0384 23.8622V17.3513C34.0384 17.1334 34.2151 16.9568 34.4331 16.9568L42.6288 16.9568C42.7647 16.9568 42.8911 17.0267 42.9632 17.1419L47.3317 24.1134C47.4039 24.2285 47.5302 24.2984 47.6662 24.2984H55.6437C55.9577 24.2984 56.1459 23.9496 55.9734 23.6873L50.4834 15.3392C50.482 15.337 50.4812 15.3344 50.4812 15.3318C50.4812 15.3244 50.4872 15.3184 50.4946 15.3183C53.1107 15.2969 55.5598 12.8886 55.5598 8.60041C55.5598 3.83876 51.3486 1.21128 48.166 1.211L48.1643 1.21048V1.19664C48.1643 1.19388 48.162 1.19165 48.1593 1.19165H27.215C27.0538 1.19165 26.9152 1.28817 26.8539 1.42653C27.137 3.89451 29.4344 6.57314 34.4564 6.57314L44.7565 6.5736C45.8848 6.5736 47.3775 7.50521 47.3775 9.19332C47.3775 10.7199 46.5012 11.5744 45.5694 11.5749L34.4564 11.5749V11.5789C29.0064 11.5789 26.7651 14.7336 26.825 17.3502H26.8203Z",fill:"currentColor"})]})})),Ge),nt=function(e){var t=e.type,a=void 0===t?Qe.COLORED:t,n=e.className,r=at[a];return Object($e.jsx)(r,{className:n})},rt=a(252),st=a.n(rt),ct=function(e){var t=e.children,a=e.className;return Object($e.jsx)("div",{className:ze()(st.a.layout,a),children:t})},ot=a(20),it=a(98),lt=a.n(it),ut=["type","displayMode","disabled","link","children","className","onClick","testId"];!function(e){e.button="button",e.submit="submit"}(et||(et={})),function(e){e.primary="primary",e.simple="simple",e.secondary="secondary",e.action="action",e.invisible="invisible"}(tt||(tt={}));var dt=function(e){var t,a=e.type,n=void 0===a?et.button:a,r=e.displayMode,s=void 0===r?tt.action:r,c=e.disabled,o=void 0!==c&&c,i=e.link,l=e.children,u=e.className,d=e.onClick,j=e.testId,b=Object(ot.a)(e,ut),f=ze()(lt.a.root,(t={},Object(ee.a)(t,lt.a.primary,s===tt.primary),Object(ee.a)(t,lt.a.secondary,s===tt.secondary),Object(ee.a)(t,lt.a.action,s===tt.action),Object(ee.a)(t,lt.a.simple,s===tt.simple),t),u),p=Object($e.jsx)("button",Object(K.a)(Object(K.a)({type:n,className:f,onClick:d,disabled:o},b),{},{"data-testid":j,children:l}));return i?Object($e.jsx)(m.b,{to:i,children:p}):p},mt=function(e){var t=e.className;return Object($e.jsx)("svg",{className:t,width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:Object($e.jsx)("path",{d:"M7.09 12.59L8.5 14L13.5 9L8.5 4L7.09 5.41L9.67 8H0V10H9.67L7.09 12.59ZM16 0H2C0.89 0 0 0.9 0 2V6H2V2H16V16H2V12H0V16C0 17.1 0.89 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z",fill:"currentColor"})})},jt=a(147),bt=a.n(jt),ft=function(){var e=Object(d.c)(Se);return Object(d.c)(Te)?Object($e.jsx)("button",{type:"button",onClick:null===e||void 0===e?void 0:e.auth.logout,className:bt.a.logoutButton,"data-testid":le.signOutButton,children:Object($e.jsx)(mt,{})}):Object($e.jsxs)(dt,{onClick:null===e||void 0===e?void 0:e.auth.login,className:bt.a.root,testId:le.signInButton,children:[Object($e.jsx)("span",{className:bt.a.name,children:"Sign in with NEAR Wallet"}),Object($e.jsx)(mt,{})]})},pt={legacyStreams:{path:"/streams/legacy",title:"Streams (legacy)"},legacyStream:{path:"/streams/legacy/:id"}};function ht(e){return"".concat(window.location.origin,"/#/streams/legacy/").concat(e)}var _t=a(72),Ot=a.n(_t),vt=a(493),xt=a(490),yt=function(e){var t=e.width,a=void 0===t?10:t,n=e.height,r=void 0===n?20:n,s=e.className;return Object($e.jsx)("svg",{className:s,width:a,height:r,viewBox:"0 0 10 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object($e.jsx)("path",{d:"M10 15L10 11L8 11L8 15C8 16.65 6.65 18 5 18C3.35 18 2 16.65 2 15L2 11L-4.80825e-07 11L-6.55671e-07 15C-7.76314e-07 17.76 2.24 20 5 20C7.76 20 10 17.76 10 15ZM2 9L2 5C2 3.35 3.35 2 5 2C6.65 2 8 3.35 8 5L8 9L10 9L10 5C10 2.24 7.76 -9.79135e-08 5 -2.18557e-07C2.24 -3.392e-07 -9.79135e-08 2.24 -2.18557e-07 5L-3.93402e-07 9L2 9ZM6 6L6 14L4 14L4 6L6 6Z",fill:"currentColor"})})},gt=(a(362),["icon","children","className","size","loading","disabled","loadingText","color","variant"]),wt="main",Nt="filled",kt="outlined";function Ct(e){var t=e.icon,a=e.children,n=e.className,r=e.size,s=e.loading,c=e.disabled,o=e.loadingText,i=e.color,l=void 0===i?"light":i,u=e.variant,d=void 0===u?"outlined":u,j=Object(ot.a)(e,gt),b="",f="",p="";d===wt?(b="Button--main",f="normal"===r?"px-5 py-4  rounded-2xl font-semibold":"big"===r?"px-12 py-6 rounded-3xl font-bold":""):d===kt?(b="border-solid border font-semibold rounded-lg ",p="light"===l?"border-blue hover:bg-blue":"dark"===l?"border-border hover:bg-hover hover:border-hover":""):d===Nt&&(b="bg-dark hover:bg-hover font-semibold rounded-lg active:bg-transparent");var h={disabled:s||c,className:ze()("inline-flex items-center justify-center p-3  whitespace-nowrap",b,f,p,c?"Button--disabled":"","transition-all",n)},_=s?o:Object($e.jsxs)($e.Fragment,{children:[t?Object($e.jsx)("div",{className:"mr-2",children:t}):null,a]});return j.link?Object($e.jsx)(m.b,Object(K.a)(Object(K.a)(Object(K.a)({},h),j),{},{children:_})):Object($e.jsx)("button",Object(K.a)(Object(K.a)(Object(K.a)({},h),j),{},{type:"button"===j.type?"button":"submit",children:_}))}var St=a.p+"static/media/RUSSIANS_HACK.83d68466.gif",At=a.p+"static/media/crab.3fbdb8f2.gif";function It(e){var t=e.message,a=e.onRetry,n=e.className,r=c.a.useRef(Math.random());return Object($e.jsxs)("div",{className:ze()("text-center",n),children:[r.current>.5?Object($e.jsx)("img",{src:St,className:"mx-auto",alt:"funny hackers gif with bird dancing around"}):Object($e.jsx)("img",{src:At,className:"mx-auto",alt:"crab with a knife tries to hurt people"}),Object($e.jsx)("h1",{className:"text-4xl font-semibold mb-6 mt-10",children:"Something is broken."}),Object($e.jsx)("p",{className:"text-gray mb-4",children:"Finally we have something to fix"}),t&&Object($e.jsx)("code",{className:"p-4 border-special-inactive border block text-special-inactive text-xs mb-4",children:t}),Object($e.jsx)(Ct,{variant:"outlined",color:"dark",className:"mt-10",onClick:a,type:"button",children:"Try again"}),Object($e.jsx)("p",{className:"text-xs text-gray mt-2",children:"(that probably wont help)"})]})}var Rt=function(e){var t=e.width,a=void 0===t?8:t,n=e.height,r=void 0===n?6:n,s=e.className;return Object($e.jsx)("div",{className:s,children:Object($e.jsx)("svg",{width:a,height:r,viewBox:"0 0 8 6",fill:"none",children:Object($e.jsx)("path",{d:"M7.06 0.726562L4 3.7799L0.94 0.726562L0 1.66656L4 5.66656L8 1.66656L7.06 0.726562Z",fill:"currentColor"})})})},Lt=a(148),Tt=a.n(Lt),Et=["opened","className","children","onChange","testId"];function Bt(e){var t=e.opened,a=e.className,n=e.children,r=e.onChange,s=e.testId,c=Object(ot.a)(e,Et),o=ze()(Tt.a.arrow,Object(ee.a)({},Tt.a.rotate,t));return Object($e.jsxs)("button",Object(K.a)(Object(K.a)({type:"button",onClick:function(){return r(!t)},className:ze()(Tt.a.root,a),"data-testid":s},c),{},{children:[n,Object($e.jsx)(Rt,{className:o})]}))}var Mt=a(268),Pt=a(254),Ft=function(e,t){if(e<=0)return"none";var a=t.formatter,n=t.meta,r=a.tokensPerMeaningfulPeriod(e),s=r.formattedValue,c=r.unit;return"".concat(s," ").concat(n.symbol," / ").concat(c)},Dt=function(e,t){var a=new A.a(e),n=new A.a(t);return a.isEqualTo(0)||n.isEqualTo(0)?new A.a(0):a.dividedBy(n).multipliedBy(100)},Ht=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Dt(e,t).dp(a)},Vt=a(51),Wt=a.n(Vt),Ut=function(e){var t,a=e.total,n=e.streamed,r=e.withdrawn,s=e.className,c=e.cliffPercent,o=e.withBigCliffMark,i=void 0!==o&&o,l=Ht(n,a),u=Ht(r,n);return Object($e.jsxs)("div",{className:ze()(Wt.a.progressBar,s),children:[Object($e.jsx)("div",{className:ze()(Wt.a.progress,Wt.a.streamed),style:{width:"".concat(l,"%")},children:Object($e.jsx)("div",{className:ze()(Wt.a.progress,Wt.a.withdrawn),style:{width:"".concat(u,"%")}})}),"number"===typeof c&&Object($e.jsx)("div",{title:"Cliff",className:Wt.a.cliffMarkContainer,style:{left:"".concat(c,"%")},children:Object($e.jsx)("div",{className:ze()(Wt.a.cliffMark,(t={},Object(ee.a)(t,Wt.a.cliffMarkBig,i),Object(ee.a)(t,Wt.a.cliffMarkPassed,l.toNumber()>c),t))})})]})},Zt=["tokenAccountId","className"];function qt(e){return Object($e.jsx)("svg",Object(K.a)(Object(K.a)({version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"20pt",height:"20pt",viewBox:"0 0 864.000000 864.000000",preserveAspectRatio:"xMidYMid meet"},e),{},{children:Object($e.jsx)("g",{transform:"translate(0.000000,864.000000) scale(0.100000,-0.100000)",fill:"#FFFFFF",stroke:"none",children:Object($e.jsx)("path",{d:"M2490 6461 c-164 -53 -265 -156 -314 -320 -14 -49 -16 -226 -16 -1821 0 -1595 2 -1772 16 -1821 25 -85 62 -148 118 -205 179 -178 476 -178 650 0 30 30 249 347 519 749 518 772 502 742 438 799 -21 19 -42 28 -66 28 -40 0 -6 28 -555 -449 -283 -246 -411 -351 -425 -349 -20 3 -20 11 -20 1238 l0 1235 21 3 c16 2 286 -315 1376 -1621 746 -892 1372 -1637 1392 -1654 94 -83 187 -113 351 -113 169 0 275 39 371 134 56 57 93 120 118 205 14 49 16 226 16 1821 0 1595 -2 1772 -16 1821 -25 85 -62 148 -118 205 -179 178 -476 178 -650 0 -30 -30 -249 -347 -519 -749 -518 -772 -502 -742 -438 -799 21 -19 42 -28 66 -28 40 0 6 -28 555 449 283 246 411 351 425 349 20 -3 20 -11 20 -1238 l0 -1235 -21 -3 c-16 -2 -286 315 -1376 1621 -746 892 -1372 1637 -1392 1654 -95 85 -187 113 -356 112 -82 0 -131 -5 -170 -18z"})})}))}function Kt(e){return Object($e.jsx)("svg",Object(K.a)(Object(K.a)({version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"20pt",height:"20pt",viewBox:"0 0 864.000000 864.000000",preserveAspectRatio:"xMidYMid meet"},e),{},{children:Object($e.jsx)("g",{transform:"translate(0.000000,864.000000) scale(0.100000,-0.100000)",fill:"#FFFFFF",stroke:"none",children:Object($e.jsx)("path",{d:"M2490 6461 c-164 -53 -265 -156 -314 -320 -14 -49 -16 -226 -16 -1821 0 -1595 2 -1772 16 -1821 25 -85 62 -148 118 -205 179 -178 476 -178 650 0 30 30 249 347 519 749 518 772 502 742 438 799 -21 19 -42 28 -66 28 -40 0 -6 28 -555 -449 -283 -246 -411 -351 -425 -349 -20 3 -20 11 -20 1238 l0 1235 21 3 c16 2 286 -315 1376 -1621 746 -892 1372 -1637 1392 -1654 94 -83 187 -113 351 -113 169 0 275 39 371 134 56 57 93 120 118 205 14 49 16 226 16 1821 0 1595 -2 1772 -16 1821 -25 85 -62 148 -118 205 -179 178 -476 178 -650 0 -30 -30 -249 -347 -519 -749 -518 -772 -502 -742 -438 -799 21 -19 42 -28 66 -28 40 0 6 -28 555 449 283 246 411 351 425 349 20 -3 20 -11 20 -1238 l0 -1235 -21 -3 c-16 -2 -286 315 -1376 1621 -746 892 -1372 1637 -1392 1654 -95 85 -187 113 -356 112 -82 0 -131 -5 -170 -18z"})})}))}var Yt={"wrap.testnet":qt,"wrap.near":qt};function zt(e){var t=e.tokenAccountId,a=e.className,n=Object(ot.a)(e,Zt),r=Object(d.d)({store:Ie,keys:[t],fn:function(e){var a,n,r;return null!==(a=null===(n=e[t])||void 0===n||null===(r=n.meta)||void 0===r?void 0:r.icon)&&void 0!==a?a:null}});if(r)return Object($e.jsx)("img",Object(K.a)({src:r,alt:t,className:a},n));var s=t in Yt?Yt[t]:Kt;return Object($e.jsx)(s,Object(K.a)({className:a},n))}function Jt(e){var t=e.tokenAccountId,a=e.size,n=void 0===a?8:a,r=e.className;return Object($e.jsx)("div",{className:ze()("p-1 flex-shrink-0 rounded-full bg-black inline-flex items-center justify-center","w-".concat(n," h-").concat(n),r),children:Object($e.jsx)(zt,{className:"w-full h-full rounded-full",tokenAccountId:t})})}var Xt="INITIALIZED",Gt="ACTIVE",Qt="PAUSED",$t="FINISHED",ea="INTERRUPTED",ta="in",aa="out",na="factory.bridge.near",ra=["get_account","get_stream","get_stream_history","get_status"],sa=["create_stream","deposit","update_account","start_stream","pause_stream","stop_stream","change_auto_deposit","start_cron"],ca=a(149),oa=a.n(ca),ia=["children","className"];function la(e){var t=e.opened,a=e.children,n=e.className,r=e.onClose,s=c.a.useRef(null);return function(e,t){var a=function(a){var n=a.target;e.current&&n instanceof HTMLElement&&!e.current.contains(n)&&t()};c.a.useEffect((function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}))}(s,(function(){t&&r()})),Object($e.jsx)("div",{ref:s,className:ze()(oa.a.menu,Object(ee.a)({},oa.a.hidden,!t),n),children:a})}function ua(e){var t=e.children,a=e.className,n=Object(ot.a)(e,ia);return Object($e.jsx)("div",Object(K.a)(Object(K.a)({className:a},n),{},{children:t}))}function da(){return Object($e.jsx)("div",{className:oa.a.menuDivider})}function ma(e){var t=c.a.useState(e),a=Object(b.a)(t,2),n=a[0],r=a[1];return{on:n,off:!n,toggle:function(){return r(!n)},turnOff:function(){return r(!1)},turnOn:function(){return r(!0)},setOn:r}}function ja(){return ba.apply(this,arguments)}function ba(){return(ba=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new O.keyStores.BrowserLocalStorageKeyStore,e.next=3,Object(O.connect)({nodeUrl:v.NEAR_NODE_URL,walletUrl:v.WALLET_URL,networkId:v.NEAR_NETWORK_ID,keyStore:t,headers:{}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fa(e){var t=e.getAccountId();function a(){return(a=Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"Roketo Token Streaming Service",t.next=3,e.requestSignIn("dev-1635510732093-17387698050424","Roketo Token Streaming Service");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function n(){return(n=Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.signOut();case 2:window.location.reload();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{account:e.account(),signedIn:!!t,accountId:t,login:function(){return a.apply(this,arguments)},logout:function(){return n.apply(this,arguments)}}}var pa=["ft_balance_of"],ha=["ft_transfer","ft_transfer_call"],_a="dev-1635510732093-17387698050424",Oa="200000000000000",va=1e9;function xa(e){return e.status===$t||e.status===ea}function ya(e){return e.status===Gt}var ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"any";return{account_id:e,dynamic_inputs:[],dynamic_outputs:[],static_streams:[],last_action:null,ready_to_withdraw:[],total_incoming:[],total_outgoing:[],total_received:[],is_external_update_enabled:!1,cron_task:null}};function wa(e){var t=e.contract,a=e.ft,n=e.walletConnection,r=e.account,s=e.operationalCommission,c=e.tokens,o=function(){var e=Object(f.a)(h.a.mark((function e(a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ga(a),e.prev=1,e.next=4,t.get_account({account_id:a});case 4:return r=e.sent,e.abrupt("return",r||n);case 8:e.prev=8,e.t0=e.catch(1),console.debug("[RoketoContractApi]: nearerror",e.t0);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return{getCurrentAccount:function(){return o(n.getAccountId())},updateAccount:function(){var e=Object(f.a)(h.a.mark((function e(a){var n,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.tokensWithoutStorage,c=void 0===n?0:n,e.next=3,t.update_account({account_id:r.accountId},Oa,new A.a(1e22).multipliedBy(c).plus(s).toFixed());case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAccount:o,createStream:function(){var e=Object(f.a)(h.a.mark((function e(r){var s,o,i,l,u,d,m,j,b,f,p,_,O=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.deposit,o=r.receiverId,i=r.token,l=r.speed,u=r.description,d=r.isAutoStartEnabled,m=void 0===d||d,j=O.length>1&&void 0!==O[1]?O[1]:{},b=j.callbackUrl,p=c[i].commission_on_create,e.prev=3,"NEAR"!==i){e.next=10;break}return e.next=7,t.create_stream({args:{owner_id:n.getAccountId(),receiver_id:o,token_name:i,tokens_per_tick:l,description:u,is_auto_deposit_enabled:!1,is_auto_start_enabled:m},gas:Oa,amount:new A.a(s).plus(p).toFixed(),callbackUrl:b});case 7:f=e.sent,e.next=14;break;case 10:return _=a[i].contract,e.next=13,_.ft_transfer_call({args:{receiver_id:t.contractId,amount:new A.a(s).plus(p).toFixed(),memo:"Roketo transfer",msg:JSON.stringify({Create:{description:u,owner_id:n.getAccountId(),receiver_id:o,token_name:i,tokens_per_tick:l,balance:s,is_auto_deposit_enabled:!1,is_auto_start_enabled:m}})},gas:Oa,amount:1,callbackUrl:b});case 13:f=e.sent;case 14:return e.abrupt("return",f);case 17:throw e.prev=17,e.t0=e.catch(3),console.debug(e.t0),e.t0;case 21:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t){return e.apply(this,arguments)}}(),depositStream:function(){var e=Object(f.a)(h.a.mark((function e(n){var r,s,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.streamId,s=n.token,c=n.deposit,"NEAR"!==s){e.next=6;break}return e.next=4,t.deposit({stream_id:r},Oa,c);case 4:e.next=9;break;case 6:return o=a[s].contract,e.next=9,o.ft_transfer_call({receiver_id:t.contractId,amount:c,msg:JSON.stringify({Deposit:r})},Oa,1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pauseStream:function(){var e=Object(f.a)(h.a.mark((function e(a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,e.next=3,t.pause_stream({stream_id:n},Oa,s);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),startStream:function(){var e=Object(f.a)(h.a.mark((function e(a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,e.next=3,t.start_stream({stream_id:n},Oa,s);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stopStream:function(){var e=Object(f.a)(h.a.mark((function e(a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,e.next=3,t.stop_stream({stream_id:n},Oa,s);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getStream:function(){var e=Object(f.a)(h.a.mark((function e(a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,e.next=3,t.get_stream({stream_id:n});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getStatus:function(){var e=Object(f.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get_status({});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getStreamHistory:function(){var e=Object(f.a)(h.a.mark((function e(a){var n,r,s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,r=a.from,s=a.to,e.next=3,t.get_stream_history({stream_id:n,from:r,to:s});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}var Na=function(e){var t={};return e.forEach((function(e){t[e.ticker]=e})),t};function ka(e){return Ca.apply(this,arguments)}function Ca(){return(Ca=Object(f.a)(h.a.mark((function e(t){var a,n,r,s,c,o,i,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.walletConnection,e.next=3,a.account();case 3:n=e.sent,e.next=6;break;case 6:return r=new O.Contract(n,_a,{viewMethods:ra,changeMethods:sa}),e.next=9,r.get_status({});case 9:return s=e.sent,c={},o=Na(s.tokens),s.tokens.forEach((function(e){c[e.ticker]={name:e.ticker,address:e.account_id,contract:new O.Contract(n,e.account_id,{viewMethods:pa,changeMethods:ha})}})),i=wa({contract:r,ft:c,walletConnection:a,account:n,operationalCommission:s.operational_commission,tokens:o}),l=function(e){return s.tokens.find((function(t){return t.ticker===e}))},u=function(e){var t=l(e);return Boolean(null===t||void 0===t?void 0:t.account_id.endsWith(na))},e.abrupt("return",{api:i,status:s,tokenMeta:l,isBridged:u});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sa=Object(C.a)((function e(t){var a=t.ticker,n=t.metadata;Object(k.a)(this,e),this.ticker=void 0,this.metadata=void 0,this.ticker=a,this.metadata=n}));var Aa=new Sa({ticker:"NEAR",metadata:{spec:null,name:"Near Protocol",symbol:"NEAR",icon:"",reference:null,reference_hash:null,decimals:24}}),Ia=function(){function e(t){var a=this,n=t.tokens,r=t.account;Object(k.a)(this,e),this.__tokens=void 0,this.__account=void 0,this.__contracts=void 0,this.tokens=void 0,this.__tokens=n,this.__account=r,this.__contracts={},this.tokens={},n&&r&&n.forEach((function(e){a.__contracts[e.ticker]=function(e,t){return new O.Contract(e,t,{viewMethods:["ft_balance_of","ft_metadata","storage_balance_of"],changeMethods:["ft_transfer","ft_transfer_call"]})}(r,e.account_id)}))}return Object(C.a)(e,[{key:"tickers",get:function(){return Object.keys(this.tokens)}},{key:"contract",value:function(e){return this.__contracts[e]}},{key:"get",value:function(e){return this.tokens[e]||new Sa({ticker:e,metadata:{spec:null,name:e,symbol:e,icon:"",reference:null,reference_hash:null,decimals:24}})}},{key:"init",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.__tokens.map(function(){var e=Object(f.a)(h.a.mark((function e(a){var n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("NEAR"!==a.ticker){e.next=4;break}n=Aa,e.next=15;break;case 4:if(a.account_id){e.next=8;break}n=new Sa({ticker:a.ticker,metadata:{spec:null,name:a.ticker,symbol:a.ticker,icon:"",reference:null,reference_hash:null,decimals:24}}),e.next=15;break;case 8:return r=t.contract(a.ticker),e.next=11,r.ft_metadata();case 11:if(!((s=e.sent).decimals<8)){e.next=14;break}return e.abrupt("return");case 14:n=new Sa({ticker:a.ticker,metadata:s});case 15:t.tokens[a.ticker]=n;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"balance",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("NEAR"!==t){e.next=5;break}return e.next=3,this.__account.getAccountBalance();case 3:return a=e.sent,e.abrupt("return",a.total);case 5:return n=this.contract(t),e.next=8,n.ft_balance_of({account_id:this.__account.accountId});case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ftStorageBalance",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.contract(t),e.next=3,a.storage_balance_of({account_id:this.__account.accountId});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ra=c.a.createContext(null);function La(e){var t=e.children,a=Object(s.useState)(null),n=Object(b.a)(a,2),r=n[0],c=n[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja();case 2:return t=e.sent,a=new O.WalletConnection(t,v.ROKETO_CONTRACT_NAME),n=fa(a),e.next=7,ka({walletConnection:a});case 7:return r=e.sent,s=new Ia({account:a.account(),tokens:r.status.tokens}),e.next=11,s.init();case 11:c({auth:n,near:t,roketo:r,walletConnection:a,tokens:s});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object($e.jsx)(Ra.Provider,{value:r,children:r?t:null})}var Ta,Ea=new Error("Near context is not found");function Ba(){var e=Object(s.useContext)(Ra);if(!e)throw Ea;return e}var Ma=(Ta={},Object(ee.a)(Ta,Xt,{label:"Initialized"}),Object(ee.a)(Ta,Gt,{label:"Active"}),Object(ee.a)(Ta,Qt,{label:"Paused"}),Object(ee.a)(Ta,$t,{label:"Finished"}),Object(ee.a)(Ta,ea,{label:"Finished"}),Ta);function Pa(e){var t=e.stream,a=e.className,n=Ma[t.status];return Object($e.jsx)("div",{className:ze()(a),children:n.label})}var Fa=a(24),Da=a.n(Fa);function Ha(){return Object($e.jsx)("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",children:Object($e.jsx)("path",{d:"M1.66634 2.76016L5.17968 5.00016L1.66634 7.24016V2.76016ZM0.333008 0.333496V9.66683L7.66634 5.00016L0.333008 0.333496Z",fill:"currentColor"})})}function Va(){return Object($e.jsx)("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",children:Object($e.jsx)("path",{d:"M0 9.66659H2.66667V0.333252H0V9.66659ZM5.33333 0.333252V9.66659H8V0.333252H5.33333Z",fill:"currentColor"})})}function Wa(){return Object($e.jsx)("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:Object($e.jsx)("path",{d:"M6.66667 1.33333V6.66667H1.33333V1.33333H6.66667ZM8 0H0V8H8V0Z",fill:"currentColor"})})}function Ua(e){var t=e.modalControl,a=e.onConfirm;return Object($e.jsxs)(u.a,{isOpen:t.on,onRequestClose:t.turnOff,className:Da.a.modalContent,overlayClassName:Da.a.modalOverlay,children:[Object($e.jsx)("h2",{className:Da.a.modalHeader,children:"Are you sure?"}),Object($e.jsx)("p",{children:"As a stream receiver, you will not be able to resume stream. Only stream owners can resume streams."}),Object($e.jsxs)("div",{className:Da.a.modalButtons,children:[Object($e.jsx)("button",{type:"button",onClick:t.turnOff,className:ze()(Da.a.modalButton,Da.a.modalSecondary),children:"Cancel"}),Object($e.jsx)("button",{type:"button",onClick:function(){t.turnOff(),a()},className:ze()(Da.a.modalButton,Da.a.modalWarning),children:"Pause"})]})]})}function Za(e){var t=e.modalControl,a=e.onConfirm;return Object($e.jsxs)(u.a,{isOpen:t.on,onRequestClose:t.turnOff,className:Da.a.modalContent,overlayClassName:Da.a.modalOverlay,children:[Object($e.jsx)("h2",{className:Da.a.modalHeader,children:"Stop stream"}),Object($e.jsx)("p",{children:"This action will completely shut down the stream. After that, it can't be turned on."}),Object($e.jsxs)("div",{className:Da.a.modalButtons,children:[Object($e.jsx)("button",{type:"button",onClick:t.turnOff,className:ze()(Da.a.modalButton,Da.a.modalSecondary),children:"Cancel"}),Object($e.jsx)("button",{type:"button",onClick:function(){t.turnOff(),a()},className:ze()(Da.a.modalButton,Da.a.modalDanger),children:"Stop"})]})]})}function qa(e){var t,a=e.stream,n=e.className,r=Ba(),c=r.auth,o=r.roketo,i=ma(!1),l=ma(!1),u=Object(s.useState)(!1),d=Object(b.a)(u,2),m=d[0],j=d[1],p=Object(s.useState)(!1),_=Object(b.a)(p,2),O=_[0],v=_[1],x=c.accountId===a.owner_id,y=c.accountId===a.receiver_id,g=!x&&!y,w=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,o.api.pauseStream({streamId:a.id});case 3:j(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,o.api.startStream({streamId:a.id});case 3:j(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,o.api.stopStream({streamId:a.id});case 3:j(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(xa(a)||g)return Object($e.jsx)(Pa,{className:n,stream:a});var C=O&&!m,S=a.status!==Gt&&x,A=a.status===Gt,I=(t={},Object(ee.a)(t,Da.a.active,ya(a)),Object(ee.a)(t,Da.a.pause,function(e){return e.status===Qt}(a)),Object(ee.a)(t,Da.a.stop,xa(a)),t);return Object($e.jsxs)("div",{className:ze()(Da.a.relative,n),children:[Object($e.jsx)(Ua,{modalControl:i,onConfirm:w}),Object($e.jsx)(Za,{modalControl:l,onConfirm:k}),Object($e.jsx)(Bt,{opened:C,onChange:v,className:ze()(Da.a.dropdownOpener,I),children:m?"Loading...":Object($e.jsx)(Pa,{stream:a,className:Da.a.statusPadded})}),Object($e.jsxs)(la,{onClose:function(){return v(!1)},opened:C,className:Da.a.controlsMenu,children:[S&&Object($e.jsx)(ua,{children:Object($e.jsxs)("button",{type:"button",onClick:N,className:ze()(Da.a.controlButton,Da.a.start),children:[Object($e.jsx)(Ha,{}),Object($e.jsx)("span",{children:"Start"})," "]})}),A&&Object($e.jsx)(ua,{children:Object($e.jsxs)("button",{type:"button",onClick:function(){v(!1),y?i.turnOn():w()},className:ze()(Da.a.controlButton,Da.a.pause),children:[Object($e.jsx)(Va,{}),Object($e.jsx)("span",{children:"Pause"})]})}),(S||A)&&Object($e.jsx)(da,{}),Object($e.jsx)(ua,{children:Object($e.jsxs)("button",{type:"button",onClick:function(){v(!1),l.turnOn()},className:ze()(Da.a.controlButton,Da.a.stop),children:[Object($e.jsx)(Wa,{}),Object($e.jsx)("span",{children:"Stop"})]})})]})]})}var Ka="in",Ya="out";function za(e){var t=Ba().auth;return e.receiver_id===t.accountId?Ka:e.owner_id===t.accountId?Ya:null}var Ja=a(16),Xa=a(79),Ga=a(255),Qa=a(494),$a=a(489);function en(e,t){return e.map((function(e){return Object(K.a)(Object(K.a)({},e),{},{direction:e.owner_id===t?aa:e.receiver_id===t?ta:null})}))}function tn(){var e=Ba(),t=e.auth,a=e.roketo;return Object(Xa.a)(["account",t.accountId],a.api.getCurrentAccount,{errorRetryInterval:250})}function an(e,t,a){if(!ya(e))return e;var n=Object(Ga.a)(Date.now(),a);return Object(K.a)(Object(K.a)({},e),{},{available_to_withdraw:String(Math.min(Number(t)+Number(e.tokens_per_tick)*va*n,Number(e.balance)))})}var nn={values:{},cachedAt:0};function rn(e){var t=e.account,a=Ba(),n=a.auth,r=a.roketo,o=Object(s.useRef)(nn),i=Object(s.useRef)(0),l=Object(Xa.a)((function(){return!!t&&["streams",t.account_id,t.last_action]}),Object(f.a)(h.a.mark((function e(){var a,s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[].concat(Object(Ja.a)((null===t||void 0===t?void 0:t.dynamic_inputs)||[]),Object(Ja.a)((null===t||void 0===t?void 0:t.dynamic_outputs)||[]),Object(Ja.a)((null===t||void 0===t?void 0:t.static_streams)||[])),e.next=3,Promise.all(a.map((function(e){return r.api.getStream({streamId:e})})));case 3:return s=e.sent,c=en(s,n.accountId).filter((function(e){return!xa(e)})),o.current={values:c.reduce((function(e,t){return Object.assign(e,Object(ee.a)({},t.id,t.available_to_withdraw))}),{}),cachedAt:Date.now()},i.current=29,e.abrupt("return",{inputs:c.filter((function(e){return e.direction===ta})),outputs:c.filter((function(e){return e.direction===aa}))});case 8:case"end":return e.stop()}}),e)}))));return c.a.useEffect((function(){var e=setTimeout((function(){if(!l.data||i.current<=0)l.mutate();else{i.current-=1;var e=function(e){return an(e,o.current.values[e.id],o.current.cachedAt)};l.mutate({inputs:l.data.inputs.map(e),outputs:l.data.outputs.map(e)},{revalidate:!1})}}),1e3);return function(){return clearTimeout(e)}}),[l]),l}var sn={value:"",cachedAt:0};function cn(e,t){if(function(e){return e.status===Xt||e.status===Qt}(e))return null;var a=new A.a(e.tokens_per_tick).multipliedBy(1e6);return Number(e.timestamp_created)/1e6+t.dividedBy(a).toNumber()}function on(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=290304e5,n=t?new A.a(e.available_to_withdraw):new A.a(0),r=A.a.minimum(a,new A.a(e.balance).minus(n).dividedBy(e.tokens_per_tick).dividedBy(va).toFixed()).toNumber(),s=Object(Qa.a)({start:0,end:1e3*r});(s.days||s.weeks||s.months||s.years)&&(s.seconds=0);var c=Object($a.a)(s,{locale:L}),o=new A.a(e.balance),i=o.plus(e.tokens_total_withdrawn),l=new A.a(e.tokens_total_withdrawn),u=l.plus(n),d=i.minus(u),m=[l.dividedBy(i).toNumber(),u.dividedBy(i).toNumber()],j={left:i.minus(u).dividedBy(i).toNumber(),streamed:u.dividedBy(i).toNumber(),withdrawn:l.dividedBy(i).toNumber(),available:n.dividedBy(i).toNumber()};return{secondsLeft:r,progresses:m,isDead:xa(e),percentages:j,timeLeft:c,streamEndInfo:cn(e,o),progress:{full:i.toFixed(),withdrawn:l.toFixed(),streamed:u.toFixed(),left:d.toFixed(),available:n.toFixed()}}}function ln(e){var t=e.className;return Object($e.jsx)("svg",{className:t,width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",children:Object($e.jsx)("path",{d:"M0.895051 11.6285C0.745051 11.6285 0.603384 11.5702 0.495051 11.4535C0.295051 11.2285 0.311718 10.8869 0.528384 10.6869L5.836 5.90328L0.495028 1.27828C0.270028 1.07828 0.261695 0.736613 0.461695 0.511613C0.661695 0.294947 1.00336 0.27828 1.22836 0.47828L6.97766 5.46995C7.23599 5.70328 7.23599 6.10328 6.97766 6.33662L1.26172 11.4869C1.15338 11.5869 1.02838 11.6285 0.895051 11.6285Z",fill:"currentColor"})})}var un=a(15),dn=a.n(un),mn=a(96),jn=(a(425),a(188)),bn=a.n(jn);function fn(e){var t=e.placement,a=void 0===t?"top":t,n=e.children,r=e.overlay,s=e.align,c=e.overlayClassName;return Object($e.jsx)(mn.a,{align:s,placement:a,overlay:r,overlayClassName:ze()(bn.a.defaultOverlay,c),children:n||Object($e.jsx)("span",{className:bn.a.defaultIcon,children:"?"})})}function pn(e){console.assert(e,"Provide stream id to use stream methods")}function hn(e){var t=Ba().tokens.get(e);return new ue(t.metadata.decimals)}var _n=["NEAR"];function On(e){var t=e.ticker,a=e.balance,n=e.className,r=hn(t).amount(a);return Object($e.jsxs)("div",{className:ze()("inline-flex items-center p-2 rounded-lg border",n),style:{borderColor:"#A7B0BE"},children:[Object($e.jsx)(Jt,{tokenAccountId:t,className:"mr-2"})," ",Object($e.jsxs)("div",{children:[Object($e.jsxs)("div",{children:[Object($e.jsx)("span",{className:"font-semibold",children:r})," ",Object($e.jsx)("span",{className:"text-gray",children:t})]}),Object($e.jsx)("div",{children:t})]})]})}function vn(e){var t=Ba().auth,a=function(e){var t=Ba().roketo,a=c.a.useState(!1),n=Object(b.a)(a,2),r=n[0],s=n[1];function o(){return(o=Object(f.a)(h.a.mark((function e(a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.tokensWithoutStorage,r=void 0===n?0:n,e.next=3,t.api.updateAccount({tokensWithoutStorage:r});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(f.a)(h.a.mark((function a(n){var r,s;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.token,s=n.deposit,pn(e),a.next=4,t.api.depositStream({token:r,deposit:s,streamId:e});case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function l(){return(l=Object(f.a)(h.a.mark((function a(){var n;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return pn(e),console.debug("pausing",e),a.next=4,t.api.pauseStream({streamId:e});case 4:n=a.sent,console.debug("pausing res",n);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function u(){return(u=Object(f.a)(h.a.mark((function a(){var n;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return pn(e),console.debug("restarting",e),a.next=4,t.api.startStream({streamId:e});case 4:n=a.sent,console.debug("restarting res",n);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function d(){return(d=Object(f.a)(h.a.mark((function a(){var n;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return pn(e),console.debug("Stop called stopping",e),a.next=4,t.api.stopStream({streamId:e});case 4:n=a.sent,console.debug("stopping res",n);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function m(e){return Object(f.a)(h.a.mark((function t(){var a=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=2;break}return t.abrupt("return");case 2:return s(!0),t.prev=3,t.next=6,e.apply(void 0,a);case 6:return t.prev=6,s(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[3,,6,9]])})))}return{loading:r,updateAllAndWithdraw:m((function(e){return o.apply(this,arguments)})),pause:m((function(){return l.apply(this,arguments)})),restart:m((function(){return u.apply(this,arguments)})),stop:m((function(){return d.apply(this,arguments)})),deposit:m((function(e){return i.apply(this,arguments)}))}}(),n=Object(Xa.b)().mutate,r=ma(!1),o=function(){var e=Ba(),t=e.roketo,a=e.tokens,n=tn(),r=rn({account:n.data}),c=Object(s.useMemo)((function(){var e={};return n.data&&r.data&&(n.data.ready_to_withdraw.forEach((function(t){var a=Object(b.a)(t,2),n=a[0],r=a[1];e[n]=e[n]||0,e[n]+=Number(r)})),r.data.inputs.forEach((function(t){e[t.ticker]=e[t.ticker]||0,e[t.ticker]+=Number(t.available_to_withdraw)}))),e}),[n.data,r.data]),o=Object(Xa.a)((function(){c.NEAR;var e=Object(ot.a)(c,_n),t=Object.keys(e);return t.sort(),JSON.stringify(t)}),(function(e){var t=JSON.parse(e);return Promise.all(t.map(function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Boolean,e.next=4,a.ftStorageBalance(t);case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",{ticker:e.t0,hasStorageBalance:e.t3});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),{refreshInterval:5e3}),i=!n.data||!r.data||!o.data,l=(o.data||[]).filter((function(e){return!e.hasStorageBalance})),u=l.filter((function(e){var a=e.ticker;return t.isBridged(a)})),d=0===u.length&&o.data;return{balances:Object.entries(c),loading:i,tokensRequireManualDeposit:u,notRegisteredTokens:l,isSafeToWithdraw:d}}(),i=o.balances,l=o.loading,d=o.isSafeToWithdraw,m=o.notRegisteredTokens;function j(){return(j=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.updateAllAndWithdraw({tokensWithoutStorage:m.length});case 2:n(["account",t.accountId]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setOn(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=Object($e.jsxs)(u.a,{isOpen:r.on,onRequestClose:r.turnOff,className:"ModalContent",overlayClassName:"ModalOverlay",children:[Object($e.jsx)("h2",{className:"text-2xl mb-6",children:"Restricted withdrawal"}),Object($e.jsxs)("p",{children:["Due to NEP-141 issues you are required to do storage deposit before withdrawing. You can do it by buying any amount of"," ",m.map((function(e){return e.ticker})).join(", ")," ","tokens at any DEX"]})]}),O=l?function(){}:function(){d?function(){j.apply(this,arguments)}():function(){p.apply(this,arguments)}()};return Object($e.jsxs)($e.Fragment,{children:[Object($e.jsx)(fn,{placement:"bottom",align:{offset:[0,20]},overlay:Object($e.jsxs)("div",{className:"text-left",children:[Object($e.jsx)("p",{className:"mb-4 text-gray",children:"Move all received tokens to your wallet. With Roketo you can only withdraw from all your legacy streams simultaneously."}),Object($e.jsx)("div",{className:"text-left",children:l?Object($e.jsx)("p",{className:"font-semibold text-center",children:"Loading balances..."}):i.length?Object($e.jsxs)($e.Fragment,{children:[Object($e.jsx)("p",{className:"font-semibold mb-2",children:"Available balances:"}),Object($e.jsx)("div",{children:i.map((function(e){var t=Object(b.a)(e,2),a=t[0],n=t[1];return Object($e.jsx)(On,{ticker:a,balance:n,className:"w-full mb-2"},a)}))})]}):Object($e.jsx)("p",{className:"font-semibold text-center",children:"You have nothing to withdraw"})})]}),children:Object($e.jsx)(dt,Object(K.a)(Object(K.a)({},e),{},{onClick:O,displayMode:tt.action}))}),r.on?_:null]})}function xn(e){var t=e.stream,a=hn(t.ticker),n=on(t).progress,r=n.streamed,s=n.withdrawn,c=n.full;return Object($e.jsxs)("div",{children:[Object($e.jsxs)("div",{className:dn.a.numericProgress,children:[Object($e.jsx)(Jt,{tokenAccountId:t.ticker,className:dn.a.tokenIcon}),Object($e.jsx)("span",{children:"".concat(t.ticker," ").concat(a.amount(r)," of ").concat(a.amount(c))})]}),Object($e.jsx)(Ut,{total:c,streamed:r,withdrawn:s})]})}function yn(e){var t=e.stream,a=on(t).isDead,n=za(t);return a?null:Object($e.jsxs)("div",{className:dn.a.buttons,children:[Object($e.jsx)(qa,{stream:t}),n===Ka&&t.status===Gt&&"0"!==t.available_to_withdraw&&Object($e.jsx)(vn,{children:"Withdraw all"})]})}function gn(e){var t=e.stream,a=hn(t.ticker);return Object($e.jsxs)("div",{children:[Object($e.jsx)("span",{className:dn.a.blockTitle,children:"Speed"}),Object($e.jsx)("div",{className:dn.a.speed,children:Ft(Number(t.tokens_per_tick)*va,{formatter:a,meta:{symbol:t.ticker}})})]})}function wn(e){var t=e.stream,a="";try{a=JSON.parse(t.description).comment}catch(n){a=t.description}return""===a?null:Object($e.jsxs)("div",{children:[Object($e.jsx)("span",{className:dn.a.blockTitle,children:"Comment"}),Object($e.jsx)("div",{className:dn.a.commentBody,children:a})]})}function Nn(e){var t=e.stringToCopy;return Object($e.jsx)("button",{type:"button",className:dn.a.copyButton,onClick:function(){return Ot()(t)},children:Object($e.jsx)(yt,{className:dn.a.linkIcon})})}function kn(e){var t=ht(e.stream.id);return Object($e.jsxs)("div",{children:[Object($e.jsxs)("div",{className:ze()(dn.a.blockTitle,dn.a.copyTitle),children:["Public link to view the stream",Object($e.jsx)(Nn,{stringToCopy:t})]}),Object($e.jsx)("div",{className:dn.a.link,children:t})]})}function Cn(e){var t=e.title,a=e.children;return Object($e.jsxs)("div",{className:dn.a.infoRow,children:[Object($e.jsx)("span",{className:dn.a.infoTitle,children:t}),a]})}function Sn(e){var t=e.stream,a=za(t),n=Ba().tokens,r=on(t),c=r.streamEndInfo,o=r.timeLeft,i=r.progress,l=i.streamed,u=i.left,d=i.full,m=hn(t.ticker),j=n.get(t.ticker).metadata,f=Ht(l,d).toNumber(),p=Ht(u,d).toNumber(),h=Number(t.available_to_withdraw),_=Object(s.useState)(!1),O=Object(b.a)(_,2),v=O[0],x=O[1];return Object($e.jsxs)("div",{className:ze()(dn.a.tile,dn.a.infoTile),children:[Object($e.jsx)("div",{className:dn.a.blockHeader,children:"Stream info"}),Object($e.jsx)(Cn,{title:"Sender",children:Object($e.jsx)("span",{className:dn.a.font16,children:a===Ya?"You":t.owner_id})}),Object($e.jsx)(Cn,{title:"Receiver",children:Object($e.jsx)("span",{className:dn.a.font16,children:a===Ka?"You":t.receiver_id})}),Object($e.jsx)(Cn,{title:"Amount",children:Object($e.jsxs)("span",{className:dn.a.font14,children:[m.amount(d),"\xa0",Object($e.jsx)("span",{className:dn.a.font12,children:j.symbol})]})}),Object($e.jsx)(Cn,{title:"Stream Created",children:Object($e.jsx)("span",{className:dn.a.font14,children:Object(vt.a)(new Date(Number(t.timestamp_created)/1e6),"PP 'at' p")})}),null!==c&&Object($e.jsx)(Cn,{title:Object(xt.a)(c)?"Stream Ended":"Stream Ends",children:Object($e.jsx)("span",{className:dn.a.font14,children:Object(vt.a)(new Date(c),"PP 'at' p")})}),Object($e.jsx)(Cn,{title:"Token",children:Object($e.jsxs)("span",{className:dn.a.font14,children:[j.name,",\xa0",Object($e.jsx)("span",{className:dn.a.font12,children:j.symbol})]})}),Object($e.jsx)("div",{className:dn.a.divider}),Object($e.jsx)(Bt,{className:dn.a.dropdownOpener,opened:v,onChange:function(e){x(e)},children:Object($e.jsx)("h3",{className:dn.a.sectionHeader,children:"Other info"})}),v&&Object($e.jsxs)($e.Fragment,{children:[Object($e.jsx)(Cn,{title:"Stream ID",children:Object($e.jsxs)("div",{className:dn.a.centeredFlex,children:[Object($e.jsx)("span",{className:ze()(dn.a.font14,dn.a.streamID),children:t.id}),Object($e.jsx)(Nn,{stringToCopy:t.id})]})}),Object($e.jsx)(Cn,{title:"Remaining",children:Object($e.jsx)("span",{className:dn.a.font14,children:o||"Finished"})}),Object($e.jsx)(Cn,{title:"Tokens Transferred",children:Object($e.jsxs)("span",{className:dn.a.font14,children:[m.amount(l),"\xa0",Object($e.jsxs)("span",{className:dn.a.font12,children:[j.symbol," ",Object($e.jsxs)("span",{className:dn.a.grey,children:["(",f,"%)"]})]})]})}),Object($e.jsx)(Cn,{title:"Tokens Left",children:Object($e.jsxs)("span",{className:dn.a.font14,children:[m.amount(u),"\xa0",Object($e.jsxs)("span",{className:dn.a.font12,children:[j.symbol," ",Object($e.jsxs)("span",{className:dn.a.grey,children:["(",p,"%)"]})]})]})}),Object($e.jsx)(Cn,{title:"Tokens Available",children:Object($e.jsxs)("span",{className:dn.a.font14,children:[m.amount(h),"\xa0",Object($e.jsx)("span",{className:dn.a.font12,children:j.symbol})]})})]})]})}function An(){var e=Object(j.h)().id,t=function(e,t){var a=Ba().roketo,n=Object(s.useRef)(sn),r=Object(s.useRef)(0),o=Object(Xa.a)((function(){return!!t&&["stream",e,t.account_id,t.last_action]}),Object(f.a)(h.a.mark((function t(){var s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.api.getStream({streamId:e});case 2:return s=t.sent,n.current={value:s.available_to_withdraw,cachedAt:Date.now()},r.current=9,t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)}))),{errorRetryInterval:2e3,errorRetryCount:3}),i=o.data||{balance:null,available_to_withdraw:null,status:null},l=i.balance===i.available_to_withdraw;return c.a.useEffect((function(){if(i.status===Gt&&!l){var e=setTimeout((function(){!o.data||r.current<=0?o.mutate():(r.current-=1,o.mutate(an(o.data,n.current.value,n.current.cachedAt),{revalidate:!1}))}),1e3);return function(){return clearTimeout(e)}}}),[i.status,l,o]),o}(e,tn().data),a=t.data,n=t.error;return Object($e.jsx)("div",{className:dn.a.root,children:Object($e.jsxs)(ct,{children:[Object($e.jsxs)("div",{className:dn.a.breadbrumbs,children:[Object($e.jsx)(m.b,{to:pt.legacyStreams.path,className:dn.a.streamsLink,children:"Streams (legacy)"}),Object($e.jsx)(ln,{className:dn.a.breadbrumb}),Object($e.jsx)("span",{className:dn.a.id,children:e})]}),n&&Object($e.jsx)(It,{className:"max-w-2xl mx-auto py-32",message:n.message,onRetry:function(){t.mutate()}}),!n&&!a&&Object($e.jsx)("div",{className:"py-32 text-center text-gray text-2xl",children:"Loading..."}),!n&&a&&Object($e.jsxs)("main",{className:dn.a.stream,children:[Object($e.jsxs)("div",{className:dn.a.left,children:[Object($e.jsxs)("div",{className:ze()(dn.a.tile,dn.a.remaining),children:[Object($e.jsx)("span",{className:dn.a.blockTitle,children:"Remaining"}),Object($e.jsx)("span",{children:on(a).timeLeft||"Finished"})]}),Object($e.jsxs)("div",{className:ze()(dn.a.tile,dn.a.main),children:[Object($e.jsx)(xn,{stream:a}),Object($e.jsx)(yn,{stream:a}),Object($e.jsx)(gn,{stream:a}),Object($e.jsx)("div",{className:dn.a.divider}),Object($e.jsx)(wn,{stream:a}),Object($e.jsx)(kn,{stream:a})]})]}),Object($e.jsx)("div",{className:dn.a.right,children:Object($e.jsx)(Sn,{stream:a})})]})]})})}var In,Rn=a(258),Ln=a.n(Rn);!function(e){e.asc="ascending",e.desc="descending"}(In||(In={}));var Tn=function(e){var t=e.width,a=void 0===t?24:t,n=e.height,r=void 0===n?24:n,s=e.type,c=void 0===s?In.desc:s,o=e.className;return Object($e.jsx)("div",{className:ze()(Object(ee.a)({},Ln.a.rotate,c===In.asc),o),children:Object($e.jsx)("svg",{width:a,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object($e.jsx)("path",{d:"M3 18H9V16H3V18ZM3 6V8H21V6H3ZM3 13H15V11H3V13Z",fill:"#2B313B"})})})},En=a(119),Bn=a.n(En);function Mn(e){var t=e.active,a=e.label,n=e.value,r=e.onChange;return Object($e.jsxs)("label",{className:Bn.a.root,children:[Object($e.jsx)("input",{type:"radio",className:"invisible w-0 h-0 absolute",checked:t,onChange:function(){return r(n)}}),Object($e.jsx)("div",{className:ze()(Bn.a.radio,Object(ee.a)({},Bn.a.radioActive,t))}),Object($e.jsx)("div",{className:Bn.a.text,children:a})]})}var Pn=a(120),Fn=a.n(Pn);function Dn(e){var t=e.count,a=e.option;return Object($e.jsxs)("span",{children:[a," ",Object($e.jsx)("span",{className:"text-gray font-normal",children:t})]})}function Hn(e){var t=e.label,a=e.options,n=e.renderOption,r=e.renderActive,c=e.active,o=e.onChange,i=e.className,l=e.isDisabled,u=Object(s.useState)(!1),d=Object(b.a)(u,2),m=d[0],j=d[1];return Object($e.jsxs)("div",{className:ze()(Fn.a.root,i),children:[t&&Object($e.jsx)("div",{className:"text-gray mr-2",children:t}),Object($e.jsxs)("div",{className:Fn.a.dropdownWrapper,children:[Object($e.jsx)(Bt,{className:ze()(l&&Fn.a.dropdownInactive,l&&"text-gray"),opened:!l&&m,onChange:j,children:r?r(c):c}),Object($e.jsx)(la,{opened:!l&&m,className:Fn.a.dropdownMenu,onClose:function(){j(!1)},children:a.map((function(e){return Object($e.jsx)(Mn,{label:n?n(e,c===e):e,active:c===e,value:e,onChange:o},JSON.stringify(e))}))})]})]})}var Vn,Wn=a(150),Un=a.n(Wn),Zn=function(e){var t=e.directions,a=e.activeDirection,n=e.onDirectionClick,r=e.isInactive;return Object($e.jsx)("div",{className:Un.a.root,children:t.map((function(e){return Object($e.jsx)(dt,{className:ze()(Un.a.sort,Object(ee.a)({},Un.a.active,e===a)),onClick:function(){return n(e)},disabled:r,children:e},e)}))})};function qn(e){var t=e.options,a=Object(s.useMemo)((function(){return Object.keys(t)}),[t]),n=Object(s.useState)(a[0]),r=Object(b.a)(n,2),c=r[0],o=r[1];return Object(s.useMemo)((function(){var e=t[c];return{option:c,selectOption:o,options:t,optionsArray:a,currentFilterFunction:e}}),[t,c,a])}var Kn="All",Yn="Incoming",zn="Outgoing",Jn=(Vn={ALL:"All"},Object(ee.a)(Vn,Xt,"Initialized"),Object(ee.a)(Vn,Gt,"Active"),Object(ee.a)(Vn,Qt,"Paused"),Vn);function Xn(e){var t=Ba().auth,a=Object(s.useMemo)((function(){var e;return e={},Object(ee.a)(e,Jn.ALL,(function(){return!0})),Object(ee.a)(e,Jn[Xt],(function(e){return e.status===Xt})),Object(ee.a)(e,Jn[Gt],(function(e){return e.status===Gt})),Object(ee.a)(e,Jn[Qt],(function(e){return e.status===Qt})),e}),[]),n=Object(s.useMemo)((function(){var e;return e={},Object(ee.a)(e,Kn,(function(){return!0})),Object(ee.a)(e,Yn,(function(e){return t.accountId===e.receiver_id})),Object(ee.a)(e,zn,(function(e){return t.accountId===e.owner_id})),e}),[t.accountId]),r=qn({options:a}),c=qn({options:n}),o=function(e){var t=e.items,a=e.filters,n=Object(s.useState)(void 0),r=Object(b.a)(n,2),c=r[0],o=r[1],i=Object(s.useState)([]),l=Object(b.a)(i,2),u=l[0],d=l[1];return Object(s.useEffect)((function(){var e=t,n=[];a.forEach((function(t){var a={};Object.keys(t.options).forEach((function(n){var r;a[n]=null===(r=e)||void 0===r?void 0:r.filter(t.options[n])}));var r={};Object.keys(a).forEach((function(e){r[e]=(a[e]||[]).length})),n.push(r),e=a[t.option]})),d(n),o(e)}),[t,a]),{filterCounts:u,filteredItems:c}}({items:e,filters:Object(s.useMemo)((function(){return[c,r]}),[c,r])});return{statusFilter:r,directionFilter:c,result:o}}var Gn=a(151),Qn=a.n(Gn);function $n(e,t,a){return Number(t[a])-Number(e[a])}var er={bigBalanceFirst:{label:"With high amount",order:In.desc,fn:function(e,t){return $n(e,t,"balance")}},highSpeedFirst:{label:"With high speed",order:In.desc,fn:function(e,t){return $n(e,t,"tokens_per_tick")}},highSpeedLast:{label:"With low speed",order:In.asc,fn:function(e,t){return-1*$n(e,t,"tokens_per_tick")}},mostRecent:{label:"Most recent",order:In.desc,fn:function(e,t){return $n(e,t,"timestamp_created")}}};function tr(e){var t=e.items,a=e.onFilterDone,n=e.className,r=Xn(t),c=r.result.filteredItems,o=Object(s.useState)(er.mostRecent),i=Object(b.a)(o,2),l=i[0],u=i[1],d=Object.values(er),m=!t||0===t.length;return Object(s.useEffect)((function(){if(c){var e=Object(Ja.a)(c);e.sort(l.fn),a(e)}else a(c)}),[c,a,l.fn]),Object($e.jsxs)("div",{className:ze()(Qn.a.root,n),children:[Object($e.jsx)(Zn,{directions:r.directionFilter.optionsArray,activeDirection:r.directionFilter.option,onDirectionClick:r.directionFilter.selectOption,isInactive:m}),Object($e.jsxs)("div",{className:Qn.a.filtersWrapper,children:[Object($e.jsx)(Hn,{options:r.statusFilter.optionsArray,label:"Status:",active:r.statusFilter.option,onChange:r.statusFilter.selectOption,isDisabled:m,renderOption:function(e){var t=r.result.filterCounts[1];return Object($e.jsx)(Dn,{option:e,count:t?t[e]:""},e)}}),Object($e.jsx)(Hn,{options:d,label:"Show first:",active:l,onChange:u,isDisabled:m,renderOption:function(e){return Object($e.jsx)("span",{children:e.label})},renderActive:function(e){return Object($e.jsxs)("div",{className:Qn.a.sortWithOrder,children:[e.order&&Object($e.jsx)(Tn,{type:e.order}),Object($e.jsx)("span",{children:e.label})]})}})]})]})}var ar=a(189),nr=a.n(ar),rr=function(e){var t=e.wrapperClassName,a=e.spinnerClassName,n=e.testId;return Object($e.jsx)("div",{className:ze()(nr.a.wrapper,t),"data-testid":n,children:Object($e.jsx)("div",{className:ze()(nr.a.spinner,a)})})},sr=a(152),cr=a.n(sr),or=function(e){var t=e.name,a=e.label;return Object($e.jsxs)("div",{className:cr.a.flexCenter,children:[Object($e.jsx)("span",{className:cr.a.name,children:t}),a&&Object($e.jsx)("span",{className:cr.a.nameLabel,children:a})]})};function ir(e){var t=e.className;return Object($e.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:t,children:Object($e.jsx)("path",{d:"M8.99169 0.666504C4.39169 0.666504 0.666687 4.39984 0.666687 8.99984C0.666687 13.5998 4.39169 17.3332 8.99169 17.3332C13.6 17.3332 17.3334 13.5998 17.3334 8.99984C17.3334 4.39984 13.6 0.666504 8.99169 0.666504ZM9.00002 15.6665C5.31669 15.6665 2.33335 12.6832 2.33335 8.99984C2.33335 5.3165 5.31669 2.33317 9.00002 2.33317C12.6834 2.33317 15.6667 5.3165 15.6667 8.99984C15.6667 12.6832 12.6834 15.6665 9.00002 15.6665ZM9.41669 4.83317H8.16669V9.83317L12.5417 12.4582L13.1667 11.4332L9.41669 9.20817V4.83317Z",fill:"black"})})}var lr=a(28),ur=a.n(lr),dr={points:["tl","bc"],offset:[-24,10]},mr=function(e){var t=e.stream,a=e.className,n=t.ticker,r=t.tokens_per_tick,s=Number(r)*va,c=on(t),o=c.progress,i=c.timeLeft,l=hn(n),u=Number(l.amount(o.streamed)),d=Number(l.amount(o.withdrawn)),m=Number(l.amount(o.full)),j=ue.formatSmartly(u),b=ue.formatSmartly(d),f=Ht(u,m,1),p=Ht(d,u,1),h="".concat(j," of ").concat(m),_=l.tokensPerMeaningfulPeriod(s),O=_.formattedValue,v=_.unit;return Object($e.jsx)(mn.a,{overlayClassName:ur.a.overlay,destroyTooltipOnHide:!0,align:dr,placement:"bottom",overlay:Object($e.jsxs)("div",{className:ze()(ur.a.tooltip,ur.a.text),children:[Object($e.jsxs)("div",{className:ur.a.innerStatus,children:[Object($e.jsx)("span",{children:h})," ",Object($e.jsx)("span",{className:ze()(ur.a.grey,ur.a.smaller),children:n})]}),Object($e.jsx)(Ut,{total:o.full,streamed:o.streamed,withdrawn:o.withdrawn}),Object($e.jsxs)("div",{className:ze()(ur.a.status,ur.a.speed),children:[O," ",Object($e.jsxs)("span",{className:ze()(ur.a.grey,ur.a.smaller),children:[n," / ",v]})]}),i&&Object($e.jsxs)("div",{className:ur.a.remained,children:[Object($e.jsx)(ir,{className:ur.a.clock}),i]}),Object($e.jsxs)("div",{className:ze()(ur.a.progress,ur.a.streamed),children:["Streamed: ",j," ",Object($e.jsx)("span",{className:ze()(ur.a.grey,ur.a.smaller),children:"".concat(f,"%")})]}),Object($e.jsxs)("div",{className:ze()(ur.a.progress,ur.a.withdrawn),children:["Withdrawn: ",b," ",Object($e.jsx)("span",{className:ze()(ur.a.grey,ur.a.smaller),children:"".concat(p,"%")})]})]}),children:Object($e.jsxs)("div",{className:ze()(ur.a.root,ur.a.text,a),children:[Object($e.jsxs)("div",{className:ur.a.status,children:[Object($e.jsx)("span",{children:h})," ",Object($e.jsx)("span",{className:ur.a.grey,children:n})]}),Object($e.jsx)(Ut,{total:o.full,streamed:o.streamed,withdrawn:o.withdrawn})]})})},jr=a(190),br=a.n(jr),fr=function(e){var t=e.onCLick;return Object($e.jsx)("button",{className:br.a.linkButton,type:"button",onClick:t,children:Object($e.jsx)(yt,{})})},pr=function(e){var t=e.className,a=e.stream,n=a.id,r=Object(s.useCallback)((function(e){e.preventDefault();var t=ht(n);Ot()(t)}),[n]);return Object($e.jsxs)("div",{className:ze()(br.a.root,t),children:[Object($e.jsx)(qa,{stream:a}),Object($e.jsx)(fr,{onCLick:r})]})},hr=a(99),_r=a.n(hr),Or=function(e){var t=e.stream,a=e.className,n=t.id,r=t.description,s="";try{s=JSON.parse(r).comment}catch(u){s=r}var c=za(t)===Ka,o=c?t.owner_id:t.receiver_id,i=c?void 0:"Sending",l=Object(j.f)(pt.legacyStream.path,{id:n});return Object($e.jsxs)("div",{className:ze()(_r.a.root,a),children:[Object($e.jsx)(m.b,{to:l,className:_r.a.name,children:Object($e.jsx)(or,{name:o,label:i})}),Object($e.jsx)(mr,{stream:t,className:_r.a.withMarginRight}),Object($e.jsx)(m.b,{to:l,className:"col-span-2 grow-0",children:Object($e.jsx)("p",{className:_r.a.comment,children:s})}),Object($e.jsx)(pr,{stream:t,className:ze()(_r.a.controls,"col-span-2 grow-0")})]})},vr=a(52),xr=a.n(vr),yr=function(e){var t=e.children;return Object($e.jsx)("div",{className:xr.a.emptyState,children:t})},gr=function(e){var t,a=e.className,n=e.displayingStreams,r=e.onCreateStreamClick,s=rn({account:tn().data}).data,c=s||{},o=c.inputs,i=void 0===o?[]:o,l=c.outputs,u=void 0===l?[]:l,d=[].concat(Object(Ja.a)(i),Object(Ja.a)(u)).length,m=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;return s?s&&0===d?Object($e.jsxs)(yr,{children:[Object($e.jsx)("div",{children:"You don't have any streams yet."}),Object($e.jsx)(dt,{onClick:r,children:"Create First Stream"})]}):s&&0!==d&&0===m?Object($e.jsx)(yr,{children:Object($e.jsx)("div",{children:"No streams matching your filters. Try selecting different ones"})}):Object($e.jsx)("div",{className:ze()(xr.a.container,a),children:Object($e.jsxs)("section",{className:xr.a.flexColumn,children:[Object($e.jsxs)("div",{className:ze()(xr.a.withPaddings,"grid grid-cols-6 gap-x-10"),children:[Object($e.jsx)("h3",{className:xr.a.title,children:"Wallet address"}),Object($e.jsx)("h3",{className:xr.a.title,children:"Amount to stream"}),Object($e.jsx)("h3",{className:xr.a.title,children:"Comment"})]}),null===n||void 0===n?void 0:n.map((function(e){return Object($e.jsx)(Or,{stream:e,className:ze()(xr.a.withPaddings,"grid grid-cols-6 gap-x-10")},e.id)}))]})}):Object($e.jsx)(yr,{children:Object($e.jsx)(rr,{wrapperClassName:xr.a.loader})})},wr=a(63),Nr=a.n(wr),kr=function(){var e=rn({account:tn().data}).data||{},t=e.inputs,a=e.outputs,n=Object(s.useMemo)((function(){return(t||a)&&[].concat(Object(Ja.a)(t||[]),Object(Ja.a)(a||[]))}),[t,a]),r=Object(s.useState)([]),c=Object(b.a)(r,2),o=c[0],i=c[1],l=Object(s.useState)(!1),u=Object(b.a)(l,2),d=u[0],m=u[1],j=Object(s.useCallback)((function(){return m(!d)}),[m,d]);return Object($e.jsx)("div",{className:Nr.a.root,children:Object($e.jsxs)(ct,{children:[Object($e.jsxs)("section",{className:ze()(Nr.a.flex,Nr.a.header),children:[Object($e.jsx)("h1",{className:Nr.a.title,children:"Streams (legacy)"}),Object($e.jsx)("div",{className:ze()(Nr.a.flex,Nr.a.buttonsWrapper),children:Object($e.jsx)(vn,{children:"Withdraw all"})})]}),Object($e.jsx)(tr,{items:n,onFilterDone:i,className:Nr.a.streamFilters}),Object($e.jsx)(gr,{displayingStreams:o,className:Nr.a.section,onCreateStreamClick:j})]})})};var Cr=function(e){var t,a;return null!==(t=null===(a=window)||void 0===a?void 0:a.matchMedia(e).matches)&&void 0!==t&&t};function Sr(e){var t=Object(s.useState)((function(){return Cr(e)})),a=Object(b.a)(t,2),n=a[0],r=a[1];return Object(s.useEffect)((function(){var t=window.matchMedia(e);function a(){r(Cr(e))}return a(),t.addListener?t.addListener(a):t.addEventListener("change",a),function(){t.removeListener?t.removeListener(a):t.removeEventListener("change",a)}}),[e,r]),n}var Ar,Ir,Rr=function(e){var t=e.to,a=e.className,n=e.children,r=e.onClick;return Object($e.jsx)(m.b,{to:t,className:a,onClick:r,children:n})},Lr=a(191),Tr=a.n(Lr),Er=function(e){var t=e.pageRoutes,a=void 0===t?[]:t;return 0===a.length?null:Object($e.jsx)("ul",{className:Tr.a.root,children:a.map((function(e){return Object($e.jsx)("li",{className:Tr.a.pageLink,children:Object($e.jsx)(Rr,{to:e.path,children:e.title})},e.path)}))})},Br=function(e){var t=e.width,a=void 0===t?17:t,n=e.height,r=void 0===n?16:n,s=e.className;return Object($e.jsx)("div",{className:s,children:Object($e.jsx)("svg",{width:a,height:r,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object($e.jsx)("path",{d:"M15.5 4.06667V2.16667C15.5 1.25 14.75 0.5 13.8333 0.5H2.16667C1.24167 0.5 0.5 1.25 0.5 2.16667V13.8333C0.5 14.75 1.24167 15.5 2.16667 15.5H13.8333C14.75 15.5 15.5 14.75 15.5 13.8333V11.9333C15.9917 11.6417 16.3333 11.1167 16.3333 10.5V5.5C16.3333 4.88333 15.9917 4.35833 15.5 4.06667ZM14.6667 5.5V10.5H8.83333V5.5H14.6667ZM2.16667 13.8333V2.16667H13.8333V3.83333H8.83333C7.91667 3.83333 7.16667 4.58333 7.16667 5.5V10.5C7.16667 11.4167 7.91667 12.1667 8.83333 12.1667H13.8333V13.8333H2.16667Z",fill:"#626F84"})})})},Mr=function(e){var t=e.width,a=void 0===t?20:t,n=e.height,r=void 0===n?16:n,s=e.className;return Object($e.jsx)("div",{className:s,children:Object($e.jsx)("svg",{width:a,height:r,viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object($e.jsx)("path",{d:"M17.5 0.508362H2.49998C1.58331 0.508362 0.833313 1.25836 0.833313 2.17503V5.50003H2.49998V2.15836H17.5V13.85H2.49998V10.5H0.833313V13.8417C0.833313 14.7584 1.58331 15.4917 2.49998 15.4917H17.5C18.4166 15.4917 19.1666 14.7584 19.1666 13.8417V2.17503C19.1666 1.25003 18.4166 0.508362 17.5 0.508362ZM9.16665 11.3334L12.5 8.00003L9.16665 4.6667V7.1667H0.833313V8.83336H9.16665V11.3334ZM17.5 0.508362H2.49998C1.58331 0.508362 0.833313 1.25836 0.833313 2.17503V5.50003H2.49998V2.15836H17.5V13.85H2.49998V10.5H0.833313V13.8417C0.833313 14.7584 1.58331 15.4917 2.49998 15.4917H17.5C18.4166 15.4917 19.1666 14.7584 19.1666 13.8417V2.17503C19.1666 1.25003 18.4166 0.508362 17.5 0.508362ZM9.16665 11.3334L12.5 8.00003L9.16665 4.6667V7.1667H0.833313V8.83336H9.16665V11.3334Z",fill:"#626F84"})})})},Pr=function(e){var t=e.width,a=void 0===t?17:t,n=e.height,r=void 0===n?16:n,s=e.className;return Object($e.jsx)("div",{className:s,children:Object($e.jsxs)("svg",{width:a,height:r,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object($e.jsx)("path",{d:"M12.1667 12.1666L16.3333 7.99998L12.1667 3.83331L10.9917 5.00831L13.1417 7.16665H5.5V8.83331H13.1417L10.9917 10.9916L12.1667 12.1666Z",fill:"#626F84"}),Object($e.jsx)("path",{d:"M13.8333 13.8333H2.16667V2.16667H13.8333V3.83333H15.5V2.16667C15.5 1.25 14.7583 0.5 13.8333 0.5H2.16667C1.25 0.5 0.5 1.25 0.5 2.16667V13.8333C0.5 14.75 1.25 15.5 2.16667 15.5H13.8333C14.7583 15.5 15.5 14.75 15.5 13.8333V12.1667H13.8333V13.8333Z",fill:"#626F84"})]})})};function Fr(e){var t=Object(d.c)(Ie);return je(e)&&(t[e].meta.symbol="NEAR"),t[e]}function Dr(e){var t,a,n,r=e.tokenAccountId,s=e.className,c=e.mode,o=void 0===c?Ar.CRYPTO:c,i=Object(d.c)(Re),l=Object(d.c)(Se),u=Fr(r),m=u.balance,j=u.formatter,b=u.meta,f=je(r)?null!==(t=null===l||void 0===l||null===(a=l.auth.balance)||void 0===a?void 0:a.available)&&void 0!==t?t:"0":m,p=j.amount(f),h=o===Ar.USD,_=h?null!==(n=i.getPriceInUsd(r,p))&&void 0!==n?n:0:p,O=h?"$":b.symbol;return Object($e.jsx)("span",{className:s,children:"Balance: ".concat(O," ").concat(_)})}!function(e){e.USD="USD",e.CRYPTO="CRYPTO",e.BOTH="BOTH"}(Ar||(Ar={})),function(e){e.income="total_incoming",e.outcome="total_outgoing"}(Ir||(Ir={}));var Hr=Object(_.c)(Ae,Re,(function(e,t){var a,n;if(!e||!t)return a={},Object(ee.a)(a,Ir.income,0),Object(ee.a)(a,Ir.outcome,0),a;var r=e.roketo,s=e.tokens,c=t.getPriceInUsd;function o(e){var t=r.account[e];return Object.keys(t).reduce((function(e,a){var n=s[a].formatter,r=function(e,t){var a=new A.a(e);switch(t){case q.Minute:return a.multipliedBy(60);case q.Hour:return a.multipliedBy(ne);case q.Day:return a.multipliedBy(re);default:return a}}(t[a],q.Hour).toFixed(),o=n.toHumanReadableValue(r,3),i=c(a,o);return e+Number(i)}),0)}return n={},Object(ee.a)(n,Ir.income,o(Ir.income)),Object(ee.a)(n,Ir.outcome,o(Ir.income)),n})),Vr=a(74),Wr=a.n(Vr),Ur=function(e){var t=e.type,a=e.className,n=Object(d.d)({store:Hr,keys:[t],fn:function(e){return e[t]}});return Object($e.jsx)("div",{className:a,children:"".concat(n," $ ").concat(ie[q.Hour])})},Zr=function(e){var t=e.className;return Object($e.jsxs)("div",{className:ze()(Wr.a.root,t),children:[Object($e.jsxs)("div",{className:Wr.a.wrapper,children:[Object($e.jsx)(Pr,{}),Object($e.jsx)(Ur,{className:Wr.a.balance,type:Ir.outcome})]}),Object($e.jsxs)("div",{className:Wr.a.wrapper,children:[Object($e.jsx)(Mr,{}),Object($e.jsx)(Ur,{className:Wr.a.balance,type:Ir.income})]}),Object($e.jsxs)("div",{className:Wr.a.wrapper,children:[Object($e.jsx)(Br,{}),Object($e.jsx)(Dr,{className:Wr.a.balance,tokenAccountId:v.WNEAR_ID,mode:Ar.USD})]})]})},qr=a(192),Kr=a.n(qr),Yr=["className","hasError"],zr=function(e){var t=e.className,a=e.hasError,n=void 0!==a&&a,r=Object(ot.a)(e,Yr);return Object($e.jsx)("input",Object(K.a)({className:ze()(Kr.a.input,Object(ee.a)({},Kr.a.error,n),t)},r))},Jr=a(100),Xr=a.n(Jr),Gr=["children","isRequired","label","description","error","className"],Qr=function(e){var t=e.children,a=e.isRequired,n=void 0!==a&&a,r=e.label,s=e.description,c=e.error,o=e.className,i=Object(ot.a)(e,Gr);return Object($e.jsxs)("div",Object(K.a)(Object(K.a)({className:ze()(Xr.a.root,o)},i),{},{children:[r&&Object($e.jsx)("label",{className:ze()(Xr.a.label,Object(ee.a)({},Xr.a.required,n)),children:r}),t,s&&Object($e.jsx)("div",{className:Xr.a.description,children:s}),c&&Object($e.jsx)("div",{className:Xr.a.error,children:c})]}))},$r=a(193),es=a.n($r),ts="nameInput",as="emailInput";function ns(){var e=Object(d.c)(Be),t=Object(s.useState)(""),a=Object(b.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(""),o=Object(b.a)(c,2),i=o[0],l=o[1],u=Object(d.c)(De.pending);Object(s.useEffect)((function(){var t,a;r(null!==(t=e.name)&&void 0!==t?t:""),l(null!==(a=e.email)&&void 0!==a?a:"")}),[e]);var m=Object(s.useRef)(null);return Object($e.jsxs)("form",{className:es.a.profileForm,onSubmit:function(e){var t,a;e.preventDefault(),De({name:null===(t=m.current)||void 0===t?void 0:t.nameInput.value,email:null===(a=m.current)||void 0===a?void 0:a.emailInput.value})},ref:m,children:[u&&Object($e.jsx)(rr,{wrapperClassName:es.a.loaderWrapper}),Object($e.jsx)(Qr,{label:"User name",children:Object($e.jsx)(zr,{placeholder:"Name",name:ts,value:n,onChange:function(e){return r(e.target.value)},disabled:u})}),Object($e.jsx)(Qr,{label:"Email",description:"Email address is used for notifications",children:Object($e.jsx)(zr,{placeholder:"Email",name:as,value:i,onChange:function(e){return l(e.target.value)},disabled:u})}),Object($e.jsx)(dt,{type:et.submit,disabled:u,children:"Save"})]})}var rs=a(81),ss=a.n(rs),cs=function(){var e=Object(s.useState)(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(!1),c=Object(b.a)(r,2),o=c[0],i=c[1],l=Object(d.c)(Ee),u=Object(d.c)(Be),m=u.name,j=u.email;return Object($e.jsxs)("div",{className:ss.a.profile,children:[Object($e.jsxs)(Bt,{onChange:n,className:ss.a.dropdownOpener,opened:a,children:[Object($e.jsx)("span",{className:ss.a.name,children:m||l}),o||!l?Object($e.jsx)("svg",{className:ss.a.avatar}):Object($e.jsx)("img",{className:ss.a.avatar,src:"".concat(v.WEB_API_URL,"/users/").concat(l,"/avatar?email=").concat(j),alt:"",onError:function(){return i(!0)}})]}),Object($e.jsx)(la,{opened:a,onClose:function(){return n(!1)},className:ss.a.dropdownMenu,children:Object($e.jsx)(ns,{})})]})},os=a(141),is=a(491),ls=a(492),us="in",ds="out";function ms(e){var t=Object(d.c)(Ee);return e.receiver_id===t?us:e.owner_id===t?ds:null}function js(e){if(F(e))return null;var t=new A.a(e.tokens_per_sec).dividedBy(1e3);return e.last_action/1e6+new A.a(e.balance).dividedBy(t).toNumber()}function bs(e){if(!e.cliff)return null;var t=js(e);return t?(e.cliff-e.timestamp_created)/1e6/(t-e.timestamp_created/1e6)*100:null}function fs(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=290304e5,n=t?H(e):new A.a(0),r=new A.a(e.balance),s=A.a.minimum(a,r.minus(n).dividedBy(e.tokens_per_sec).toFixed()).toNumber(),c=Object(Qa.a)({start:0,end:1e3*s});(c.days||c.weeks||c.months||c.years)&&(c.seconds=0);var o=Object($a.a)(c,{locale:L}),i=r.plus(e.tokens_total_withdrawn),l=new A.a(e.tokens_total_withdrawn),u=l.plus(n),d=i.minus(u),m=[l.dividedBy(i).toNumber(),u.dividedBy(i).toNumber()],j={left:i.minus(u).multipliedBy(100).dividedBy(i).toNumber(),streamed:u.multipliedBy(100).dividedBy(i).toNumber(),withdrawn:l.multipliedBy(100).dividedBy(i).toNumber(),available:n.multipliedBy(100).dividedBy(i).toNumber(),cliff:bs(e)};return{progresses:m,isDead:D(e),percentages:j,timeLeft:o,streamEndTimestamp:js(e),cliffEndTimestamp:e.cliff?e.cliff/1e6:null,progress:{full:i.toFixed(),withdrawn:l.toFixed(),streamed:u.toFixed(),left:d.toFixed(),available:n.toFixed()}}}var ps=a(36),hs=a.n(ps);function _s(e){var t=e.className,a=e.withBadge;return Object($e.jsxs)("svg",{className:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object($e.jsx)("path",{d:"M15.375 17.5556H8.625M15.375 17.5556H21L19.4194 15.9944C19.2071 15.7848 19.0387 15.5358 18.9239 15.2619C18.809 14.9879 18.75 14.6943 18.75 14.3978V10.8889C18.7502 9.50993 18.3175 8.16482 17.5116 7.03876C16.7057 5.91271 15.5662 5.06107 14.25 4.60111V4.22222C14.25 3.63285 14.0129 3.06762 13.591 2.65087C13.169 2.23413 12.5967 2 12 2C11.4033 2 10.831 2.23413 10.409 2.65087C9.98705 3.06762 9.75 3.63285 9.75 4.22222V4.60111C7.12875 5.51667 5.25 7.98667 5.25 10.8889V14.3989C5.25 14.9967 5.00925 15.5711 4.58063 15.9944L3 17.5556H8.625H15.375ZM15.375 17.5556V18.6667C15.375 19.5507 15.0194 20.3986 14.3865 21.0237C13.7536 21.6488 12.8951 22 12 22C11.1049 22 10.2464 21.6488 9.61351 21.0237C8.98058 20.3986 8.625 19.5507 8.625 18.6667V17.5556H15.375Z",stroke:a?"#3E65F2":"#2B313B",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a&&Object($e.jsx)("circle",{cx:"19",cy:"5",r:"5",fill:"#D80A1F",stroke:"white",strokeWidth:"2"})]})}function Os(e){var t=e.className;return Object($e.jsxs)("svg",{className:t,width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[Object($e.jsx)("rect",{width:"44",height:"44",rx:"22",fill:"#F1F6FE"}),Object($e.jsx)("path",{d:"M22 14.9167V19.5M14.5 29.5V26.1667V29.5ZM14.5 26.1667V16.1667C14.5 15.7246 14.6756 15.3007 14.9882 14.9882C15.3007 14.6756 15.7246 14.5 16.1667 14.5H21.5833L22.4167 15.3333H29.5L27 20.3333L29.5 25.3333H22.4167L21.5833 24.5H16.1667C15.7246 24.5 15.3007 24.6756 14.9882 24.9882C14.6756 25.3007 14.5 25.7246 14.5 26.1667V26.1667Z",stroke:"#3E65F2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function vs(e){var t=e.className;return Object($e.jsxs)("svg",{className:t,width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[Object($e.jsx)("rect",{width:"44",height:"44",rx:"22",fill:"#F2FCF5"}),Object($e.jsx)("path",{d:"M28.3128 19.7147L20.9824 15.0357C20.6368 14.815 20.235 14.6883 19.82 14.6692C19.405 14.6501 18.9923 14.7393 18.6262 14.9273C18.26 15.1153 17.9541 15.3949 17.7411 15.7364C17.5281 16.0779 17.4161 16.4683 17.417 16.866V26.2217C17.4169 26.6191 17.5296 27.0089 17.7429 27.3498C17.9562 27.6906 18.2622 27.9697 18.6282 28.1571C18.9942 28.3446 19.4065 28.4334 19.8211 28.4141C20.2358 28.3948 20.6371 28.2682 20.9824 28.0477L28.3128 23.3687C28.6268 23.1683 28.8843 22.8968 29.0624 22.5783C29.2405 22.2597 29.3337 21.904 29.3337 21.5428C29.3337 21.1815 29.2405 20.8258 29.0624 20.5073C28.8843 20.1888 28.6268 19.9173 28.3128 19.7169V19.7147Z",stroke:"#1EBA52",strokeWidth:"2.75",strokeLinecap:"round",strokeLinejoin:"round"})]})}function xs(e){var t=e.className;return Object($e.jsxs)("svg",{className:t,width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[Object($e.jsx)("rect",{width:"44",height:"44",rx:"22",fill:"#FFF7EE"}),Object($e.jsx)("path",{d:"M18.333 16.5V27.5M25.6663 16.5V27.5",stroke:"#FF8C19",strokeWidth:"3.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})}function ys(e){var t=e.className;return Object($e.jsxs)("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",className:t,children:[Object($e.jsx)("rect",{width:"44",height:"44",rx:"22",fill:"#FFEEF0"}),Object($e.jsx)("path",{d:"M20.5833 24.3833H23.9167V13.425H20.5833V24.3833ZM22.125 31.3C22.6806 31.3 23.1319 31.1264 23.4792 30.7792C23.8264 30.4319 24 29.9806 24 29.425C24 28.8972 23.8264 28.4458 23.4792 28.0708C23.1319 27.6958 22.6806 27.5083 22.125 27.5083C21.5694 27.5083 21.1181 27.6958 20.7708 28.0708C20.4236 28.4458 20.25 28.8972 20.25 29.425C20.25 29.9806 20.4236 30.4319 20.7708 30.7792C21.1181 31.1264 21.5694 31.3 22.125 31.3Z",fill:"#D80A1F"})]})}var gs=Object(_.a)({source:Me,effect:function(e){return Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.length){t.next=3;break}return t.next=3,$.markAllRead();case 3:case"end":return t.stop()}}),t)})))()}});function ws(e){var t=e.type,a=function(){switch(t){case"StreamStarted":case"StreamContinued":return vs;case"StreamPaused":return xs;case"StreamFinished":return Os;case"StreamIsDue":return ys;default:throw new Error("This should never happen")}}();return Object($e.jsx)(a,{className:hs.a.icon})}function Ns(e){var t=e.children;return Object($e.jsx)("div",{className:hs.a.primaryText,"data-testid":le.notificationPrimaryCaption,children:t})}function ks(e){var t=e.children;return Object($e.jsx)("div",{className:hs.a.secondaryText,"data-testid":le.notificationSecondaryCaption,children:t})}function Cs(e){var t=e.notification,a=t.type,n=t.payload,r=Object(d.c)(Ie),s=ms(n),c=fs(n,false),o=c.progress,i=o.full,l=o.streamed,u=o.left,m=c.timeLeft,j=r[n.token_account_id],b=j.meta.symbol,f=j.formatter;switch(a){case"StreamStarted":return Object($e.jsxs)("div",{className:hs.a.notificationBody,children:[Object($e.jsx)(Ns,{children:s===us?Object($e.jsxs)($e.Fragment,{children:[n.owner_id," ",Object($e.jsx)("strong",{children:"started"})," a stream for you to receive."]}):Object($e.jsxs)($e.Fragment,{children:["You\u2019ve successfully ",Object($e.jsx)("strong",{children:"started"})," a stream to ",n.receiver_id,"."]})}),Object($e.jsxs)(ks,{children:["Total streaming amount: ",Object($e.jsxs)("strong",{children:[f.amount(i),"\xa0",b]})]}),Object($e.jsxs)(ks,{children:["Stream duration: ",Object($e.jsx)("strong",{children:m})]})]});case"StreamPaused":return Object($e.jsxs)("div",{className:hs.a.notificationBody,children:[Object($e.jsxs)(Ns,{children:["The stream ",s===us?"from ".concat(n.owner_id):"to ".concat(n.receiver_id)," is ",Object($e.jsx)("strong",{children:"paused"}),"."]}),Object($e.jsxs)(ks,{children:["Already streamed: ",Object($e.jsxs)("strong",{children:[f.amount(l),"\xa0",b]})]}),Object($e.jsxs)(ks,{children:["Amount left: ",Object($e.jsxs)("strong",{children:[f.amount(u),"\xa0",b]})]})]});case"StreamFinished":return Object($e.jsxs)("div",{className:hs.a.notificationBody,children:[Object($e.jsxs)(Ns,{children:["The stream ",s===us?"from ".concat(n.owner_id):"to ".concat(n.receiver_id)," has ",Object($e.jsx)("strong",{children:"ended"}),"."]}),Object($e.jsxs)(ks,{children:["Total amount streamed: ",Object($e.jsxs)("strong",{children:[f.amount(i),"\xa0",b]})]})]});case"StreamIsDue":return Object($e.jsxs)("div",{className:hs.a.notificationBody,children:[Object($e.jsxs)(Ns,{children:["The stream from ",n.owner_id," is ",Object($e.jsx)("strong",{children:"due"}),"."]}),Object($e.jsxs)(ks,{children:["Available for withdrawal: ",Object($e.jsxs)("strong",{children:[f.amount(u),"\xa0",b]})]})]});case"StreamContinued":return Object($e.jsxs)("div",{className:hs.a.notificationBody,children:[Object($e.jsx)(Ns,{children:s===us?Object($e.jsxs)($e.Fragment,{children:[n.owner_id," has ",Object($e.jsx)("strong",{children:"continued"})," the stream."]}):Object($e.jsxs)($e.Fragment,{children:["The stream to ",n.receiver_id," was ",Object($e.jsx)("strong",{children:"continued"}),"."]})}),Object($e.jsxs)(ks,{children:["Amount left: ",Object($e.jsxs)("strong",{children:[f.amount(u),"\xa0",b]})]}),Object($e.jsxs)(ks,{children:["Time left: ",Object($e.jsx)("strong",{children:m})]})]});default:throw new Error("This should never happen")}}function Ss(){var e,t=Sr("(max-width: 645px)"),a=Object(s.useState)(!1),n=Object(b.a)(a,2),r=n[0],o=n[1],i=Object(d.c)(Me),l=Object(s.useCallback)((function(){o(!1),gs()}),[]),u=null!==(e=i.some((function(e){return!e.isRead})))&&void 0!==e&&e;return Object($e.jsxs)("div",{className:hs.a.root,children:[Object($e.jsx)(Bt,{onChange:o,className:hs.a.dropdownOpener,opened:r,testId:le.openNotificationsButton,children:Object($e.jsx)(_s,{withBadge:u})}),Object($e.jsx)(la,{opened:r,onClose:l,className:ze()(hs.a.dropdownMenu,t&&hs.a.compact),children:Object($e.jsxs)("div",{className:hs.a.container,children:[Object($e.jsx)("header",{className:hs.a.header,children:"Notifications"}),0===i.length&&Object($e.jsx)("h3",{className:"text-3xl text-center my-12 mx-auto",children:"Your notifications will be displayed here."}),i.map((function(e,t){return Object($e.jsxs)(c.a.Fragment,{children:[0!==t&&Object($e.jsx)("div",{className:hs.a.divider}),(0===t||!Object(os.a)(i[t-1].createdAt,e.createdAt))&&Object($e.jsx)("div",{className:hs.a.date,children:Object(is.a)(e.createdAt)?"Today":Object(ls.a)(e.createdAt)?"Yesterday":Object(vt.a)(e.createdAt,"PP")}),Object($e.jsxs)(m.b,{to:Object(j.f)(Je.stream.path,{id:e.payload.id}),className:ze()(hs.a.notification,!e.isRead&&hs.a.unread),onClick:l,"data-testid":le.notificationElement,children:[Object($e.jsx)(ws,{type:e.type}),Object($e.jsx)(Cs,{notification:e}),Object($e.jsx)("div",{className:hs.a.time,children:Object(vt.a)(new Date(e.createdAt),"HH:mm")})]})]},e.id)}))]})})]})}var As,Is,Rs,Ls=a(49),Ts=a.n(Ls),Es=[Je.streams],Bs=function(){var e=Object(d.c)(Te),t=!Sr("(min-width: 1280px)"),a=function(){var e=rn({account:tn().data}).data;return e&&(e.inputs.length>0||e.outputs.length>0)}();return Object($e.jsxs)($e.Fragment,{children:[Object($e.jsx)("div",{className:Ts.a.wrapper,children:Object($e.jsxs)(ct,{className:Ts.a.root,children:[Object($e.jsxs)("div",{className:Ts.a.left,children:[Object($e.jsx)(m.b,{to:"/",className:Ts.a.unshrinkable,children:Object($e.jsx)(nt,{className:Ts.a.logo})}),e&&Object($e.jsx)(Er,{pageRoutes:a?[].concat(Es,[pt.legacyStreams]):Es})]}),Object($e.jsxs)("div",{className:Ts.a.right,children:[e&&!t&&Object($e.jsx)(Zr,{className:Ts.a.marginRight}),e&&Object($e.jsx)(cs,{}),e&&!t&&Object($e.jsx)(Ss,{}),!t&&Object($e.jsx)(ft,{})]})]})}),e&&t&&Object($e.jsx)("div",{className:Ts.a.secondWrapper,children:Object($e.jsxs)(ct,{className:Ts.a.secondRoot,children:[Object($e.jsx)(Zr,{className:Ts.a.marginRight}),Object($e.jsxs)("div",{className:Ts.a.right,children:[Object($e.jsx)(Ss,{}),Object($e.jsx)(ft,{})]})]})})]})},Ms=a(259),Ps=a.n(Ms);function Fs(){return Object($e.jsx)("div",{className:ze()("py-4 px-6","absolute w-full pt-8","flex justify-center"),children:Object($e.jsx)(nt,{className:Ps.a.logo})})}function Ds(){return Object(j.i)(Je.authorize.path)?Object($e.jsx)(Fs,{}):Object($e.jsx)(Bs,{})}function Hs(e){var t=e.children,a=e.allowed,n=e.redirect,r=e.path,s=e.exact,c=void 0!==s&&s;return Object($e.jsx)(j.b,{exact:c,path:r,render:function(){return a?t:n}})}var Vs=["title","titleId"];function Ws(){return Ws=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ws.apply(this,arguments)}function Us(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Zs(e,t){var a=e.title,n=e.titleId,r=Us(e,Vs);return s.createElement("svg",Ws({width:"auto",height:"auto",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),a?s.createElement("title",{id:n},a):null,As||(As=s.createElement("path",{d:"M8.14141 20.601C7.50192 20.601 7.61064 20.3595 7.39007 19.7506L5.50977 13.5625L19.9838 4.97559",fill:"currentColor"})),Is||(Is=s.createElement("path",{d:"M8.14062 20.6012C8.63406 20.6012 8.85199 20.3755 9.12749 20.1078L11.7591 17.5488L8.47649 15.5693",fill:"#8E909C"})),Rs||(Rs=s.createElement("path",{d:"M8.47667 15.5697L16.4308 21.4463C17.3386 21.9471 17.9935 21.6877 18.2197 20.6037L21.4574 5.34624C21.7888 4.01726 20.9508 3.41429 20.0824 3.80854L1.07041 11.1395C-0.227316 11.66 -0.219585 12.3841 0.833894 12.7066L5.71279 14.2295L17.008 7.10352C17.5412 6.78015 18.0307 6.95384 17.629 7.31043",fill:"currentColor"})))}var qs,Ks=s.forwardRef(Zs),Ys=(a.p,function(e){var t=e.className;return Object($e.jsx)("div",{className:t,children:Object($e.jsx)(Ks,{})})}),zs=["title","titleId"];function Js(){return Js=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Js.apply(this,arguments)}function Xs(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Gs(e,t){var a=e.title,n=e.titleId,r=Xs(e,zs);return s.createElement("svg",Js({width:"auto",height:"auto",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),a?s.createElement("title",{id:n},a):null,qs||(qs=s.createElement("path",{d:"M7.57758 21.9092C16.5744 21.9092 21.4944 13.5154 21.4944 6.2365C21.4944 5.99809 21.4901 5.76075 21.4806 5.52449C22.4356 4.74696 23.2657 3.77667 23.9204 2.67212C23.044 3.11083 22.1009 3.40615 21.1115 3.53932C22.1214 2.85737 22.8966 1.77862 23.2624 0.492616C22.3174 1.12355 21.2708 1.58212 20.1565 1.8297C19.2639 0.759024 17.9932 0.0893555 16.5862 0.0893555C13.885 0.0893555 11.6946 2.55622 11.6946 5.59697C11.6946 6.02922 11.7376 6.44967 11.8215 6.85297C7.75628 6.62261 4.15156 4.4307 1.73908 1.09777C1.31902 1.91181 1.0768 2.8574 1.0768 3.86636C1.0768 5.77743 1.94032 7.46453 3.25344 8.4515C2.45096 8.42358 1.69712 8.1755 1.03824 7.76257C1.03752 7.78568 1.03752 7.80822 1.03752 7.83292C1.03752 10.5006 2.72352 12.7279 4.9616 13.2326C4.55059 13.3588 4.11816 13.4264 3.67184 13.4264C3.35715 13.4264 3.05056 13.3916 2.75256 13.3271C3.37526 15.5158 5.18096 17.1084 7.32176 17.1529C5.64768 18.6307 3.5388 19.5108 1.2468 19.5108C0.852482 19.5108 0.462934 19.4855 0.0800781 19.4345C2.2448 20.9971 4.8152 21.9089 7.57784 21.9089",fill:"currentColor"})))}var Qs,$s=s.forwardRef(Gs),ec=(a.p,function(e){var t=e.className;return Object($e.jsx)("div",{className:t,children:Object($e.jsx)($s,{})})}),tc=["title","titleId"];function ac(){return ac=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ac.apply(this,arguments)}function nc(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function rc(e,t){var a=e.title,n=e.titleId,r=nc(e,tc);return s.createElement("svg",ac({width:"auto",height:"auto",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},r),a?s.createElement("title",{id:n},a):null,Qs||(Qs=s.createElement("path",{d:"M12.0001 0C5.3735 0 0 5.50144 0 12.2881C0 17.7173 3.43839 22.3234 8.2064 23.9482C8.80613 24.062 9.0263 23.6817 9.0263 23.3571C9.0263 23.0641 9.01518 22.0961 9.01001 21.0693C5.67157 21.8127 4.96712 19.6195 4.96712 19.6195C4.42125 18.1992 3.63473 17.8215 3.63473 17.8215C2.54596 17.0588 3.7168 17.0745 3.7168 17.0745C4.92181 17.1612 5.55632 18.3408 5.55632 18.3408C6.6266 20.2194 8.36359 19.6763 9.04836 19.3623C9.15607 18.5681 9.46706 18.026 9.81024 17.7191C7.14486 17.4084 4.34295 16.3548 4.34295 11.6463C4.34295 10.3047 4.81172 9.20855 5.57937 8.34801C5.45477 8.0385 5.04402 6.78869 5.69562 5.0961C5.69562 5.0961 6.70331 4.76584 8.9965 6.35568C9.95372 6.08341 10.9803 5.94687 12.0001 5.94219C13.0199 5.94687 14.0473 6.08341 15.0063 6.35568C17.2967 4.76584 18.303 5.0961 18.303 5.0961C18.9562 6.78869 18.5452 8.0385 18.4206 8.34801C19.1901 9.20855 19.6557 10.3047 19.6557 11.6463C19.6557 16.366 16.8484 17.4052 14.1762 17.7094C14.6067 18.0907 14.9902 18.8385 14.9902 19.985C14.9902 21.6291 14.9763 22.9524 14.9763 23.3571C14.9763 23.6841 15.1923 24.0673 15.8006 23.9466C20.566 22.32 24 17.7155 24 12.2881C24 5.50144 18.6273 0 12.0001 0ZM4.49443 17.5047C4.468 17.5657 4.3742 17.584 4.28876 17.5421C4.20172 17.502 4.15283 17.4188 4.18105 17.3575C4.20688 17.2947 4.30088 17.2772 4.38772 17.3193C4.47495 17.3594 4.52463 17.4434 4.49443 17.5047ZM5.0847 18.044C5.02747 18.0983 4.91559 18.0731 4.83968 17.9872C4.76119 17.9016 4.74648 17.787 4.80451 17.7318C4.86353 17.6775 4.97203 17.7029 5.05072 17.7886C5.12921 17.8753 5.14451 17.9891 5.0847 18.044ZM5.48965 18.734C5.41612 18.7863 5.2959 18.7373 5.22158 18.628C5.14805 18.5188 5.14805 18.3877 5.22317 18.3352C5.29769 18.2827 5.41612 18.3299 5.49144 18.4384C5.56476 18.5495 5.56476 18.6805 5.48965 18.734ZM6.1745 19.5332C6.10873 19.6075 5.96863 19.5876 5.86609 19.4862C5.76117 19.3871 5.73196 19.2465 5.79793 19.1722C5.8645 19.0978 6.00539 19.1187 6.10873 19.2193C6.21285 19.3181 6.24465 19.4598 6.1745 19.5332ZM7.05961 19.803C7.0306 19.8993 6.89567 19.943 6.75975 19.9021C6.62402 19.86 6.5352 19.7473 6.56262 19.65C6.59084 19.5531 6.72636 19.5076 6.86328 19.5513C6.9988 19.5932 7.08783 19.7052 7.05961 19.803ZM8.0669 19.9175C8.07028 20.0188 7.95502 20.1028 7.81235 20.1047C7.66887 20.1079 7.55282 20.0259 7.55123 19.9262C7.55123 19.8239 7.6639 19.7406 7.80738 19.7382C7.95006 19.7353 8.0669 19.8167 8.0669 19.9175ZM9.05645 19.8786C9.07354 19.9775 8.97438 20.0791 8.8327 20.1061C8.6934 20.1322 8.56443 20.0711 8.54674 19.973C8.52945 19.8717 8.6304 19.7702 8.7695 19.7439C8.91139 19.7187 9.03837 19.7781 9.05645 19.8786Z",fill:"currentColor"})))}var sc=s.forwardRef(rc),cc=(a.p,function(e){var t=e.className;return Object($e.jsx)("div",{className:t,children:Object($e.jsx)(sc,{})})}),oc=a.p+"static/media/Privacy_policy.d5afb133.pdf",ic=a(53),lc=a.n(ic),uc=function(){return Object($e.jsx)("footer",{className:lc.a.root,children:Object($e.jsxs)(ct,{className:lc.a.layout,children:[Object($e.jsxs)("section",{className:lc.a.section,children:[Object($e.jsx)(nt,{className:lc.a.logo,type:Qe.CURRENT_COLOR}),Object($e.jsxs)("div",{className:lc.a.links,children:[Object($e.jsx)("a",{href:"https://www.roke.to/#page-top",target:"_blank",rel:"noreferrer",children:"About"}),Object($e.jsx)("a",{href:"https://www.roke.to/#how-work",target:"_blank",rel:"noreferrer",children:"Features"}),Object($e.jsx)("a",{href:"https://www.roke.to/#used-technologies",target:"_blank",rel:"noreferrer",children:"Docs"}),Object($e.jsx)("a",{href:"https://www.roke.to/#team",target:"_blank",rel:"noreferrer",children:"Team"}),Object($e.jsx)("a",{href:"https://www.roke.to/#blog",target:"_blank",rel:"noreferrer",children:"Blog"}),Object($e.jsx)("a",{href:"https://kikimora-labs.notion.site/Jobs-68acb030fcac42a18ae7c62a56779d5b",target:"_blank",rel:"noreferrer",children:"Jobs"})]})]}),Object($e.jsxs)("section",{className:lc.a.section,children:[Object($e.jsxs)("div",{className:lc.a.legal,children:[Object($e.jsx)("a",{href:oc,target:"_blank",rel:"noreferrer",children:"Privacy Policy"}),Object($e.jsx)("a",{href:"https://uploads-ssl.webflow.com/6136222580031d054842f5d6/617993de0d09ef005611beac_Cookie_Policy_of_Roketo.pdf",target:"_blank",rel:"noreferrer",children:"Cookie Policy"})]}),Object($e.jsxs)("div",{className:lc.a.socials,children:[Object($e.jsx)("a",{href:"https://twitter.com/roketostream",target:"_blank",rel:"noreferrer",children:Object($e.jsx)(ec,{})}),Object($e.jsx)("a",{href:"https://t.me/roketochat",target:"_blank",rel:"noreferrer",children:Object($e.jsx)(Ys,{})}),Object($e.jsx)("a",{href:"https://github.com/roke-to",target:"_blank",rel:"noreferrer",children:Object($e.jsx)(cc,{})})]})]}),Object($e.jsxs)("section",{className:lc.a.jurInfo,children:["ROKETO LABS LTD",Object($e.jsx)("br",{}),"Registered address: Intershore Chambers, Road Town, Tortola, British Virgin Islands",Object($e.jsx)("br",{}),"Registration number: 2089289",Object($e.jsx)("br",{}),"Build info: ",v.COMMIT_HASH," ",v.BUILD_TIME]})]})})},dc=a(82),mc=a.n(dc),jc=function(e){var t=e.title,a=e.children,n=e.isOpen,r=void 0===n||n,s=e.onCloseModal;return Object($e.jsx)(u.a,{isOpen:r,onRequestClose:s,className:mc.a.content,overlayClassName:mc.a.overlay,bodyOpenClassName:mc.a.bodyOverflowHidden,children:Object($e.jsxs)("div",{children:[Object($e.jsx)("span",{className:mc.a.close,onClick:s}),Object($e.jsx)("h2",{className:mc.a.title,children:t}),Object($e.jsx)("div",{className:mc.a.contentContainer,children:a})]})})},bc=a(54),fc=a.n(bc),pc=a(61),hc=Object(_.e)(),_c=Object(_.a)({source:Ae,effect:function(e,t){return Object(f.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,null===e||void 0===e?void 0:e.roketo.api.withdraw({streamIds:t});case 2:case"end":return a.stop()}}),a)})))()}}),Oc=Object(_.g)({tokenData:[],streamIds:[]}),vc=Oc.map((function(e){return e.tokenData}));function xc(){var e=Object(d.c)(vc);return Object($e.jsx)(fn,{placement:"bottom",align:{offset:[0,20]},overlay:Object($e.jsxs)("div",{className:fc.a.root,children:[Object($e.jsx)("p",{className:fc.a.description,children:"Move all received tokens to your wallet."}),Object($e.jsxs)("div",{className:fc.a.preparedTokensWrapper,"data-testid":le.withdrawTooltip,children:[0!==e.length&&e.map((function(e){return Object($e.jsxs)("div",{className:fc.a.preparedToken,children:[Object($e.jsx)(Jt,{tokenAccountId:e.tokenAccountId}),Object($e.jsxs)("div",{className:fc.a.info,children:[Object($e.jsx)("span",{className:fc.a.amount,children:e.amount}),Object($e.jsx)("span",{className:fc.a.symbol,children:e.symbol})]})]},e.tokenAccountId)})),0===e.length&&Object($e.jsx)("p",{className:fc.a.description,children:"You have nothing to withdraw"})]})]}),children:Object($e.jsx)(dt,{onClick:function(){return hc()},testId:le.withdrawAllButton,displayMode:0!==e.length?tt.action:tt.secondary,className:0!==e.length?void 0:fc.a.notAllowed,children:"Withdraw tokens"})})}Object(_.j)({clock:hc,source:Oc.map((function(e){return e.streamIds})),filter:function(e){return e.length>0},target:_c}),Object(_.j)({source:{tokens:Ie,streams:Le},target:Oc,fn:function(e){var t,a=e.tokens,n=e.streams.inputs.filter(P),r={},s=[],c=Object(pc.a)(n);try{for(c.s();!(t=c.n()).done;){var o=t.value,i=o.token_account_id,l=H(o);"0"!==l.toFixed()&&s.push(o.id),r[i]?r[i].available=r[i].available.plus(l):r[i]={available:l,tokenAccountId:i}}}catch(u){c.e(u)}finally{c.f()}return{tokenData:Object.values(r).map((function(e){var t=a[e.tokenAccountId];return{tokenAccountId:e.tokenAccountId,amount:t.formatter.amount(e.available.toFixed()),symbol:t.meta.symbol}})),streamIds:s}}});var yc,gc,wc=a(153),Nc=a.n(wc),kc=function(e){var t=e.directions,a=e.activeDirection,n=e.onDirectionClick,r=e.isInactive;return Object($e.jsx)("div",{className:Nc.a.root,children:t.map((function(e){return Object($e.jsx)(dt,{className:ze()(Nc.a.sort,Object(ee.a)({},Nc.a.active,e===a)),onClick:function(){return n(e)},disabled:r,children:e},e)}))})};function Cc(e){var t=e.options,a=Object(s.useMemo)((function(){return Object.keys(t)}),[t]),n=Object(s.useState)(a[0]),r=Object(b.a)(n,2),c=r[0],o=r[1];return Object(s.useMemo)((function(){var e=t[c];return{option:c,selectOption:o,options:t,optionsArray:a,currentFilterFunction:e}}),[t,c,a])}var Sc="All",Ac="Incoming",Ic="Outgoing",Rc=(yc={ALL:"All"},Object(ee.a)(yc,T,"Initialized"),Object(ee.a)(yc,E,"Active"),Object(ee.a)(yc,B,"Paused"),yc),Lc=(gc={},Object(ee.a)(gc,Rc.ALL,(function(){return!0})),Object(ee.a)(gc,Rc[T],(function(e){return e.status===T})),Object(ee.a)(gc,Rc[E],(function(e){return e.status===E})),Object(ee.a)(gc,Rc[B],(function(e){return e.status===B})),gc);function Tc(e){var t=Object(d.d)({store:Ee,keys:[],fn:function(e){var t;return t={},Object(ee.a)(t,Sc,(function(){return!0})),Object(ee.a)(t,Ac,(function(t){return e===t.receiver_id})),Object(ee.a)(t,Ic,(function(t){return e===t.owner_id})),t}}),a=Cc({options:Lc}),n=Cc({options:t}),r=function(e){var t=e.items,a=e.filters,n=Object(s.useState)(void 0),r=Object(b.a)(n,2),c=r[0],o=r[1],i=Object(s.useState)([]),l=Object(b.a)(i,2),u=l[0],d=l[1];return Object(s.useEffect)((function(){var e=t,n=[];a.forEach((function(t){var a={};Object.keys(t.options).forEach((function(n){var r;a[n]=null===(r=e)||void 0===r?void 0:r.filter(t.options[n])}));var r={};Object.keys(a).forEach((function(e){r[e]=(a[e]||[]).length})),n.push(r),e=a[t.option]})),d(n),o(e)}),[t,a]),{filterCounts:u,filteredItems:c}}({items:e,filters:Object(s.useMemo)((function(){return[n,a]}),[n,a])});return{statusFilter:a,directionFilter:n,result:r}}var Ec=a(154),Bc=a.n(Ec);function Mc(e,t,a){return Number(t[a])-Number(e[a])}var Pc={bigBalanceFirst:{label:"With high amount",order:In.desc,fn:function(e,t){return Mc(e,t,"balance")}},highSpeedFirst:{label:"With high speed",order:In.desc,fn:function(e,t){return Mc(e,t,"tokens_per_sec")}},highSpeedLast:{label:"With low speed",order:In.asc,fn:function(e,t){return-1*Mc(e,t,"tokens_per_sec")}},mostRecent:{label:"Most recent",order:In.desc,fn:function(e,t){return Mc(e,t,"timestamp_created")}}};function Fc(e){var t=e.items,a=e.onFilterDone,n=e.className,r=Tc(t),c=r.result.filteredItems,o=Object(s.useState)(Pc.mostRecent),i=Object(b.a)(o,2),l=i[0],u=i[1],d=Object.values(Pc),m=!t||0===t.length;return Object(s.useEffect)((function(){if(c){var e=Object(Ja.a)(c);e.sort(l.fn),a(e)}else a(c)}),[c,a,l.fn]),Object($e.jsxs)("div",{className:ze()(Bc.a.root,n),children:[Object($e.jsx)(kc,{directions:r.directionFilter.optionsArray,activeDirection:r.directionFilter.option,onDirectionClick:r.directionFilter.selectOption,isInactive:m}),Object($e.jsxs)("div",{className:Bc.a.filtersWrapper,children:[Object($e.jsx)(Hn,{options:r.statusFilter.optionsArray,label:"Status:",active:r.statusFilter.option,onChange:r.statusFilter.selectOption,isDisabled:m,renderOption:function(e){var t=r.result.filterCounts[1];return Object($e.jsx)(Dn,{option:e,count:t?t[e]:""},e)}}),Object($e.jsx)(Hn,{options:d,label:"Show first:",active:l,onChange:u,isDisabled:m,renderOption:function(e){return Object($e.jsx)("span",{children:e.label})},renderActive:function(e){return Object($e.jsxs)("div",{className:Bc.a.sortWithOrder,children:[e.order&&Object($e.jsx)(Tn,{type:e.order}),Object($e.jsx)("span",{children:e.label})]})}})]})]})}var Dc=a(56),Hc=function(e){var t=e.width,a=void 0===t?20:t,n=e.height,r=void 0===n?20:n,s=e.className;return Object($e.jsx)("div",{className:s,children:Object($e.jsx)("svg",{width:a,height:r,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object($e.jsx)("path",{d:"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM11 15H9V13H11V15ZM11 11H9V5H11V11Z",fill:"#D80A1F"})})})},Vc=["placeholder","description","isRequired","className","field","form","label"],Wc=function(e){var t=e.placeholder,a=e.description,n=e.isRequired,r=e.className,s=e.field,c=e.form,o=e.label,i=Object(ot.a)(e,Vc),l=c.errors[s.name];return Object($e.jsx)(Qr,{isRequired:n,className:r,description:a,label:o,error:l,children:Object($e.jsx)(zr,Object(K.a)(Object(K.a)({required:n,hasError:Boolean(l),placeholder:t},s),i))})},Uc=a(101),Zc=a.n(Uc),qc=["description","className","hasError","disabled","value"],Kc=function(e){var t=e.description,a=e.className,n=e.hasError,r=void 0!==n&&n,s=e.disabled,c=void 0!==s&&s,o=e.value,i=Object(ot.a)(e,qc);return Object($e.jsxs)("label",{className:ze()(Zc.a.root,c&&Zc.a.disabled,a),children:[Object($e.jsx)("input",Object(K.a)(Object(K.a)({type:"checkbox",className:ze()(Zc.a.checkbox,Object(ee.a)({},Zc.a.error,r)),disabled:c},i),{},{checked:!c&&Boolean(o)})),t&&Object($e.jsx)("div",{className:Zc.a.description,children:t})]})},Yc=["description","isRequired","className","label","field","form"],zc=function(e){var t=e.description,a=e.isRequired,n=e.className,r=e.label,s=e.field,c=e.form,o=Object(ot.a)(e,Yc),i=c.errors[s.name];return Object($e.jsx)(Qr,{isRequired:a,className:n,label:r,error:i,children:Object($e.jsx)(Kc,Object(K.a)(Object(K.a)({description:t,required:a,hasError:Boolean(i)},s),o))})},Jc=a(194),Xc=a.n(Jc),Gc=["className","hasError"],Qc=function(e){var t=e.className,a=e.hasError,n=void 0!==a&&a,r=Object(ot.a)(e,Gc);return Object($e.jsx)("textarea",Object(K.a)({className:ze()(Xc.a.textarea,Object(ee.a)({},Xc.a.error,n),t)},r))},$c=a(195),eo=a.n($c),to=["placeholder","description","isRequired","className","maxLength","field","label","form"],ao=function(e){var t,a=e.placeholder,n=e.description,r=e.isRequired,s=e.className,c=e.maxLength,o=e.field,i=e.label,l=e.form,u=Object(ot.a)(e,to),d=l.errors[o.name];return Object($e.jsxs)(Qr,{isRequired:r,className:ze()(eo.a.formfield,s),description:n,label:i,error:d,children:[Object($e.jsx)(Qc,Object(K.a)(Object(K.a)({required:r,hasError:Boolean(d),placeholder:a,maxLength:c},o),u)),c&&Object($e.jsx)("span",{className:eo.a.textLimitCounter,children:"".concat((null===o||void 0===o||null===(t=o.value)||void 0===t?void 0:t.length)||0,"/").concat(c)})]})};var no=/^[0-9]+$/,ro=a(65),so=a.n(ro),co=function(e){var t=e.className,a=e.value,n=e.onChange,r=e.label,s=e.testId;return Object($e.jsxs)("div",{className:ze()(so.a.speedInput,t),children:[Object($e.jsx)(zr,{placeholder:"0",value:a,onChange:n,className:so.a.input,"data-testid":s}),Object($e.jsx)("label",{className:so.a.label,children:r})]})},oo=function(e){var t=e.form,a=e.field,n=e.label,r=e.deposit,c=e.className,o=e.isRequired,i=e.description,l=e.onSpeedChange,u=e.tokenAccountId,m=Object(d.c)(Ie)[u],j=m.formatter,f=t.errors[a.name],p=a.value,h=Object(s.useState)(0),_=Object(b.a)(h,2),O=_[0],v=_[1],x=Object(s.useState)(0),y=Object(b.a)(x,2),g=y[0],w=y[1],N=Object(s.useState)(0),k=Object(b.a)(N,2),C=k[0],S=k[1],I=Object(s.useState)(0),R=Object(b.a)(I,2),L=R[0],T=R[1],E=j.toYocto(r),B=function(e,t,a,n){return(Object(Mt.a)(Object(Pt.a)(new Date,e),new Date)+t)*re+60*n+a*ne}(O,g,L,C),M=function(e,t){var a=new A.a(e).dividedToIntegerBy(t).toFixed();return"Infinity"!==a&&"NaN"!==a?a:"0"}(E,B),P=function(e){var t=Object(s.useRef)(e);return Object(s.useEffect)((function(){t.current=e}),[e]),t.current}(M);Object(s.useEffect)((function(){P!==M&&l(M)}),[M,l,P]);var F=function(e,t){return function(a){var n,r=a.target.value||"0";n=r,no.test(n)&&Number(r)<=t&&e(Number(r))}},D=Ft(p,m),H=Object($e.jsxs)("div",{className:so.a.formLabel,children:[n,Object($e.jsx)("span",{className:ze()(so.a.speed,so.a.label),children:"Streaming speed: ".concat(D)})]});return Object($e.jsx)(Qr,{isRequired:o,className:ze()(so.a.formField,c),description:i,label:H,error:f,children:Object($e.jsxs)("div",{className:so.a.wrapper,children:[Object($e.jsx)(co,{value:O,onChange:F(v,12),label:"Months, max: 12",testId:le.createStreamMonthsInput}),Object($e.jsx)(co,{value:g,onChange:F(w,31),label:"Days, max: 31",testId:le.createStreamDaysInput}),Object($e.jsx)(co,{value:L,onChange:F(T,24),label:"Hours, max: 24",testId:le.createStreamHoursInput}),Object($e.jsx)(co,{value:C,onChange:F(S,60),label:"Minutes, max: 60",testId:le.createStreamMinutesInput})]})})},io=a(102),lo=a.n(io),uo=function(e){var t=e.token,a=e.onClick,n=e.className,r=ze()(lo.a.tokenOption,n),s=Object($e.jsxs)($e.Fragment,{children:[Object($e.jsx)(Jt,{tokenAccountId:t.roketoMeta.account_id}),Object($e.jsx)("span",{children:"".concat(t.meta.name,", ").concat(t.meta.symbol)})]});return a?Object($e.jsx)("button",{type:"button",className:r,onClick:a,children:s}):Object($e.jsx)("div",{className:r,children:s})},mo=function(e){var t=e.form,a=e.label,n=e.field,r=e.className,c=e.isRequired,o=e.description,i=e.onTokenChoose,l=e.activeTokenAccountId,u=Object(d.c)(Ie),m=Object(s.useState)(!1),j=Object(b.a)(m,2),f=j[0],p=j[1],h=Object.values(u),_=u[l],O=t.errors[n.name];return Object($e.jsx)(Qr,{isRequired:c,className:r,description:o,label:a,error:O,children:Object($e.jsxs)("div",{className:lo.a.dropdownWrapper,children:[Object($e.jsx)(Bt,{onChange:p,className:lo.a.dropdownOpener,opened:f,children:Object($e.jsx)(uo,{token:_})}),Object($e.jsx)(la,{opened:f,onClose:function(){return p(!1)},className:lo.a.dropdownMenu,children:h.map((function(e){return Object($e.jsx)(uo,{token:e,onClick:function(){return function(e){p(!1),i(e.roketoMeta.account_id)}(e)},className:lo.a.withHover},e.meta.name)}))})]})})},jo=a(262),bo=a.n(jo),fo=a(263),po=a.n(fo),ho=function(e){var t=e.form,a=e.label,n=e.field,r=e.className,s=e.onCliffDateTimeChange,c=t.errors[n.name];return Object($e.jsx)(Qr,{className:r,label:a,error:c,children:Object($e.jsx)(bo.a,{className:po.a.maxWidth,amPmAriaLabel:"Select AM/PM",calendarAriaLabel:"Toggle calendar",clearAriaLabel:"Clear value",dayAriaLabel:"Day",hourAriaLabel:"Hour",maxDetail:"second",minuteAriaLabel:"Minute",monthAriaLabel:"Month",nativeInputAriaLabel:"Date and time",onChange:s,secondAriaLabel:"Second",value:t.values[n.name],yearAriaLabel:"Year"})})},_o={receiver:"",streamName:"",token:v.WNEAR_ID,speed:0,deposit:0,delayed:!1,comment:"",isLocked:!1,cliffDateTime:null},Oo=a(67),vo=Object(_.a)({source:Ee,effect:function(e,t){return!!e&&t!==e}}),xo=Object(_.a)({source:Se,effect:function(e,t){return Object(f.a)(h.a.mark((function a(){var n;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&t){a.next=2;break}return a.abrupt("return",!1);case 2:return a.prev=2,a.next=5,e.near.connection.provider.query({request_type:"view_account",finality:"final",account_id:t});case 5:return n=a.sent,a.abrupt("return",Boolean(n));case 9:return a.prev=9,a.t0=a.catch(2),a.abrupt("return",!1);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))()}}),yo=Oo.c().shape({receiver:Oo.d().required("Receiver is required").test("receiver-not-equal-owner","Receiver can not be the same as the owner",vo).test("receiver-is-valida-address","Address does not exists",xo),streamName:Oo.d().max(100,"Stream name must be less or equal 100 symbols"),token:Oo.d().required(),deposit:Oo.b().required("Deposit is required").moreThan(0,"Deposit should be more than 0"),speed:Oo.b().required("Stream duration is required").moreThan(0,"Choose stream duration"),autoStart:Oo.a(),comment:Oo.d().max(80)}),go=a(38),wo=a.n(go),No=function(e){var t=e.children,a=e.className;return Object($e.jsx)("div",{className:ze()(wo.a.row,a),children:t})},ko=Object($e.jsxs)("div",{children:["Delayed start",Object($e.jsxs)("div",{className:wo.a.subDescription,children:["Select this if you want the stream not to start immediately,",Object($e.jsx)("br",{}),"you'll need to start it manually from stream page",Object($e.jsx)("br",{}),"(streams with cliff cannot be delayed)"]})]}),Co=Object($e.jsxs)("div",{children:["Uneditable stream",Object($e.jsxs)("div",{className:wo.a.subDescription,children:["If you select this field, you will not be able",Object($e.jsx)("br",{}),"to carry out any actions on the stream"]})]}),So=function(e){var t=e.onFormCancel,a=e.onFormSubmit,n=Object(d.c)(Ie),r=Object(s.useState)(null),c=Object(b.a)(r,2),o=c[0],i=c[1];return Object($e.jsxs)("div",{className:wo.a.root,children:[Object($e.jsx)("h2",{className:wo.a.title,children:"Create Stream"}),Object($e.jsx)(Dc.b,{initialValues:_o,onSubmit:function(e){a(e).catch((function(e){return i(e)}))},validateOnBlur:!0,validationSchema:yo,validateOnChange:!1,validateOnMount:!1,children:function(e){var a=e.values,r=e.handleSubmit,s=e.setFieldValue,c=e.setFieldTouched,i=e.validateField,l=a.token,u=n[l],d=u.meta,m=u.formatter,j=u.roketoMeta;return Object($e.jsxs)("form",{onSubmit:r,className:wo.a.form,children:[Object($e.jsxs)(No,{children:[Object($e.jsx)(Dc.a,{isRequired:!0,name:"receiver",label:"Receiver:",component:Wc,placeholder:"receiver.".concat(v.ACCOUNT_SUFFIX),className:wo.a.rowItem,"data-testid":le.createStreamReceiverInput}),Object($e.jsx)(Dc.a,{isRequired:!0,name:"token",label:"Token",activeTokenAccountId:a.token,onTokenChoose:function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("token",t,!1);case 2:return e.next=4,c("token",!0,!1);case 4:i("token");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),component:mo,className:wo.a.rowItem})]}),Object($e.jsxs)(No,{className:wo.a.amount,children:[Object($e.jsx)(Dc.a,{isRequired:!0,name:"deposit",label:"Amount to stream:",component:Wc,placeholder:"Amount to stream",className:wo.a.rowItem,description:Object($e.jsx)(Dr,{tokenAccountId:l,mode:Ar.CRYPTO}),"data-testid":le.createStreamAmountInput}),Object($e.jsx)(Dc.a,{name:"cliffDateTime",label:"Cliff period",component:ho,onCliffDateTimeChange:function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("cliffDateTime",t,!1);case 2:return e.next=4,c("cliffDateTime",!0,!1);case 4:i("cliffDateTime");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:wo.a.rowItem})]}),Object($e.jsx)(No,{children:Object($e.jsx)(Dc.a,{tokenAccountId:l,isRequired:!0,name:"speed",label:"Stream duration:",deposit:a.deposit,component:oo,onSpeedChange:function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("speed",t,!1);case 2:return e.next=4,c("speed",!0,!1);case 4:i("speed");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:wo.a.rowItem})}),Object($e.jsx)(No,{children:Object($e.jsx)(Dc.a,{maxLength:80,name:"comment",label:"Comment:",placeholder:"Enter comment",component:ao,className:wo.a.rowItem,"data-testid":le.createStreamCommentInput})}),Object($e.jsxs)(No,{className:wo.a.checkboxes,children:[Object($e.jsx)(Dc.a,{name:"delayed",disabled:Boolean(a.cliffDateTime),description:ko,type:"checkbox",component:zc,"data-testid":le.createStreamDelayedCheckbox}),Object($e.jsx)(Dc.a,{name:"isLocked",description:Co,type:"checkbox",component:zc,"data-testid":le.createStreamLockedCheckbox})]}),Object($e.jsx)(No,{children:d&&Object($e.jsx)("div",{className:wo.a.feeDisclaimer,children:"You will be charged \n                      ".concat(m.amount(j.commission_on_create)," \n                      ").concat(d.symbol," fee for the stream")})}),Object($e.jsxs)("div",{className:wo.a.actionButtonsWrapper,children:[o&&Object($e.jsxs)("div",{className:wo.a.submitError,children:[Object($e.jsx)(Hc,{}),Object($e.jsx)("span",{children:o.message})]}),Object($e.jsx)(dt,{displayMode:tt.simple,onClick:t,testId:le.createStreamCancelButton,children:"Cancel"}),Object($e.jsx)(dt,{type:et.submit,displayMode:tt.action,testId:le.createStreamSubmitButton,children:"Create"})]})]})}})]})},Ao=a(155),Io=a.n(Ao),Ro=function(e){var t=e.title,a=e.total,n=e.streamed,r=void 0===n?0:n,s=e.withdrawn,c=void 0===s?0:s,o=e.withProgressBar,i=void 0===o||o,l=e.testId,u=r?"$ ".concat(r," of ").concat(a):"$ ".concat(a);return Object($e.jsxs)("div",{className:Io.a.card,children:[Object($e.jsx)("h3",{className:Io.a.title,children:t}),Object($e.jsx)("span",{className:Io.a.finance,"data-testid":l,children:u}),i&&Object($e.jsx)(Ut,{total:String(a),streamed:String(r),withdrawn:String(c)})]})},Lo=new A.a(0),To=function(e,t,a){var n=e.reduce((function(e,n){var r=n.token_account_id,s=t[r].formatter,c=H(n).toFixed(),o=s.toHumanReadableValue(c,3),i=a.getPriceInUsd(r,o);return e.plus(i)}),Lo);return Number(n.toFixed(0))},Eo=function(e,t,a){var n={total:Lo,streamed:Lo,withdrawn:Lo},r=e.reduce((function(e,n){var r=n.token_account_id,s=t[r].formatter,c=fs(n).progress,o=s.toHumanReadableValue(c.streamed,3),i=a.getPriceInUsd(r,o),l=s.toHumanReadableValue(c.full,3),u=a.getPriceInUsd(r,l),d=s.toHumanReadableValue(c.withdrawn,3),m=a.getPriceInUsd(r,d);return{total:e.total.plus(u),streamed:e.streamed.plus(i),withdrawn:e.withdrawn.plus(m)}}),n);return{total:Number(r.total.toFixed(0)),streamed:Number(r.streamed.toFixed(0)),withdrawn:Number(r.withdrawn.toFixed(0))}},Bo=Object(_.g)({outcomeAmountInfo:{total:0,streamed:0,withdrawn:0},incomeAmountInfo:{total:0,streamed:0,withdrawn:0},availableForWithdrawal:0});Object(_.j)({source:{tokens:Ie,streams:Le,priceOracle:Re},fn:function(e){var t=e.tokens,a=e.streams,n=a.inputs,r=a.outputs,s=e.priceOracle,c=n.filter(P),o=r.filter(P);return{outcomeAmountInfo:Eo(o,t,s),incomeAmountInfo:Eo(c,t,s),availableForWithdrawal:To(c,t,s)}},target:Bo});var Mo=a(267),Po=a.n(Mo),Fo=function(e){var t=e.className,a=Object(d.c)(Bo),n=a.outcomeAmountInfo,r=a.incomeAmountInfo,s=a.availableForWithdrawal;return Object($e.jsxs)("section",{className:ze()(Po.a.root,t),children:[Object($e.jsx)(Ro,{title:"Sending",total:n.total,streamed:n.streamed,withdrawn:n.withdrawn}),Object($e.jsx)(Ro,{title:"Receiving",total:r.total,streamed:r.streamed,withdrawn:r.withdrawn}),Object($e.jsx)(Ro,{title:"Available for withdrawal",total:s,withProgressBar:!1,testId:le.availableForWithdrawalCaption})]})},Do=a(156),Ho=a.n(Do);function Vo(e){var t=e.isOrange,a=e.children,n=e.className;return Object($e.jsx)("span",{className:ze()(Ho.a.badge,t?Ho.a.orange:Ho.a.blue,n),children:a})}var Wo,Uo=a(198),Zo=a.n(Uo),qo=function(e){var t=e.name,a=e.isOutgoing,n=e.isLocked;return Object($e.jsxs)("div",{className:Zo.a.flexCenter,children:[Object($e.jsx)("span",{className:Zo.a.name,children:t}),a&&Object($e.jsx)(Vo,{children:"Sending"}),n&&Object($e.jsx)(Vo,{isOrange:!0,children:"Locked"})]})},Ko=a(29),Yo=a.n(Ko),zo={points:["tl","bc"],offset:[-24,10]},Jo=function(e){var t=e.stream,a=e.className,n=t.token_account_id,r=t.tokens_per_sec,s=fs(t),c=s.progress,o=s.timeLeft,i=s.percentages,l=Fr(n),u=l.formatter,d=l.meta.symbol,m=Number(u.toHumanReadableValue(c.streamed,3)),j=Number(u.toHumanReadableValue(c.withdrawn,3)),b=Number(u.toHumanReadableValue(c.full,3)),f=ue.formatSmartly(m),p=ue.formatSmartly(j),h=Ht(c.streamed,c.full,1),_=Ht(c.withdrawn,c.streamed,1),O="".concat(f," of ").concat(b),v=u.tokensPerMeaningfulPeriod(r),x=v.formattedValue,y=v.unit;return Object($e.jsx)(mn.a,{overlayClassName:Yo.a.overlay,destroyTooltipOnHide:!0,align:zo,placement:"bottom",overlay:Object($e.jsxs)("div",{className:ze()(Yo.a.tooltip,Yo.a.text),children:[Object($e.jsxs)("div",{className:Yo.a.innerStatus,children:[Object($e.jsx)("span",{children:O})," ",Object($e.jsx)("span",{className:ze()(Yo.a.grey,Yo.a.smaller),children:d})]}),Object($e.jsx)(Ut,{total:c.full,streamed:c.streamed,withdrawn:c.withdrawn,cliffPercent:i.cliff}),Object($e.jsxs)("div",{className:ze()(Yo.a.status,Yo.a.speed),children:[x," ",Object($e.jsxs)("span",{className:ze()(Yo.a.grey,Yo.a.smaller),children:[d," / ",y]})]}),o&&Object($e.jsxs)("div",{className:Yo.a.remained,children:[Object($e.jsx)(ir,{className:Yo.a.clock}),o]}),Object($e.jsxs)("div",{className:ze()(Yo.a.progress,Yo.a.streamed),children:["Streamed: ",f," ",Object($e.jsx)("span",{className:ze()(Yo.a.grey,Yo.a.smaller),children:"".concat(h,"%")})]}),Object($e.jsxs)("div",{className:ze()(Yo.a.progress,Yo.a.withdrawn),children:["Withdrawn: ",p," ",Object($e.jsx)("span",{className:ze()(Yo.a.grey,Yo.a.smaller),children:"".concat(_,"%")})]})]}),children:Object($e.jsxs)("div",{className:ze()(Yo.a.root,Yo.a.text,a),children:[Object($e.jsxs)("div",{className:Yo.a.status,children:[Object($e.jsx)("span",{"data-testid":le.streamProgressCaption,children:O})," ",Object($e.jsx)("span",{className:Yo.a.grey,children:d})]}),Object($e.jsx)(Ut,{total:c.full,streamed:c.streamed,withdrawn:c.withdrawn,cliffPercent:i.cliff})]})})},Xo=a(157),Go=a.n(Xo),Qo=["stream","small"];function $o(e){var t,a=e.stream,n=e.small,r=void 0!==n&&n,s=Object(ot.a)(e,Qo),c=Object(d.c)(Ie),o=Object(d.c)(Ae),i=H(a),l=fs(a).percentages,u=l.cliff,m=l.streamed,j=c[a.token_account_id].formatter.amount(i.toFixed()),b=!u||m>u,f=Object($e.jsx)(dt,Object(K.a)(Object(K.a)({disabled:0===Number(j),type:et.button,displayMode:b?tt.primary:tt.secondary,className:ze()((t={},Object(ee.a)(t,Go.a.notAllowed,!b),Object(ee.a)(t,Go.a.small,r),t)),onClick:b?function(e){e.preventDefault(),null===o||void 0===o||o.roketo.api.withdraw({streamIds:[a.id]})}:void 0,testId:le.withdrawButton},s),{},{children:"Withdraw"}));return b?f:Object($e.jsx)(fn,{placement:"bottom",align:{offset:[0,20]},overlay:Object($e.jsx)("div",{className:Go.a.hasntPassedCliff,children:"Cliff period isn't passed yet."}),children:f})}function ei(e){var t=c.a.useState(e),a=Object(b.a)(t,2),n=a[0],r=a[1];return{on:n,off:!n,toggle:function(){return r(!n)},turnOff:function(){return r(!1)},turnOn:function(){return r(!0)},setOn:r}}var ti=(Wo={},Object(ee.a)(Wo,T,{label:"Initialized"}),Object(ee.a)(Wo,E,{label:"Active"}),Object(ee.a)(Wo,B,{label:"Paused"}),Object(ee.a)(Wo,M,{label:"Finished"}),Wo);function ai(e){var t=e.stream,a=e.className,n="string"===typeof t.status?ti[t.status]:ti[M];return Object($e.jsx)("div",{className:ze()(a),children:n.label})}var ni=Object(_.a)({source:Ae,effect:function(e,t){return Object(f.a)(h.a.mark((function a(){var n,r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.command,r=t.streamId,e){a.next=3;break}return a.abrupt("return",null);case 3:a.t0=n,a.next="start"===a.t0?6:"pause"===a.t0?7:"stop"===a.t0?8:9;break;case 6:return a.abrupt("return",e.roketo.api.startStream({streamId:r}));case 7:return a.abrupt("return",e.roketo.api.pauseStream({streamId:r}));case 8:return a.abrupt("return",e.roketo.api.stopStream({streamId:r}));case 9:return a.abrupt("return",null);case 10:case"end":return a.stop()}}),a)})))()}}),ri=ni.pending,si=ni.prepend((function(e){return{streamId:e,command:"start"}})),ci=ni.prepend((function(e){return{streamId:e,command:"pause"}})),oi=ni.prepend((function(e){return{streamId:e,command:"stop"}}));function ii(){return Object($e.jsx)("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",children:Object($e.jsx)("path",{d:"M1.66634 2.76016L5.17968 5.00016L1.66634 7.24016V2.76016ZM0.333008 0.333496V9.66683L7.66634 5.00016L0.333008 0.333496Z",fill:"currentColor"})})}function li(){return Object($e.jsx)("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",children:Object($e.jsx)("path",{d:"M0 9.66659H2.66667V0.333252H0V9.66659ZM5.33333 0.333252V9.66659H8V0.333252H5.33333Z",fill:"currentColor"})})}function ui(){return Object($e.jsx)("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:Object($e.jsx)("path",{d:"M6.66667 1.33333V6.66667H1.33333V1.33333H6.66667ZM8 0H0V8H8V0Z",fill:"currentColor"})})}var di=a(25),mi=a.n(di);function ji(e){var t=e.modalControl,a=e.onConfirm,n=e.header,r=e.buttonText,s=e.className,c=e.children;return Object($e.jsxs)(u.a,{isOpen:t.on,onRequestClose:t.turnOff,className:mi.a.modalContent,overlayClassName:mi.a.modalOverlay,children:[Object($e.jsx)("h2",{className:mi.a.modalHeader,children:n}),Object($e.jsx)("p",{children:c}),Object($e.jsxs)("div",{className:mi.a.modalButtons,children:[Object($e.jsx)("button",{type:"button",onClick:t.turnOff,className:ze()(mi.a.modalButton,mi.a.modalSecondary),children:"Cancel"}),Object($e.jsx)("button",{type:"button",onClick:function(){t.turnOff(),a()},className:ze()(mi.a.modalButton,s),children:r})]})]})}function bi(e){var t,a=e.stream,n=e.className,r=ei(!1),c=ei(!1),o=Object(d.c)(ri),i=Object(s.useState)(!1),l=Object(b.a)(i,2),u=l[0],m=l[1],j=Object(d.d)({store:Ee,keys:[a],fn:function(e){var t=e===a.owner_id,n=e===a.receiver_id;return{isOutgoing:t,isIncoming:n,isExternal:!t&&!n}}}),f=j.isOutgoing,p=j.isIncoming,h=j.isExternal;if(D(a)||h)return Object($e.jsx)(ai,{className:n,stream:a});var _=u&&!o,O=a.status!==E&&f,v=a.status===E&&!function(e){return Boolean(null===e||void 0===e?void 0:e.cliff)}(a),x=(t={},Object(ee.a)(t,mi.a.active,P(a)),Object(ee.a)(t,mi.a.pause,function(e){return e.status===B}(a)),Object(ee.a)(t,mi.a.stop,D(a)),t);return function(e){var t=e.is_locked,a=e.status;return t&&a!==T}(a)?Object($e.jsx)("div",{className:ze()(mi.a.relative,n),children:Object($e.jsx)("button",{type:"button",className:ze()(mi.a.dropdownOpener,mi.a.notAllowed),children:Object($e.jsx)(ai,{stream:a})})}):Object($e.jsxs)("div",{className:ze()(mi.a.relative,n),children:[Object($e.jsx)(ji,{modalControl:r,onConfirm:function(){return ci(a.id)},header:"Are you sure?",buttonText:"Pause",className:mi.a.modalWarning,children:"As a stream receiver, you will not be able to resume stream. Only stream owners can resume streams."}),Object($e.jsx)(ji,{modalControl:c,onConfirm:function(){return oi(a.id)},header:"Stop stream",buttonText:"Stop",className:mi.a.modalDanger,children:"This action will completely shut down the stream. After that, it can't be turned on."}),Object($e.jsx)(Bt,{opened:_,onChange:m,className:ze()(mi.a.dropdownOpener,x),testId:le.streamControlsDropdown,children:o?"Loading...":Object($e.jsx)(ai,{stream:a,className:mi.a.statusPadded})}),Object($e.jsxs)(la,{onClose:function(){return m(!1)},opened:_,className:mi.a.controlsMenu,children:[O&&Object($e.jsx)(ua,{children:Object($e.jsxs)("button",{type:"button",onClick:function(){return si(a.id)},className:ze()(mi.a.controlButton,mi.a.start),"data-testid":le.streamStartButton,children:[Object($e.jsx)(ii,{}),Object($e.jsx)("span",{children:"Start"})," "]})}),v&&Object($e.jsx)(ua,{children:Object($e.jsxs)("button",{type:"button",onClick:function(){m(!1),p?r.turnOn():ci(a.id)},className:ze()(mi.a.controlButton,mi.a.pause),"data-testid":le.streamPauseButton,children:[Object($e.jsx)(li,{}),Object($e.jsx)("span",{children:"Pause"})]})}),(O||v)&&Object($e.jsx)(da,{}),Object($e.jsx)(ua,{children:Object($e.jsxs)("button",{type:"button",onClick:function(){m(!1),c.turnOn()},className:ze()(mi.a.controlButton,mi.a.stop),"data-testid":le.streamStopButton,children:[Object($e.jsx)(ui,{}),Object($e.jsx)("span",{children:"Stop"})]})})]})]})}var fi=a(199),pi=a.n(fi),hi=function(e){var t=e.onCLick;return Object($e.jsx)("button",{className:pi.a.linkButton,type:"button",onClick:t,children:Object($e.jsx)(yt,{})})},_i=function(e){var t=e.className,a=e.stream,n=a.id,r=Object(s.useCallback)((function(e){e.preventDefault();var t=Xe(n);Ot()(t)}),[n]),c=ms(a)===us&&P(a);return Object($e.jsxs)("div",{className:ze()(pi.a.root,t),children:[c&&Object($e.jsx)($o,{stream:a,small:!0}),Object($e.jsx)(bi,{stream:a}),Object($e.jsx)(hi,{onCLick:r})]})},Oi=a(103),vi=a.n(Oi),xi=function(e){var t=e.stream,a=e.className,n=t.id,r=t.description,s="";try{s=JSON.parse(r).comment}catch(l){s=r}var c=ms(t)===us,o=c?t.owner_id:t.receiver_id,i=Object(j.f)(Je.stream.path,{id:n});return Object($e.jsxs)("div",{className:ze()(vi.a.root,a),children:[Object($e.jsx)(m.b,{to:i,className:vi.a.name,children:Object($e.jsx)(qo,{name:o,isOutgoing:!c,isLocked:t.is_locked})}),Object($e.jsx)(Jo,{stream:t,className:vi.a.withMarginRight}),Object($e.jsx)(m.b,{to:i,className:"col-span-2 grow-0",children:Object($e.jsx)("p",{className:vi.a.comment,children:s})}),Object($e.jsx)(_i,{stream:t,className:ze()(vi.a.controls,"col-span-2 grow-0")})]})},yi=a(55),gi=a.n(yi),wi=function(e){var t=e.children;return Object($e.jsx)("div",{className:gi.a.emptyState,children:t})},Ni=function(e){var t,a=e.className,n=e.displayingStreams,r=e.onCreateStreamClick,s=Object(d.d)(Le,(function(e){return{loading:!e.streamsLoaded,hasStreams:e.inputs.length+e.outputs.length>0}})),c=s.loading,o=s.hasStreams,i=(null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0)>0;return c?Object($e.jsx)(wi,{children:Object($e.jsx)(rr,{wrapperClassName:gi.a.loader})}):o?i?Object($e.jsx)("div",{className:ze()(gi.a.container,a),children:Object($e.jsxs)("section",{className:gi.a.flexColumn,children:[Object($e.jsxs)("div",{className:ze()(gi.a.withPaddings,"grid grid-cols-6 gap-x-10"),children:[Object($e.jsx)("h3",{className:gi.a.title,children:"Wallet address"}),Object($e.jsx)("h3",{className:gi.a.title,children:"Amount to stream"}),Object($e.jsx)("h3",{className:gi.a.title,children:"Comment"})]}),null===n||void 0===n?void 0:n.map((function(e){return Object($e.jsx)(xi,{stream:e,className:ze()(gi.a.withPaddings,"grid grid-cols-6 gap-x-10")},e.id)}))]})}):Object($e.jsx)(wi,{children:Object($e.jsx)("div",{children:"No streams matching your filters. Try selecting different ones"})}):Object($e.jsxs)(wi,{children:[Object($e.jsx)("div",{children:"You don't have any streams yet."}),Object($e.jsx)(dt,{onClick:r,children:"Create First Stream"})]})},ki=Object(j.f)(Je.streams.path),Ci="".concat(window.location.origin,"/#").concat(ki),Si=Object(_.a)({source:Ae,effect:function(e,t){return Object(f.a)(h.a.mark((function a(){var n,r,s,c,o,i,l,u,d,m,j,b;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=2;break}throw Error("no roketo wallet exists");case 2:return n=e.roketo,r=e.tokens,s=t.receiver,c=t.delayed,o=t.comment,i=t.deposit,l=t.speed,u=t.token,d=r[u],m=d.formatter,j=d.api,b=d.roketoMeta,a.next=7,n.api.createStream({deposit:m.toYocto(i),comment:o,receiverId:s,tokenAccountId:u,commissionOnCreate:b.commission_on_create,tokensPerSec:l,delayed:c,callbackUrl:Ci,handleTransferStream:j.transfer});case 7:case"end":return a.stop()}}),a)})))()}}),Ai=a(66),Ii=a.n(Ai),Ri=function(){var e=Object(d.d)({store:Le,keys:[],fn:function(e){var t=e.inputs,a=e.outputs;return[].concat(Object(Ja.a)(t),Object(Ja.a)(a))}}),t=Object(s.useState)([]),a=Object(b.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(!1),o=Object(b.a)(c,2),i=o[0],l=o[1],u=Object(s.useCallback)((function(){return l(!i)}),[l,i]);return Object($e.jsx)("div",{className:Ii.a.root,children:Object($e.jsxs)(ct,{children:[Object($e.jsxs)("section",{className:ze()(Ii.a.flex,Ii.a.header),children:[Object($e.jsx)("h1",{className:Ii.a.title,children:"Streams"}),Object($e.jsxs)("div",{className:ze()(Ii.a.flex,Ii.a.buttonsWrapper),children:[Object($e.jsx)(xc,{}),Object($e.jsx)(dt,{onClick:u,testId:le.createStreamButton,children:"Create a stream"}),Object($e.jsx)(jc,{isOpen:i,onCloseModal:u,children:Object($e.jsx)(So,{onFormCancel:u,onFormSubmit:Si})})]})]}),Object($e.jsx)(Fo,{}),Object($e.jsx)(Fc,{items:e,onFilterDone:r,className:Ii.a.streamFilters}),Object($e.jsx)(Ni,{displayingStreams:n,className:Ii.a.section,onCreateStreamClick:u})]})})},Li=a(158),Ti=a.n(Li);function Ei(){return Object($e.jsx)("div",{className:"flex h-screen mx-3",children:Object($e.jsx)("div",{className:ze()("lg:m-auto mx-auto my-auto lg:w-2/5 bg-gray-90 rounded-3xl p-5",Ti.a.block),children:Object($e.jsxs)("div",{className:ze()("my-24",Ti.a.content),children:[Object($e.jsxs)("h1",{className:"text-3xl mb-4 font-semibold",children:[" ","Login via NEAR Network"," "]}),Object($e.jsx)("p",{className:ze()("mb-4",Ti.a.hint),children:"Click button below to login or create new account"}),Object($e.jsx)(ft,{})]})})})}var Bi=a(12),Mi=a.n(Bi);function Pi(e){var t=e.className;return Object($e.jsx)("svg",{className:t,width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",children:Object($e.jsx)("path",{d:"M0.895051 11.6285C0.745051 11.6285 0.603384 11.5702 0.495051 11.4535C0.295051 11.2285 0.311718 10.8869 0.528384 10.6869L5.836 5.90328L0.495028 1.27828C0.270028 1.07828 0.261695 0.736613 0.461695 0.511613C0.661695 0.294947 1.00336 0.27828 1.22836 0.47828L6.97766 5.46995C7.23599 5.70328 7.23599 6.10328 6.97766 6.33662L1.26172 11.4869C1.15338 11.5869 1.02838 11.6285 0.895051 11.6285Z",fill:"currentColor"})})}var Fi=Object(d.a)({defaultState:null}),Di=Object(_.g)(null),Hi=Object(_.g)(null),Vi=Object(_.a)({source:Ae,effect:function(e,t){return Object(f.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",t&&(null===e||void 0===e?void 0:e.roketo.api.getStream({streamId:t})));case 1:case"end":return a.stop()}}),a)})))()}}),Wi=Object(_.c)(Di,Hi,(function(e,t){return!e&&!t})),Ui=Object(_.d)((function(){return new Promise((function(e){setTimeout(e,1e4)}))}));function Zi(e){var t=e.stream,a=Object(d.c)(Ie)[t.token_account_id],n=a.meta,r=a.formatter,s=fs(t),c=s.progress,o=c.streamed,i=c.withdrawn,l=c.full,u=s.percentages;return Object($e.jsxs)("div",{children:[Object($e.jsxs)("div",{className:Mi.a.numericProgress,children:[Object($e.jsx)(Jt,{tokenAccountId:t.token_account_id,className:Mi.a.tokenIcon}),Object($e.jsx)("span",{children:"".concat(n.symbol," ").concat(r.amount(o)," of ").concat(r.amount(l))})]}),Object($e.jsx)(Ut,{total:l,streamed:o,withdrawn:i,cliffPercent:u.cliff,withBigCliffMark:!0})]})}function qi(e){var t=e.stream,a=Object(d.d)({store:Ie,keys:[t.token_account_id],fn:function(e){return e[t.token_account_id]}}),n=fs(t),r=n.isDead,c=n.streamEndTimestamp,o=n.percentages.left,i=ms(t),l=ei(!1),m=Object(s.useState)(""),j=Object(b.a)(m,2),p=j[0],_=j[1],O=null,v=0===o,x=""!==p&&!Number.isNaN(+p),y=i===ds;if(y&&x&&c){var g=+new A.a(a.formatter.toYocto(p)).dividedBy(t.tokens_per_sec).multipliedBy(1e3).plus(c).toFixed();Number.isNaN(g)||(O=Object(vt.a)(g,"PP 'at' p"))}return r?null:Object($e.jsxs)("div",{className:Mi.a.buttons,children:[Object($e.jsx)(u.a,{isOpen:!v&&l.on,onRequestClose:l.turnOff,className:Mi.a.modalContent,overlayClassName:Mi.a.modalOverlay,children:Object($e.jsxs)("form",{autoComplete:"off",onSubmit:function(){var e=Object(f.a)(h.a.mark((function e(n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),l.turnOff(),_(""),x){e.next=5;break}return e.abrupt("return");case 5:return r=a.formatter.toYocto(p),e.next=8,a.api.addFunds(r,t.id,window.location.href);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object($e.jsx)("h2",{className:Mi.a.modalHeader,children:"Amount to deposit"}),Object($e.jsxs)("p",{children:[Object($e.jsx)(zr,{required:!0,name:"deposit",placeholder:"0.00 NEAR",value:null!==p&&void 0!==p?p:"",onChange:function(e){var t=e.currentTarget.value;0===t.length?_(""):Number.isNaN(+t)||_(t)}}),O&&Object($e.jsxs)("div",{className:Mi.a.dueDate,children:[Object($e.jsx)("span",{className:Mi.a.dueDateLabel,children:"New due date:"}),Object($e.jsx)("span",{className:Mi.a.dueDateValue,children:O})]})]}),Object($e.jsxs)("div",{className:Mi.a.modalButtons,children:[Object($e.jsx)("button",{type:"button",onClick:l.turnOff,className:ze()(Mi.a.modalButton,Mi.a.modalSecondary),children:"Cancel"}),Object($e.jsx)(dt,{type:et.submit,className:Mi.a.modalButton,disabled:!x,children:"Add funds"})]})]})}),!v&&y&&Object($e.jsx)(dt,{onClick:l.turnOn,children:"Add funds"}),Object($e.jsx)(bi,{stream:t}),i===us&&t.status===E&&Object($e.jsx)($o,{stream:t})]})}function Ki(e){var t=e.stream,a=Object(d.c)(Ie);return Object($e.jsxs)("div",{children:[Object($e.jsx)("span",{className:Mi.a.blockTitle,children:"Speed"}),Object($e.jsx)("div",{className:Mi.a.speed,children:Ft(Number(t.tokens_per_sec),a[t.token_account_id])})]})}function Yi(e){var t=e.stream,a="";try{a=JSON.parse(t.description).comment}catch(n){a=t.description}return""===a?null:Object($e.jsxs)("div",{children:[Object($e.jsx)("span",{className:Mi.a.blockTitle,children:"Comment"}),Object($e.jsx)("div",{className:Mi.a.commentBody,children:a})]})}function zi(e){var t=e.stringToCopy;return Object($e.jsx)("button",{type:"button",className:Mi.a.copyButton,onClick:function(){return Ot()(t)},children:Object($e.jsx)(yt,{className:Mi.a.linkIcon})})}function Ji(e){var t=Xe(e.stream.id);return Object($e.jsxs)("div",{children:[Object($e.jsxs)("div",{className:ze()(Mi.a.blockTitle,Mi.a.copyTitle),children:["Public link to view the stream",Object($e.jsx)(zi,{stringToCopy:t})]}),Object($e.jsx)("div",{className:Mi.a.link,children:t})]})}function Xi(e){var t=e.title,a=e.children;return Object($e.jsxs)("div",{className:Mi.a.infoRow,children:[Object($e.jsx)("span",{className:Mi.a.infoTitle,children:t}),a]})}function Gi(e){var t=e.stream,a=ms(t),n=Object(d.c)(Ie),r=fs(t),c=r.streamEndTimestamp,o=r.cliffEndTimestamp,i=r.timeLeft,l=r.progress,u=l.streamed,m=l.left,j=l.full,f=Ht(u,j).toNumber(),p=Ht(m,j).toNumber(),h=H(t).toNumber(),_=n[t.token_account_id],O=_.meta,v=_.formatter,x=Object(s.useState)(!1),y=Object(b.a)(x,2),g=y[0],w=y[1];return Object($e.jsxs)("div",{className:ze()(Mi.a.tile,Mi.a.infoTile),children:[Object($e.jsx)("div",{className:Mi.a.blockHeader,children:"Stream info"}),Object($e.jsx)(Xi,{title:"Sender",children:Object($e.jsx)("span",{className:ze()(Mi.a.font16,Mi.a.name),children:a===ds?"You":t.owner_id})}),Object($e.jsx)(Xi,{title:"Receiver",children:Object($e.jsx)("span",{className:ze()(Mi.a.font16,Mi.a.name),children:a===us?"You":t.receiver_id})}),Object($e.jsx)(Xi,{title:"Amount",children:Object($e.jsxs)("span",{className:Mi.a.font14,children:[v.amount(j),"\xa0",Object($e.jsx)("span",{className:Mi.a.font12,children:O.symbol})]})}),Object($e.jsx)(Xi,{title:"Stream Created",children:Object($e.jsx)("span",{className:Mi.a.font14,children:Object(vt.a)(new Date(Number(t.timestamp_created)/1e6),"PP 'at' p")})}),o&&Object($e.jsx)(Xi,{title:Object(xt.a)(o)?"Cliff Period Ended":"Cliff Period Ends",children:Object($e.jsx)("span",{className:Mi.a.font14,children:Object(vt.a)(o,"PP 'at' p")})}),c&&Object($e.jsx)(Xi,{title:Object(xt.a)(c)?"Stream Ended":"Stream Ends",children:Object($e.jsx)("span",{className:Mi.a.font14,children:Object(vt.a)(c,"PP 'at' p")})}),Object($e.jsx)(Xi,{title:"Token",children:Object($e.jsxs)("span",{className:Mi.a.font14,children:[O.name,",\xa0",Object($e.jsx)("span",{className:Mi.a.font12,children:O.symbol})]})}),Object($e.jsx)("div",{className:Mi.a.divider}),Object($e.jsx)(Bt,{className:Mi.a.dropdownOpener,opened:g,onChange:function(e){w(e)},children:Object($e.jsx)("h3",{className:Mi.a.sectionHeader,children:"Other info"})}),g&&Object($e.jsxs)($e.Fragment,{children:[Object($e.jsx)(Xi,{title:"Stream ID",children:Object($e.jsxs)("div",{className:Mi.a.centeredFlex,children:[Object($e.jsx)("span",{className:ze()(Mi.a.font14,Mi.a.streamID),children:t.id}),Object($e.jsx)(zi,{stringToCopy:t.id})]})}),Object($e.jsx)(Xi,{title:"Remaining",children:Object($e.jsx)("span",{className:Mi.a.font14,children:i||"Finished"})}),Object($e.jsx)(Xi,{title:"Tokens Transferred",children:Object($e.jsxs)("span",{className:Mi.a.font14,children:[v.amount(u),"\xa0",Object($e.jsxs)("span",{className:Mi.a.font12,children:[O.symbol," ",Object($e.jsxs)("span",{className:Mi.a.grey,children:["(",f,"%)"]})]})]})}),t.timestamp_created!==t.last_action&&Object($e.jsx)(Xi,{title:"Latest Withdrawal",children:Object($e.jsx)("span",{className:Mi.a.font14,children:Object(vt.a)(new Date(Number(t.last_action)/1e6),"PP 'at' p")})}),Object($e.jsx)(Xi,{title:"Tokens Left",children:Object($e.jsxs)("span",{className:Mi.a.font14,children:[v.amount(m),"\xa0",Object($e.jsxs)("span",{className:Mi.a.font12,children:[O.symbol," ",Object($e.jsxs)("span",{className:Mi.a.grey,children:["(",p,"%)"]})]})]})}),Object($e.jsx)(Xi,{title:"Tokens Available",children:Object($e.jsxs)("span",{className:Mi.a.font14,children:[v.amount(h),"\xa0",Object($e.jsx)("span",{className:Mi.a.font12,children:O.symbol})]})})]})]})}function Qi(){var e=Object(j.h)().id;Object(d.b)(Fi,e);var t=Object(d.c)(Wi),a=Object(d.c)(Di),n=Object(d.c)(Hi);return Object($e.jsx)("div",{className:Mi.a.root,children:Object($e.jsxs)(ct,{children:[Object($e.jsxs)("div",{className:Mi.a.breadbrumbs,children:[Object($e.jsx)(m.b,{to:Je.streams.path,className:Mi.a.streamsLink,children:"Streams"}),Object($e.jsx)(Pi,{className:Mi.a.breadbrumb}),Object($e.jsx)("span",{className:Mi.a.id,children:e})]}),n&&Object($e.jsx)(It,{className:"max-w-2xl mx-auto py-32",message:n,onRetry:function(){}}),t&&Object($e.jsx)("div",{className:"py-32 text-center text-gray text-2xl",children:"Loading..."}),!n&&a&&Object($e.jsxs)("main",{className:Mi.a.stream,children:[Object($e.jsxs)("div",{className:Mi.a.left,children:[Object($e.jsxs)("div",{className:ze()(Mi.a.tile,Mi.a.remaining),children:[Object($e.jsx)("span",{className:Mi.a.blockTitle,children:"Remaining"}),Object($e.jsx)("span",{children:fs(a).timeLeft||"Finished"})]}),Object($e.jsxs)("div",{className:ze()(Mi.a.tile,Mi.a.main),children:[a.is_locked&&Object($e.jsx)(Vo,{isOrange:!0,className:Mi.a.closeBadge,children:"Locked"}),Object($e.jsx)(Zi,{stream:a}),Object($e.jsx)(qi,{stream:a}),Object($e.jsx)(Ki,{stream:a}),Object($e.jsx)("div",{className:Mi.a.divider}),Object($e.jsx)(Yi,{stream:a}),Object($e.jsx)(Ji,{stream:a})]})]}),Object($e.jsx)("div",{className:Mi.a.right,children:Object($e.jsx)(Gi,{stream:a})})]})]})})}Object(_.j)({clock:[He,Fi.state,Ui.doneData],source:Fi.state,filter:Fi.status,target:Vi}),Object(_.j)({clock:[Fi.open,Ui.doneData],filter:Fi.status,target:Ui}),Object(_.j)({clock:Vi.doneData,filter:Boolean,target:Di}),Object(_.j)({clock:Fi.close,fn:function(){return null},target:Di}),Object(_.j)({clock:Vi.failData,fn:function(e){return e.message},target:Hi}),Object(_.j)({clock:Vi.doneData,fn:function(){return null},target:Hi});var $i=a(83),el=a.n($i);function tl(){return Object($e.jsxs)("div",{className:el.a.root,children:[Object($e.jsxs)("div",{className:el.a.big404,children:["4",Object($e.jsx)("span",{className:el.a.big0,children:"0"}),"4"]}),Object($e.jsx)("div",{className:el.a.pageNotFound,children:"Page not found"}),Object($e.jsxs)("div",{className:el.a.weAreSorry,children:["We're sorry the page",Object($e.jsx)("br",{}),"you requested was not found."]}),Object($e.jsx)(dt,{className:el.a.backButton,displayMode:tt.action,onClick:function(){return window.history.back()},children:"Back"})]})}var al=["transactionHashes","errorCode","errorMessage"];function nl(){Object(s.useEffect)((function(){var e=new URL(window.location.href);al.forEach((function(t){e.searchParams.has(t)&&e.searchParams.delete(t)})),window.history.replaceState(null,"",e)}));var e=Object(d.c)(Te),t=Je.root,a=Je.stream,n=Je.streams,r=Je.authorize,c=pt.legacyStream,o=pt.legacyStreams;return Object($e.jsxs)(m.a,{basename:v.PUBLIC_URL,children:[Object($e.jsx)(Ds,{}),Object($e.jsxs)(j.d,{children:[Object($e.jsx)(Hs,{exact:!0,redirect:Object($e.jsx)(j.a,{to:n.path}),allowed:!e,path:t.path,children:Object($e.jsx)(j.a,{to:r.path})}),Object($e.jsx)(Hs,{exact:!0,redirect:Object($e.jsx)(j.a,{to:n.path}),allowed:!e,path:r.path,children:Object($e.jsx)(Ei,{})}),Object($e.jsx)(j.b,{exact:!0,path:c.path,children:Object($e.jsx)(An,{})}),Object($e.jsx)(Hs,{exact:!0,redirect:Object($e.jsx)(j.a,{to:r.path}),allowed:e,path:o.path,children:Object($e.jsx)(kr,{})}),Object($e.jsx)(j.b,{exact:!0,path:a.path,children:Object($e.jsx)(Qi,{})}),Object($e.jsx)(Hs,{exact:!0,redirect:Object($e.jsx)(j.a,{to:r.path}),allowed:e,path:n.path,children:Object($e.jsx)(Ri,{})}),Object($e.jsx)(j.b,{render:tl})]}),Object($e.jsx)(uc,{})]})}a(483);var rl=function(){Object(s.useEffect)((function(){Ce()}),[]);var e=Object(d.c)(Ue);return Object($e.jsx)(La,{children:e?null:Object($e.jsx)(nl,{})})},sl=document.getElementById("root");u.a.setAppElement(sl),i.a.render(Object($e.jsx)(rl,{}),sl)},49:function(e,t,a){e.exports={wrapper:"styles_wrapper__2vwX1",secondWrapper:"styles_secondWrapper__20xn3",root:"styles_root__3L49I",secondRoot:"styles_secondRoot__3T4F3",unshrinkable:"styles_unshrinkable__1q8kB",logo:"styles_logo__1dFWz",left:"styles_left__fS0Yp",right:"styles_right__19YK4",marginRight:"styles_marginRight__3EZCk"}},51:function(e,t,a){e.exports={progressBar:"styles_progressBar__WfqVp",streamed:"styles_streamed__2JSLG",progress:"styles_progress__1Vfwm",withdrawn:"styles_withdrawn__2eocI",cliffMarkContainer:"styles_cliffMarkContainer__n0scP",cliffMark:"styles_cliffMark__1jJk_",cliffMarkBig:"styles_cliffMarkBig__1-8_i",cliffMarkPassed:"styles_cliffMarkPassed__18H3L"}},52:function(e,t,a){e.exports={container:"styles_container__2hqfN",flexColumn:"styles_flexColumn__2kzF4",withPaddings:"styles_withPaddings__3uH1h",title:"styles_title__1uH5S",emptyState:"styles_emptyState__2YAVd",loader:"styles_loader__FohDd"}},53:function(e,t,a){e.exports={root:"styles_root__1wORt",layout:"styles_layout__3xx--",section:"styles_section__2r57z",logo:"styles_logo__w4rz3",links:"styles_links__2CP2p",legal:"styles_legal__1I5Mf",socials:"styles_socials__pFfwm",jurInfo:"styles_jurInfo__p5KY0"}},54:function(e,t,a){e.exports={root:"styles_root__2_gZI",description:"styles_description__9SwXr",preparedTokensWrapper:"styles_preparedTokensWrapper__1n7o-",preparedToken:"styles_preparedToken__3wMsS",info:"styles_info__OjsX3",amount:"styles_amount__2Pqv4",symbol:"styles_symbol__HcQ7S",notAllowed:"styles_notAllowed__2nGW_"}},55:function(e,t,a){e.exports={container:"styles_container__2E2rA",flexColumn:"styles_flexColumn__vggyT",withPaddings:"styles_withPaddings__3K5aA",title:"styles_title__284Zv",emptyState:"styles_emptyState__3rrQX",loader:"styles_loader__xExeF"}},63:function(e,t,a){e.exports={root:"styles_root__14vNy",section:"styles_section__2FRx-",flex:"styles_flex__2TXuX",header:"styles_header__UtN1L",buttonsWrapper:"styles_buttonsWrapper__ANSH3",title:"styles_title__3qFk7",streamFilters:"styles_streamFilters__3D0RW"}},65:function(e,t,a){e.exports={wrapper:"styles_wrapper__TAkqw",speedInput:"styles_speedInput__pndxz",input:"styles_input__2-TTa",label:"styles_label__1NoFr",formLabel:"styles_formLabel__2w0iu",formField:"styles_formField__GA6eY",speed:"styles_speed__M079a"}},66:function(e,t,a){e.exports={root:"styles_root__2UE9y",section:"styles_section__2YjD4",flex:"styles_flex__5E-Gn",header:"styles_header__2fhvP",buttonsWrapper:"styles_buttonsWrapper__KUQAt",title:"styles_title__1SNWA",streamFilters:"styles_streamFilters__ZRc30"}},74:function(e,t,a){e.exports={root:"styles_root__3Kyti",wrapper:"styles_wrapper__P7W3S",balance:"styles_balance__o5yA-"}},81:function(e,t,a){e.exports={profile:"profile_profile__Dw7tT",dropdownOpener:"profile_dropdownOpener__rb_O7",name:"profile_name__2iGU9",avatar:"profile_avatar__20etB",dropdownMenu:"profile_dropdownMenu__2a3bk"}},82:function(e,t,a){e.exports={overlay:"styles_overlay__2aFDm",bodyOverflowHidden:"styles_bodyOverflowHidden__1QZAq",content:"styles_content__2Cjkl",title:"styles_title__1w-yg",close:"styles_close__1xZ3p"}},83:function(e,t,a){e.exports={root:"styles_root__17WVD",big404:"styles_big404__1ZrOC",big0:"styles_big0__1G3uC",pageNotFound:"styles_pageNotFound__2_Tlm",weAreSorry:"styles_weAreSorry__-XpXJ",backButton:"styles_backButton__2uRdQ"}},98:function(e,t,a){e.exports={root:"styles_root__2eQAJ",primary:"styles_primary__F4Fip",action:"styles_action__ZCYgS",simple:"styles_simple__2Db_y",secondary:"styles_secondary__3blHx"}},99:function(e,t,a){e.exports={root:"styles_root__gqzta",controls:"styles_controls__1VcAv",name:"styles_name__1n32K",comment:"styles_comment__1PgxT",withMarginRight:"styles_withMarginRight__2dPrt"}}},[[484,1,2]]]);
//# sourceMappingURL=main.e50cd761.chunk.js.map
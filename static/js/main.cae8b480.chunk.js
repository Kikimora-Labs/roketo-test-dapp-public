(this["webpackJsonproketo-dapp"]=this["webpackJsonproketo-dapp"]||[]).push([[0],{100:function(e,t,a){e.exports={dropdownWrapper:"styles_dropdownWrapper__1mfn5",dropdownOpener:"styles_dropdownOpener__xnUU_",tokenOption:"styles_tokenOption__2nenl",withHover:"styles_withHover__17YXX",dropdownMenu:"styles_dropdownMenu__1M_bV"}},101:function(e,t,a){e.exports={root:"styles_root__1Ickw",controls:"styles_controls__35vzk",name:"styles_name__26X88",comment:"styles_comment__z2oIA",withMarginRight:"styles_withMarginRight__20A25"}},11:function(e,t,a){e.exports={wrapper:"styles_wrapper__CegNU",root:"styles_root__1apvt",centeredFlex:"styles_centeredFlex__1HZSf",infoRow:"styles_infoRow__2vMrz",numericProgress:"styles_numericProgress__2AuoP",breadbrumbs:"styles_breadbrumbs__BUT8d",streamsLink:"styles_streamsLink__L0U7w",breadbrumb:"styles_breadbrumb__NNWx2",id:"styles_id__16P2T",stream:"styles_stream__3Fr_5",left:"styles_left__1kdhS",right:"styles_right__vZBRd",tile:"styles_tile__2fhhc",remaining:"styles_remaining__2iHJj",blockTitle:"styles_blockTitle__TMhpt",main:"styles_main__18lFE",closeBadge:"styles_closeBadge__oSZpP",tokenIcon:"styles_tokenIcon__2BgHM",buttons:"styles_buttons__kZcO7",divider:"styles_divider__hCiPy",speed:"styles_speed__3klLg",commentBody:"styles_commentBody__1ywdK",copyTitle:"styles_copyTitle__2hQ0e",copyButton:"styles_copyButton__10iJH",linkIcon:"styles_linkIcon__1XYWy",link:"styles_link__24b3y",infoTile:"styles_infoTile__2Te2a",blockHeader:"styles_blockHeader__1zEQa",sectionHeader:"styles_sectionHeader__2S7fb",dropdownOpener:"styles_dropdownOpener__374xe",infoTitle:"styles_infoTitle__wuj-6",font16:"styles_font16__3CMGR",name:"styles_name__16kMm",font14:"styles_font14__2T9bM",font12:"styles_font12__eO0Tl",streamID:"styles_streamID__2QzEw",grey:"styles_grey__3NsWF"}},117:function(e,t,a){e.exports={root:"styles_root__1_66R",radio:"styles_radio__3I1ek",radioActive:"styles_radioActive__2fx8l",text:"styles_text__21Txd"}},118:function(e,t,a){e.exports={root:"styles_root__HwxLP",dropdownWrapper:"styles_dropdownWrapper__32byB",dropdownMenu:"styles_dropdownMenu__1RS3q",dropdownInactive:"styles_dropdownInactive__34nZF"}},13:function(e,t,a){e.exports={wrapper:"styles_wrapper__waQWy",root:"styles_root__19PW7",centeredFlex:"styles_centeredFlex__idtVt",infoRow:"styles_infoRow__DynnT",numericProgress:"styles_numericProgress__3WX9j",breadbrumbs:"styles_breadbrumbs__3R-VX",streamsLink:"styles_streamsLink__z_oX2",breadbrumb:"styles_breadbrumb__35lMb",id:"styles_id__3U16x",stream:"styles_stream__15zYj",left:"styles_left__2Gn-B",right:"styles_right__2t6b3",tile:"styles_tile__2S_fe",remaining:"styles_remaining__2xbtE",blockTitle:"styles_blockTitle__AVORE",main:"styles_main__EZ9Ad",tokenIcon:"styles_tokenIcon__1ECAS",buttons:"styles_buttons__1knN9",divider:"styles_divider__LJnOh",speed:"styles_speed__16A6R",commentBody:"styles_commentBody__1f5OU",copyTitle:"styles_copyTitle__5Y0V9",copyButton:"styles_copyButton__LRE-Z",linkIcon:"styles_linkIcon__2jhgt",link:"styles_link__3w_CQ",infoTile:"styles_infoTile__3vchd",blockHeader:"styles_blockHeader__2hHfE",sectionHeader:"styles_sectionHeader__3bPFB",dropdownOpener:"styles_dropdownOpener__2WSze",infoTitle:"styles_infoTitle__1j4ai",font16:"styles_font16__1E8_k",font14:"styles_font14__34e9m",font12:"styles_font12__2Fhe5",streamID:"styles_streamID__bjGsg",grey:"styles_grey__1goqK"}},145:function(e,t,a){e.exports={root:"authorization_root__3Nfgj",name:"authorization_name__GjBzW",logoutButton:"authorization_logoutButton__2sCaP"}},146:function(e,t,a){e.exports={root:"styles_root__9Q_y8",arrow:"styles_arrow__dmtxI",rotate:"styles_rotate__3bkvh"}},147:function(e,t,a){e.exports={menu:"styles_menu__oG1pK",menuDivider:"styles_menuDivider__3rvtk",hidden:"styles_hidden__3JyX9"}},148:function(e,t,a){e.exports={root:"styles_root__2IVIz",sort:"styles_sort__2oMly",active:"styles_active__3vMTz"}},149:function(e,t,a){e.exports={root:"styles_root__12V-i",filtersWrapper:"styles_filtersWrapper__3lX2U",sortWithOrder:"styles_sortWithOrder__2gTJ0"}},150:function(e,t,a){e.exports={flexCenter:"styles_flexCenter__1ROiJ",name:"styles_name__HgeGm",nameLabel:"styles_nameLabel__1iFRt"}},151:function(e,t,a){e.exports={root:"styles_root__1_PXp",sort:"styles_sort__3sdm0",active:"styles_active__2U1h-"}},152:function(e,t,a){e.exports={root:"styles_root__1C2L3",filtersWrapper:"styles_filtersWrapper__3sIgz",sortWithOrder:"styles_sortWithOrder__2yZvk"}},153:function(e,t,a){e.exports={card:"styles_card__chYY0",title:"styles_title__cc9o3",finance:"styles_finance__wsZi_"}},154:function(e,t,a){e.exports={badge:"styles_badge__2AKuG",blue:"styles_blue__3vwgm",orange:"styles_orange__23CY5"}},155:function(e,t,a){e.exports={notAllowed:"styles_notAllowed__3rC0O",small:"styles_small__2wTWz",hasntPassedCliff:"styles_hasntPassedCliff__3QI54"}},156:function(e,t,a){e.exports={block:"styles_block__3xJQm",hint:"styles_hint__2cJLP",content:"styles_content__10idn"}},187:function(e,t,a){e.exports={defaultOverlay:"styles_defaultOverlay__3nR8o",defaultIcon:"styles_defaultIcon__hJLMj"}},188:function(e,t,a){e.exports={wrapper:"styles_wrapper__oqa_T",spinner:"styles_spinner__3Ptbo",spin:"styles_spin__1Vf_l"}},189:function(e,t,a){e.exports={root:"styles_root__3OdL8",linkButton:"styles_linkButton__oY6_t"}},190:function(e,t,a){e.exports={root:"styles_root__2s9Jd",pageLink:"styles_pageLink__3rg8i"}},191:function(e,t,a){e.exports={input:"styles_input__KeAvj",error:"styles_error__1dP_7"}},192:function(e,t,a){e.exports={profileForm:"ProfileForm_profileForm__6KCp0",loaderWrapper:"ProfileForm_loaderWrapper__1tIAk",label:"ProfileForm_label__3P7Uk",inputName:"ProfileForm_inputName__3fFmI"}},193:function(e,t,a){e.exports={textarea:"styles_textarea__1lPSs",error:"styles_error__3C3Rv"}},194:function(e,t,a){e.exports={formfield:"styles_formfield__2DZrP",textLimitCounter:"styles_textLimitCounter__2B7mB"}},196:function(e,t,a){e.exports={flexCenter:"styles_flexCenter__B0Jt1",name:"styles_name__25-53"}},197:function(e,t,a){e.exports={root:"styles_root__2iwP4",linkButton:"styles_linkButton__1laX_"}},21:function(e,t,a){e.exports={relative:"styles_relative__2QiFJ",controlButton:"styles_controlButton__1vq4p",statusPadded:"styles_statusPadded__3UL71",button:"styles_button__1UW_h",modalContent:"styles_modalContent__3f34e",modalOverlay:"styles_modalOverlay__ZnuwA",modalHeader:"styles_modalHeader__2-Oti",modalButtons:"styles_modalButtons__367QE",modalButton:"styles_modalButton__uHmah",modalSecondary:"styles_modalSecondary__1y73P",modalWarning:"styles_modalWarning__aeSV8",modalDanger:"styles_modalDanger__2FJKr",controlsMenu:"styles_controlsMenu__h4rsZ",dropdownOpener:"styles_dropdownOpener__KpUjE",notAllowed:"styles_notAllowed__AgwS0",start:"styles_start__AVZHt",active:"styles_active__1J1qI",pause:"styles_pause__AS7EK",stop:"styles_stop__IMPS5"}},22:function(e,t,a){e.exports={relative:"styles_relative__yWBD-",controlButton:"styles_controlButton__1sUCZ",statusPadded:"styles_statusPadded__3delP",button:"styles_button__18c-7",modalContent:"styles_modalContent__1ddyy",modalOverlay:"styles_modalOverlay__1UpG0",modalHeader:"styles_modalHeader__1wI_9",modalButtons:"styles_modalButtons__3ze2c",modalButton:"styles_modalButton__2LWw5",modalSecondary:"styles_modalSecondary__3V_0f",modalWarning:"styles_modalWarning__1UbkD",modalDanger:"styles_modalDanger__3abDR",controlsMenu:"styles_controlsMenu__2Z6nr",dropdownOpener:"styles_dropdownOpener__2fJW3",start:"styles_start__1Jd1k",active:"styles_active__1vNpj",pause:"styles_pause__jEqEC",stop:"styles_stop__19ozh"}},249:function(e,t,a){e.exports={layout:"styles_layout__2ac3i"}},259:function(e,t,a){e.exports={rotate:"styles_rotate__ZjzwB"}},26:function(e,t,a){e.exports={root:"styles_root__3FXzU",text:"styles_text__3Ccy_",status:"styles_status__2XG4U",grey:"styles_grey__6V1Y1",overlay:"styles_overlay__vPDRx",tooltip:"styles_tooltip__17_8O",innerStatus:"styles_innerStatus__294En",smaller:"styles_smaller__35jwv",speed:"styles_speed__2gSeJ",remained:"styles_remained__2GAOw",clock:"styles_clock__1TglA",progress:"styles_progress__lFlGb",streamed:"styles_streamed__3msIw",withdrawn:"styles_withdrawn__28DlC"}},260:function(e,t,a){e.exports={container:"styles_container__1AC1F",logo:"styles_logo__3ciI3"}},264:function(e,t,a){e.exports={error:"styles_error__sGMTb",maxWidth:"styles_maxWidth__2ZM3Z"}},265:function(e,t,a){e.exports={root:"styles_root__20iY_"}},27:function(e,t,a){e.exports={root:"styles_root__38B64",text:"styles_text__11atI",status:"styles_status__3b_ey",grey:"styles_grey__36o2c",overlay:"styles_overlay__3rasY",tooltip:"styles_tooltip__23VN9",innerStatus:"styles_innerStatus__132Fk",smaller:"styles_smaller__HXT1f",speed:"styles_speed__1i2og",remained:"styles_remained__2-6rd",clock:"styles_clock__2q7yf",progress:"styles_progress__YG-x-",streamed:"styles_streamed__2mtn0",withdrawn:"styles_withdrawn__SfaXK"}},28:function(e,t,a){e.exports={root:"styles_root__1XQku",dropdownOpener:"styles_dropdownOpener__3kQgF",dropdownMenu:"styles_dropdownMenu___vHNq",container:"styles_container__aPnlt",loader:"styles_loader__3dO2x",header:"styles_header__1d9ir",date:"styles_date__2TpB4",divider:"styles_divider__KqyfJ",notification:"styles_notification__3Zr3E",unread:"styles_unread__3ngZd",icon:"styles_icon__3IYnm",notificationBody:"styles_notificationBody__3G1w8",primaryText:"styles_primaryText__3lpJr",secondaryText:"styles_secondaryText__30aDU",time:"styles_time__1xidu",compact:"styles_compact__1AVk6",mainText:"styles_mainText__1Fr7u"}},304:function(e,t){},314:function(e,t){},332:function(e,t){},348:function(e,t,a){},36:function(e,t,a){e.exports={root:"styles_root__1zlKm",title:"styles_title__39adN",description:"styles_description__12RAl",form:"styles_form__1ud4S",row:"styles_row__Pz5Iu",rowItem:"styles_rowItem__TexQO",checkboxes:"styles_checkboxes__OfA8Y",submitError:"styles_submitError__1B7Gd",actionButtonsWrapper:"styles_actionButtonsWrapper__1E6yB",feeDisclaimer:"styles_feeDisclaimer__WNlqw",feeDisclaimerRow:"styles_feeDisclaimerRow__11c8e",amount:"styles_amount__1l7_V",subDescription:"styles_subDescription__1OTIx"}},48:function(e,t,a){e.exports={wrapper:"styles_wrapper__2vwX1",secondWrapper:"styles_secondWrapper__20xn3",root:"styles_root__3L49I",secondRoot:"styles_secondRoot__3T4F3",unshrinkable:"styles_unshrinkable__1q8kB",logo:"styles_logo__1dFWz",left:"styles_left__fS0Yp",right:"styles_right__19YK4",marginRight:"styles_marginRight__3EZCk"}},481:function(e,t,a){},482:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(38),c=a.n(s),o=a(47),i=a.n(o),l=(a(202),a(24)),u=a(29),d=a(4),m=a.n(d),j={root:{path:"/"},authorize:{path:"/authorize",title:"Authorize"},streams:{path:"/streams",title:"Streams"},stream:{path:"/streams/:id",title:"Stream"}};function b(e){return"".concat(window.location.origin,"/#/streams/").concat(e)}var p,f,h=a(7),_=a(0);!function(e){e.COLORED="colored",e.CURRENT_COLOR="current-color"}(f||(f={}));var O,v,x=(p={},Object(h.a)(p,f.COLORED,(function(e){var t=e.className;return Object(_.jsxs)("svg",{width:"85",height:"37",viewBox:"0 0 85 37",fill:"none",className:t,children:[Object(_.jsx)("path",{d:"M27.2243 21.6559L25.1382 26.3574C24.9976 26.6743 25.3083 27.0039 25.6314 26.8807L33.2506 23.9755C37.4638 22.3691 42.9334 16.8281 42.9334 13.7051C42.9334 10.8974 37.5108 4.89742 33.3857 3.5349L22.7464 0.0207055C22.3964 -0.0949031 22.0975 0.297465 22.3004 0.606068L24.4608 3.89078C24.7026 4.2583 24.4683 4.75193 24.0316 4.79531L11.5321 6.03692C11.1728 6.07261 11.0519 6.5378 11.3481 6.74504L14.751 9.12589C15.0895 9.36266 15.0825 9.86755 14.7377 10.0948L9.62698 13.4638C9.35407 13.6437 9.03165 13.7328 8.70543 13.7185L0.406475 13.3549C-0.00343963 13.337 -0.157883 13.8858 0.200859 14.0857L9.40222 19.2108C9.74603 19.4023 10.1494 19.456 10.5311 19.361L14.6051 18.3475C15.1342 18.2159 15.6933 18.3718 16.0787 18.7586L19.1812 21.8717C19.5854 22.2774 20.179 22.4277 20.7267 22.2631L26.291 20.5912C26.9277 20.3999 27.4946 21.0466 27.2243 21.6559Z",fill:"url(#paint0_linear_25_2458)"}),Object(_.jsx)("path",{d:"M40.6818 26.4196V36.3357C40.6818 36.6675 40.9498 36.9364 41.2804 36.9364H51.0314C51.362 36.9364 51.63 36.6675 51.63 36.3357V26.4213C51.63 26.0896 51.898 25.8207 52.2286 25.8207L64.6597 25.8207C64.8659 25.8207 65.0576 25.9271 65.167 26.1025L71.793 36.7182C71.9025 36.8935 72.0942 37 72.3004 37H84.4004C84.8768 37 85.1623 36.4688 84.9006 36.0694L76.5735 23.3575C76.5713 23.3541 76.5701 23.3502 76.5701 23.3462C76.5701 23.3349 76.5793 23.3257 76.5905 23.3256C80.5584 23.293 84.2732 19.6259 84.2732 13.0961C84.2732 5.84535 77.8859 1.84441 73.0585 1.84397L73.0559 1.84319V1.82211C73.0559 1.81792 73.0525 1.81451 73.0483 1.81451H41.2804C41.036 1.81451 40.8258 1.96149 40.7328 2.17217C41.1621 5.93024 44.6468 10.0091 52.2641 10.0091L67.8871 10.0098C69.5984 10.0098 71.8625 11.4284 71.8625 13.9989C71.8625 16.3234 70.5333 17.6246 69.1201 17.6254L52.2641 17.6254V17.6315C43.9975 17.6315 40.5981 22.4353 40.6889 26.4196H40.6818Z",fill:"#2B313B"}),Object(_.jsx)("defs",{children:Object(_.jsxs)("linearGradient",{id:"paint0_linear_25_2458",x1:"1.29563",y1:"14.7557",x2:"38.3082",y2:"14.3339",gradientUnits:"userSpaceOnUse",children:[Object(_.jsx)("stop",{offset:"0",stopColor:"#E61A11"}),Object(_.jsx)("stop",{offset:"0.554808",stopColor:"#E9712E"}),Object(_.jsx)("stop",{offset:"1",stopColor:"#FFD231"})]})})]})})),Object(h.a)(p,f.CURRENT_COLOR,(function(e){var t=e.className;return Object(_.jsxs)("svg",{viewBox:"0 0 57 25",fill:"none",className:t,children:[Object(_.jsx)("path",{d:"M17.9487 14.2217L16.5734 17.3093C16.4807 17.5174 16.6855 17.7338 16.8986 17.6529L21.9219 15.7451C24.6995 14.6901 28.3056 11.0512 28.3056 9.00033C28.3056 7.15649 24.7306 3.2162 22.0109 2.32141L14.9965 0.0135976C14.7657 -0.0623242 14.5687 0.195349 14.7025 0.398013L16.1268 2.55513C16.2862 2.79648 16.1317 3.12066 15.8438 3.14914L7.60302 3.96452C7.36611 3.98797 7.2864 4.29346 7.48169 4.42956L9.72523 5.99309C9.94834 6.14858 9.94376 6.48015 9.71643 6.62942L6.34698 8.84184C6.16706 8.95998 5.95449 9.01851 5.73941 9.00912L0.267985 8.77036C-0.00226772 8.75857 -0.104091 9.11902 0.132424 9.25024L6.1988 12.616C6.42547 12.7418 6.6914 12.777 6.94303 12.7147L9.629 12.049C9.97782 11.9626 10.3465 12.065 10.6006 12.319L12.646 14.3634C12.9125 14.6298 13.3038 14.7286 13.6649 14.6205L17.3334 13.5225C17.7532 13.3969 18.127 13.8216 17.9487 14.2217Z",fill:"currentColor"}),Object(_.jsx)("path",{d:"M26.8203 17.3502V23.8622C26.8203 24.0801 26.997 24.2567 27.215 24.2567H33.6438C33.8617 24.2567 34.0384 24.0801 34.0384 23.8622V17.3513C34.0384 17.1334 34.2151 16.9568 34.4331 16.9568L42.6288 16.9568C42.7647 16.9568 42.8911 17.0267 42.9632 17.1419L47.3317 24.1134C47.4039 24.2285 47.5302 24.2984 47.6662 24.2984H55.6437C55.9577 24.2984 56.1459 23.9496 55.9734 23.6873L50.4834 15.3392C50.482 15.337 50.4812 15.3344 50.4812 15.3318C50.4812 15.3244 50.4872 15.3184 50.4946 15.3183C53.1107 15.2969 55.5598 12.8886 55.5598 8.60041C55.5598 3.83876 51.3486 1.21128 48.166 1.211L48.1643 1.21048V1.19664C48.1643 1.19388 48.162 1.19165 48.1593 1.19165H27.215C27.0538 1.19165 26.9152 1.28817 26.8539 1.42653C27.137 3.89451 29.4344 6.57314 34.4564 6.57314L44.7565 6.5736C45.8848 6.5736 47.3775 7.50521 47.3775 9.19332C47.3775 10.7199 46.5012 11.5744 45.5694 11.5749L34.4564 11.5749V11.5789C29.0064 11.5789 26.7651 14.7336 26.825 17.3502H26.8203Z",fill:"currentColor"})]})})),p),y=function(e){var t=e.type,a=void 0===t?f.COLORED:t,n=e.className,r=x[a];return Object(_.jsx)(r,{className:n})},w=a(249),g=a.n(w),N=function(e){var t=e.children,a=e.className;return Object(_.jsx)("div",{className:m()(g.a.layout,a),children:t})},k=a(8),C=a(6),S=a(3),A=a.n(S),I=a(23),R={ACCOUNT_SUFFIX:"testnet",NEAR_NETWORK_ID:"testnet",NEAR_NODE_URL:"https://rpc.testnet.near.org",ROKETO_CONTRACT_NAME:"streaming-r-v2.dcversus.testnet",WALLET_URL:"https://wallet.testnet.near.org",PUBLIC_URL:"",PRICE_ORACLE_CONTRACT_NAME:"priceoracle.testnet",PRICE_ORACLE_SOURCE_ID:"oracle-1.testnet",WNEAR_ID:"wrap.testnet",WEB_API_URL:"https://api.test.roke.to",COMMIT_HASH:null!==(O=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ROKETO_CONTRACT_NAME:"streaming-r-v2.dcversus.testnet",REACT_APP_ROKETO_LEGACY_CONTRACT_NAME:"dev-1635510732093-17387698050424",REACT_APP_WALLET_URL:"https://wallet.testnet.near.org",REACT_APP_NEAR_NETWORK_ID:"testnet",REACT_APP_NEAR_ACCOUNT_SUFFIX:"testnet",REACT_APP_NEAR_NODE_URL:"https://rpc.testnet.near.org",REACT_APP_PRICE_ORACLE_CONTRACT_NAME:"priceoracle.testnet",REACT_APP_PRICE_ORACLE_SOURCE_ID:"oracle-1.testnet",REACT_APP_WNEAR_ID:"wrap.testnet",REACT_APP_WEB_API_URL:"https://api.test.roke.to"}).COMMIT_HASH)&&void 0!==O?O:"development",BUILD_TIME:null!==(v=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ROKETO_CONTRACT_NAME:"streaming-r-v2.dcversus.testnet",REACT_APP_ROKETO_LEGACY_CONTRACT_NAME:"dev-1635510732093-17387698050424",REACT_APP_WALLET_URL:"https://wallet.testnet.near.org",REACT_APP_NEAR_NETWORK_ID:"testnet",REACT_APP_NEAR_ACCOUNT_SUFFIX:"testnet",REACT_APP_NEAR_NODE_URL:"https://rpc.testnet.near.org",REACT_APP_PRICE_ORACLE_CONTRACT_NAME:"priceoracle.testnet",REACT_APP_PRICE_ORACLE_SOURCE_ID:"oracle-1.testnet",REACT_APP_WNEAR_ID:"wrap.testnet",REACT_APP_WEB_API_URL:"https://api.test.roke.to"}).BUILD_TIME)&&void 0!==v?v:null},E="200000000000000";function L(){return T.apply(this,arguments)}function T(){return(T=Object(k.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new I.keyStores.BrowserLocalStorageKeyStore,e.next=3,Object(I.connect)({nodeUrl:R.NEAR_NODE_URL,walletUrl:R.WALLET_URL,networkId:R.NEAR_NETWORK_ID,keyStore:t,headers:{}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return B.apply(this,arguments)}function B(){return B=Object(k.a)(A.a.mark((function e(t){var a,n,r,s,c,o,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return(i=Object(k.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.signOut();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},o=function(){return i.apply(this,arguments)},c=function(){return(c=Object(k.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Roketo Token Streaming Service",e.next=3,t.requestSignIn(R.ROKETO_CONTRACT_NAME,"Roketo Token Streaming Service");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(){return c.apply(this,arguments)},e.next=6,t.getAccountId();case 6:return a=e.sent,e.next=9,t.account();case 9:if(n=e.sent,!a){e.next=14;break}return e.next=13,n.getAccountBalance();case 13:r=e.sent;case 14:return e.abrupt("return",{balance:r,account:n,signedIn:!!a,accountId:a,login:s,logout:o});case 15:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}var P=a(14),F=a(15),D=a(16),H=a.n(D),V=a(486),W={xYears:"{{count}} years",xMonths:"{{count}} months",xDays:"{{count}}d",xSeconds:"{{count}}s",xMinutes:"{{count}}m",xHours:"{{count}}h"},U={formatDistance:function(e,t){return W[e].replace("{{count}}",t)}};var Z="Initialized",q="Active",Y="Paused",z="Finished",K=function(e){return e.status===q};function J(e){return e.status===Z||e.status===Y}function X(e){return"object"===typeof(null===e||void 0===e?void 0:e.status)&&z in e.status}function G(e){if(J(e))return new H.a(0);var t,a=Object(V.a)(Date.now())-(t=e.last_action,Number(t)/1e3/1e3/1e3);return H.a.minimum(e.balance,Number(e.tokens_per_sec)*a)}var Q=function(){function e(t){var a=t.contract,n=t.account;Object(P.a)(this,e),this.contract=void 0,this.account=void 0,this.contract=a,this.account=n}return Object(F.a)(e,[{key:"getAccount",value:function(){var e=Object(k.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.account.accountId){e.next=2;break}return e.abrupt("return",{active_incoming_streams:0,active_outgoing_streams:0,deposit:"0",inactive_incoming_streams:0,inactive_outgoing_streams:0,is_cron_allowed:!0,last_created_stream:"any",stake:"0",total_incoming:{},total_outgoing:{},total_received:{}});case 2:return e.prev=2,e.next=5,this.contract.get_account({account_id:this.account.accountId});case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{active_incoming_streams:0,active_outgoing_streams:0,deposit:"0",inactive_incoming_streams:0,inactive_outgoing_streams:0,is_cron_allowed:!0,last_created_stream:"any",stake:"0",total_incoming:{},total_outgoing:{},total_received:{}});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountIncomingStreams",value:function(){var e=Object(k.a)(A.a.mark((function e(t){var a,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.from,n=t.limit,e.prev=1,e.next=4,this.contract.get_account_incoming_streams({account_id:this.account.accountId,from:a,limit:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccountOutgoingStreams",value:function(){var e=Object(k.a)(A.a.mark((function e(t){var a,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.from,n=t.limit,e.prev=1,e.next=4,this.contract.get_account_outgoing_streams({account_id:this.account.accountId,from:a,limit:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getStream",value:function(){var e=Object(k.a)(A.a.mark((function e(t){var a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.get_stream({stream_id:a});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDao",value:function(){var e=Object(k.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.get_dao();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createStream",value:function(){var e=Object(k.a)(A.a.mark((function e(t){var a,n,r,s,c,o,i,l,u,d,m,j,b,p,f;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.comment,n=t.deposit,r=t.receiverId,s=t.tokenAccountId,c=t.commissionOnCreate,o=t.tokensPerSec,i=t.cliffPeriodSec,l=t.delayed,u=void 0!==l&&l,d=t.isExpirable,m=t.isLocked,j=t.callbackUrl,b=t.handleTransferStream,p=new H.a(n).plus(c).toFixed(),f={description:JSON.stringify({comment:a}),balance:n,owner_id:this.account.accountId,receiver_id:r,token_name:s,tokens_per_sec:BigInt(o),cliff_period_sec:i,is_locked:m,is_auto_start_enabled:!u,is_expirable:d},e.abrupt("return",b(f,p,j));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startStream",value:function(){var e=Object(k.a)(A.a.mark((function e(t){var a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.start_stream({stream_id:a},E,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseStream",value:function(){var e=Object(k.a)(A.a.mark((function e(t){var a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.pause_stream({stream_id:a},E,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopStream",value:function(){var e=Object(k.a)(A.a.mark((function e(t){var a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.stop_stream({stream_id:a},E,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=Object(k.a)(A.a.mark((function e(t){var a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamIds,e.next=3,this.contract.withdraw({stream_ids:a},E,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(k.a)(A.a.mark((function e(t){var a,n,r,s,c,o,i,l,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=new I.Contract(a,R.ROKETO_CONTRACT_NAME,{viewMethods:["get_stats","get_dao","get_token","get_stream","get_account","get_account_incoming_streams","get_account_outgoing_streams","get_account_ft"],changeMethods:["start_stream","pause_stream","stop_stream","withdraw"]}),r=new Q({contract:n,account:a}),s=r.getAccount(),c=r.getDao(),e.next=7,Promise.all([s,c]);case 7:return o=e.sent,i=Object(C.a)(o,2),l=i[0],u=i[1],e.abrupt("return",{api:r,dao:u,account:l});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te,ae,ne=a(51),re=a.n(ne),se=a(5),ce=3600,oe=86400,ie=604800,le=2419200,ue=29030400;!function(e){e.Second="second",e.Minute="minute",e.Hour="hour",e.Day="day"}(ae||(ae={}));var de=(te={},Object(h.a)(te,ae.Hour,"/h"),Object(h.a)(te,ae.Day,"/d"),Object(h.a)(te,ae.Minute,"/m"),Object(h.a)(te,ae.Second,"/s"),te),me={signInButton:"signInButton",signOutButton:"signOutButton",availableForWithdrawalCaption:"availableForWithdrawalCaption",withdrawAllButton:"withdrawAllButton",createStreamButton:"createStreamButton",withdrawButton:"withdrawButton",withdrawTooltip:"withdrawTooltip",withdrawLoadingCaption:"withdrawLoadingCaption",streamProgressCaption:"streamProgressCaption",streamControlsDropdown:"streamControlsDropdown",streamStartButton:"streamStartButton",streamPauseButton:"streamPauseButton",streamStopButton:"streamStopButton",createStreamReceiverInput:"createStreamReceiverInput",createStreamAmountInput:"createStreamAmountInput",createStreamMonthsInput:"createStreamMonthsInput",createStreamDaysInput:"createStreamDaysInput",createStreamHoursInput:"createStreamHoursInput",createStreamMinutesInput:"createStreamMinutesInput",createStreamCommentInput:"createStreamCommentInput",createStreamDelayedCheckbox:"createStreamDelayedCheckbox",createStreamLockedCheckbox:"createStreamLockedCheckbox",createStreamCancelButton:"createStreamCancelButton",createStreamSubmitButton:"createStreamSubmitButton",openNotificationsButton:"openNotificationsButton",notificationsLoader:"notificationsLoader",notificationElement:"notificationElement",notificationPrimaryCaption:"notificationPrimaryCaption",notificationSecondaryCaption:"notificationSecondaryCaption"},je=(Object.keys(me).reduce((function(e,t){return Object(se.a)(Object(se.a)({},e),{},Object(h.a)({},t,'[data-testid="'.concat(me[t],'"]')))}),{}),function(){function e(t){Object(P.a)(this,e),this.tokenDecimals=void 0,this.MP=void 0,this.tokenDecimals=t,this.MP=Math.pow(10,t)}return Object(F.a)(e,[{key:"amount",value:function(e){var t=re()(e).divide(this.MP).value(),a=re()(t).format({mantissa:3,trimMantissa:!0,optionalMantissa:!0,average:!0});return 0===t?"0":0!==e&&t<.001?"<0.001":a}},{key:"toYocto",value:function(e){return re()(e).multiply(this.MP).format({mantissa:0})}},{key:"toHumanReadableValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return re()(e).divide(this.MP).format({mantissa:t,trimMantissa:!0,optionalMantissa:!0})}},{key:"tokensPerMeaningfulPeriod",value:function(t){var a,n=this,r=[1,60,ce,oe,ie,le,ue],s=(a={1:"second"},Object(h.a)(a,60,"minute"),Object(h.a)(a,ce,"hour"),Object(h.a)(a,oe,"day"),Object(h.a)(a,ie,"week"),Object(h.a)(a,le,"month"),Object(h.a)(a,ue,"year"),a),c=r.find((function(e){return re()(t).multiply(e).divide(n.MP).value()>.1}))||ue,o=re()(t).multiply(c).divide(this.MP).value();return{formattedValue:e.formatSmartly(o),unit:s[c]}}}],[{key:"formatSmartly",value:function(e){return 0===e?"0":e<.001?"<0.001":re()(e).format({mantissa:3,trimMantissa:!0,optionalMantissa:!0,average:!0})}}]),e}()),be=a(250),pe=a.n(be);function fe(e){return e===R.WNEAR_ID}var he=function(){function e(t,a){var n=this;Object(P.a)(this,e),this.contract=void 0,this.tokenAccountId=void 0,this.account=void 0,this.transfer=function(){var e=Object(k.a)(A.a.mark((function e(t,a,r){var s,c,o,i,l,u,d,m;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.getIsRegistered(t.owner_id),n.getIsRegistered(t.receiver_id)]);case 2:return s=e.sent,c=Object(C.a)(s,2),o=c[0],i=c[1],l=[I.transactions.functionCall("ft_transfer_call",{receiver_id:R.ROKETO_CONTRACT_NAME,amount:new H.a(a).toFixed(),memo:"Roketo transfer",msg:pe.a.stringify({Create:{request:t}})},"100000000000000",1)],u=new H.a(0),d=I.utils.format.parseNearAmount("0.00125"),o||(l.unshift(I.transactions.functionCall("storage_deposit",{account_id:t.owner_id},"30000000000000",d)),u=u.plus(d)),i||(l.unshift(I.transactions.functionCall("storage_deposit",{account_id:t.receiver_id},"30000000000000",d)),u=u.plus(d)),fe(n.tokenAccountId)&&l.unshift(I.transactions.functionCall("near_deposit",{},"30000000000000",new H.a(a).plus(u).toFixed())),m=n.account.signAndSendTransaction({receiverId:n.tokenAccountId,walletCallbackUrl:r,actions:l}),e.abrupt("return",m);case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.tokenAccountId=a,this.account=t,this.contract=new I.Contract(t,a,{viewMethods:["ft_balance_of","ft_metadata","storage_balance_of"],changeMethods:["ft_transfer_call","storage_deposit","near_deposit"]})}return Object(F.a)(e,[{key:"getMetadata",value:function(){var e=Object(k.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.ft_metadata();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(k.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.account.accountId){e.next=2;break}return e.abrupt("return","0");case 2:return e.next=4,this.contract.ft_balance_of({account_id:this.account.accountId});case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getIsRegistered",value:function(){var e=Object(k.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.storage_balance_of({account_id:t});case 2:return a=e.sent,e.abrupt("return",a&&"0"!==a.total);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function _e(e){return Oe.apply(this,arguments)}function Oe(){return Oe=Object(k.a)(A.a.mark((function e(t){var a,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=t.tokens,r={},e.next=4,Promise.all(Object.keys(n).map(function(){var e=Object(k.a)(A.a.mark((function e(t){var s,c,o,i,l,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new he(a,t),e.next=3,Promise.all([s.getMetadata(),s.getBalance()]);case 3:c=e.sent,o=Object(C.a)(c,2),i=o[0],l=o[1],u=new je(i.decimals),r[t]={api:s,formatter:u,roketoMeta:n[t],meta:i,balance:l};case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}var ve=Math.pow(10,24),xe=Math.pow(10,18),ye={"wrap.testnet":ve,"dai.fakes.testnet":xe,"wrap.near":ve,"dai.bridge.near":xe},we=["get_assets","get_asset","get_price_data"],ge=[],Ne=function(e,t){return e.reduce((function(e,a){var n=Object(C.a)(a,2),r=n[0],s=n[1].reports.find((function(e){return e.oracle_id===t}));return s?Object(se.a)(Object(se.a)({},e),{},Object(h.a)({},r,s.price)):e}),{})},ke=function(e,t){return function(a,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=e[a],c=t[a];if(!s||!c)return"0";var o=s.multiplier,i=s.decimals;return re()(n).multiply(c).multiply(Number(o)).divide(Math.pow(10,i)).format({mantissa:r,trimMantissa:!0})}},Ce=function(){var e=Object(k.a)(A.a.mark((function e(t){var a,n,r,s,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=new I.Contract(a,R.PRICE_ORACLE_CONTRACT_NAME,{viewMethods:we,changeMethods:ge}),e.next=4,n.get_assets({});case 4:return r=e.sent,s=Ne(r,R.PRICE_ORACLE_SOURCE_ID),c=ke(s,ye),e.abrupt("return",{getPriceInUsd:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=r.a.createContext(null);function Ae(e){var t=e.children,a=Object(n.useState)(null),r=Object(C.a)(a,2),s=r[0],c=r[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(k.a)(A.a.mark((function e(){var t,a,n,r,s,o,i,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:return t=e.sent,a=new I.WalletConnection(t,R.ROKETO_CONTRACT_NAME),e.next=6,M(a);case 6:return n=e.sent,e.next=9,Promise.all([$({account:n.account}),Ce({account:n.account})]);case 9:return r=e.sent,s=Object(C.a)(r,2),o=s[0],i=s[1],e.next=15,_e({account:n.account,tokens:o.dao.tokens});case 15:l=e.sent,c({auth:n,near:t,roketo:o,priceOracle:i,walletConnection:a,tokens:l});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(_.jsx)(Se.Provider,{value:s,children:s?t:null})}var Ie=new Error("Near context is not found");function Re(){var e=Object(n.useContext)(Se);if(!e)throw Ie;return e}var Ee,Le,Te=a(17),Me=a(96),Be=a.n(Me),Pe=["type","displayMode","disabled","link","children","className","onClick","testId"];!function(e){e.button="button",e.submit="submit"}(Ee||(Ee={})),function(e){e.primary="primary",e.simple="simple",e.secondary="secondary",e.action="action",e.invisible="invisible"}(Le||(Le={}));var Fe=function(e){var t,a=e.type,n=void 0===a?Ee.button:a,r=e.displayMode,s=void 0===r?Le.action:r,c=e.disabled,o=void 0!==c&&c,i=e.link,u=e.children,d=e.className,j=e.onClick,b=e.testId,p=Object(Te.a)(e,Pe),f=m()(Be.a.root,(t={},Object(h.a)(t,Be.a.primary,s===Le.primary),Object(h.a)(t,Be.a.secondary,s===Le.secondary),Object(h.a)(t,Be.a.action,s===Le.action),Object(h.a)(t,Be.a.simple,s===Le.simple),t),d),O=Object(_.jsx)("button",Object(se.a)(Object(se.a)({type:n,className:f,onClick:j,disabled:o},p),{},{"data-testid":b,children:u}));return i?Object(_.jsx)(l.b,{to:i,children:O}):O},De=function(e){var t=e.className;return Object(_.jsx)("svg",{className:t,width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:Object(_.jsx)("path",{d:"M7.09 12.59L8.5 14L13.5 9L8.5 4L7.09 5.41L9.67 8H0V10H9.67L7.09 12.59ZM16 0H2C0.89 0 0 0.9 0 2V6H2V2H16V16H2V12H0V16C0 17.1 0.89 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z",fill:"currentColor"})})},He=a(145),Ve=a.n(He),We=function(){var e=Re().auth,t=e.login,a=e.logout;return e.signedIn?Object(_.jsx)("button",{type:"button",onClick:a,className:Ve.a.logoutButton,"data-testid":me.signOutButton,children:Object(_.jsx)(De,{})}):Object(_.jsxs)(Fe,{onClick:t,className:Ve.a.root,testId:me.signInButton,children:[Object(_.jsx)("span",{className:Ve.a.name,children:"Sign in with NEAR Wallet"}),Object(_.jsx)(De,{})]})},Ue={legacyStreams:{path:"/streams/legacy",title:"Streams (legacy)"},legacyStream:{path:"/streams/legacy/:id"}};function Ze(e){return"".concat(window.location.origin,"/#/streams/legacy/").concat(e)}var qe=a(71),Ye=a.n(qe),ze=a(491),Ke=a(488),Je=function(e){var t=e.width,a=void 0===t?10:t,n=e.height,r=void 0===n?20:n,s=e.className;return Object(_.jsx)("svg",{className:s,width:a,height:r,viewBox:"0 0 10 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M10 15L10 11L8 11L8 15C8 16.65 6.65 18 5 18C3.35 18 2 16.65 2 15L2 11L-4.80825e-07 11L-6.55671e-07 15C-7.76314e-07 17.76 2.24 20 5 20C7.76 20 10 17.76 10 15ZM2 9L2 5C2 3.35 3.35 2 5 2C6.65 2 8 3.35 8 5L8 9L10 9L10 5C10 2.24 7.76 -9.79135e-08 5 -2.18557e-07C2.24 -3.392e-07 -9.79135e-08 2.24 -2.18557e-07 5L-3.93402e-07 9L2 9ZM6 6L6 14L4 14L4 6L6 6Z",fill:"currentColor"})})},Xe=(a(348),["icon","children","className","size","loading","disabled","loadingText","color","variant"]),Ge="main",Qe="filled",$e="outlined";function et(e){var t=e.icon,a=e.children,n=e.className,r=e.size,s=e.loading,c=e.disabled,o=e.loadingText,i=e.color,u=void 0===i?"light":i,d=e.variant,j=void 0===d?"outlined":d,b=Object(Te.a)(e,Xe),p="",f="",h="";j===Ge?(p="Button--main",f="normal"===r?"px-5 py-4  rounded-2xl font-semibold":"big"===r?"px-12 py-6 rounded-3xl font-bold":""):j===$e?(p="border-solid border font-semibold rounded-lg ",h="light"===u?"border-blue hover:bg-blue":"dark"===u?"border-border hover:bg-hover hover:border-hover":""):j===Qe&&(p="bg-dark hover:bg-hover font-semibold rounded-lg active:bg-transparent");var O={disabled:s||c,className:m()("inline-flex items-center justify-center p-3  whitespace-nowrap",p,f,h,c?"Button--disabled":"","transition-all",n)},v=s?o:Object(_.jsxs)(_.Fragment,{children:[t?Object(_.jsx)("div",{className:"mr-2",children:t}):null,a]});return b.link?Object(_.jsx)(l.b,Object(se.a)(Object(se.a)(Object(se.a)({},O),b),{},{children:v})):Object(_.jsx)("button",Object(se.a)(Object(se.a)(Object(se.a)({},O),b),{},{type:"button"===b.type?"button":"submit",children:v}))}var tt=a.p+"static/media/RUSSIANS_HACK.83d68466.gif",at=a.p+"static/media/crab.3fbdb8f2.gif";function nt(e){var t=e.message,a=e.onRetry,n=e.className,s=r.a.useRef(Math.random());return Object(_.jsxs)("div",{className:m()("text-center",n),children:[s.current>.5?Object(_.jsx)("img",{src:tt,className:"mx-auto",alt:"funny hackers gif with bird dancing around"}):Object(_.jsx)("img",{src:at,className:"mx-auto",alt:"crab with a knife tries to hurt people"}),Object(_.jsx)("h1",{className:"text-4xl font-semibold mb-6 mt-10",children:"Something is broken."}),Object(_.jsx)("p",{className:"text-gray mb-4",children:"Finally we have something to fix"}),t&&Object(_.jsx)("code",{className:"p-4 border-special-inactive border block text-special-inactive text-xs mb-4",children:t}),Object(_.jsx)(et,{variant:"outlined",color:"dark",className:"mt-10",onClick:a,type:"button",children:"Try again"}),Object(_.jsx)("p",{className:"text-xs text-gray mt-2",children:"(that probably wont help)"})]})}var rt=function(e){var t=e.width,a=void 0===t?8:t,n=e.height,r=void 0===n?6:n,s=e.className;return Object(_.jsx)("div",{className:s,children:Object(_.jsx)("svg",{width:a,height:r,viewBox:"0 0 8 6",fill:"none",children:Object(_.jsx)("path",{d:"M7.06 0.726562L4 3.7799L0.94 0.726562L0 1.66656L4 5.66656L8 1.66656L7.06 0.726562Z",fill:"currentColor"})})})},st=a(146),ct=a.n(st),ot=["opened","className","children","onChange","testId"];function it(e){var t=e.opened,a=e.className,n=e.children,r=e.onChange,s=e.testId,c=Object(Te.a)(e,ot),o=m()(ct.a.arrow,Object(h.a)({},ct.a.rotate,t));return Object(_.jsxs)("button",Object(se.a)(Object(se.a)({type:"button",onClick:function(){return r(!t)},className:m()(ct.a.root,a),"data-testid":s},c),{},{children:[n,Object(_.jsx)(rt,{className:o})]}))}var lt=a(50),ut=a(266),dt=a(255),mt={receiver:"",streamName:"",token:R.WNEAR_ID,speed:0,deposit:0,delayed:!1,comment:"",isLocked:!1,cliffDateTime:null},jt=function(e,t){if(e<=0)return"none";var a=t.formatter,n=t.meta,r=a.tokensPerMeaningfulPeriod(e),s=r.formattedValue,c=r.unit;return"".concat(s," ").concat(n.symbol," / ").concat(c)},bt=function(e,t){var a=new H.a(e),n=new H.a(t);return a.isEqualTo(0)||n.isEqualTo(0)?new H.a(0):a.dividedBy(n).multipliedBy(100)},pt=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return bt(e,t).dp(a)},ft=a(52),ht=a.n(ft),_t=function(e){var t,a=e.total,n=e.streamed,r=e.withdrawn,s=e.className,c=e.cliffPercent,o=e.withBigCliffMark,i=void 0!==o&&o,l=pt(n,a),u=pt(r,n);return Object(_.jsxs)("div",{className:m()(ht.a.progressBar,s),children:[Object(_.jsx)("div",{className:m()(ht.a.progress,ht.a.streamed),style:{width:"".concat(l,"%")},children:Object(_.jsx)("div",{className:m()(ht.a.progress,ht.a.withdrawn),style:{width:"".concat(u,"%")}})}),"number"===typeof c&&Object(_.jsx)("div",{title:"Cliff",className:ht.a.cliffMarkContainer,style:{left:"".concat(c,"%")},children:Object(_.jsx)("div",{className:m()(ht.a.cliffMark,(t={},Object(h.a)(t,ht.a.cliffMarkBig,i),Object(h.a)(t,ht.a.cliffMarkPassed,l.toNumber()>c),t))})})]})},Ot=["tokenAccountId","className"];function vt(e){return Object(_.jsx)("svg",Object(se.a)(Object(se.a)({version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"20pt",height:"20pt",viewBox:"0 0 864.000000 864.000000",preserveAspectRatio:"xMidYMid meet"},e),{},{children:Object(_.jsx)("g",{transform:"translate(0.000000,864.000000) scale(0.100000,-0.100000)",fill:"#FFFFFF",stroke:"none",children:Object(_.jsx)("path",{d:"M2490 6461 c-164 -53 -265 -156 -314 -320 -14 -49 -16 -226 -16 -1821 0 -1595 2 -1772 16 -1821 25 -85 62 -148 118 -205 179 -178 476 -178 650 0 30 30 249 347 519 749 518 772 502 742 438 799 -21 19 -42 28 -66 28 -40 0 -6 28 -555 -449 -283 -246 -411 -351 -425 -349 -20 3 -20 11 -20 1238 l0 1235 21 3 c16 2 286 -315 1376 -1621 746 -892 1372 -1637 1392 -1654 94 -83 187 -113 351 -113 169 0 275 39 371 134 56 57 93 120 118 205 14 49 16 226 16 1821 0 1595 -2 1772 -16 1821 -25 85 -62 148 -118 205 -179 178 -476 178 -650 0 -30 -30 -249 -347 -519 -749 -518 -772 -502 -742 -438 -799 21 -19 42 -28 66 -28 40 0 6 -28 555 449 283 246 411 351 425 349 20 -3 20 -11 20 -1238 l0 -1235 -21 -3 c-16 -2 -286 315 -1376 1621 -746 892 -1372 1637 -1392 1654 -95 85 -187 113 -356 112 -82 0 -131 -5 -170 -18z"})})}))}function xt(e){return Object(_.jsx)("svg",Object(se.a)(Object(se.a)({version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"20pt",height:"20pt",viewBox:"0 0 864.000000 864.000000",preserveAspectRatio:"xMidYMid meet"},e),{},{children:Object(_.jsx)("g",{transform:"translate(0.000000,864.000000) scale(0.100000,-0.100000)",fill:"#FFFFFF",stroke:"none",children:Object(_.jsx)("path",{d:"M2490 6461 c-164 -53 -265 -156 -314 -320 -14 -49 -16 -226 -16 -1821 0 -1595 2 -1772 16 -1821 25 -85 62 -148 118 -205 179 -178 476 -178 650 0 30 30 249 347 519 749 518 772 502 742 438 799 -21 19 -42 28 -66 28 -40 0 -6 28 -555 -449 -283 -246 -411 -351 -425 -349 -20 3 -20 11 -20 1238 l0 1235 21 3 c16 2 286 -315 1376 -1621 746 -892 1372 -1637 1392 -1654 94 -83 187 -113 351 -113 169 0 275 39 371 134 56 57 93 120 118 205 14 49 16 226 16 1821 0 1595 -2 1772 -16 1821 -25 85 -62 148 -118 205 -179 178 -476 178 -650 0 -30 -30 -249 -347 -519 -749 -518 -772 -502 -742 -438 -799 21 -19 42 -28 66 -28 40 0 6 -28 555 449 283 246 411 351 425 349 20 -3 20 -11 20 -1238 l0 -1235 -21 -3 c-16 -2 -286 315 -1376 1621 -746 892 -1372 1637 -1392 1654 -95 85 -187 113 -356 112 -82 0 -131 -5 -170 -18z"})})}))}var yt={"wrap.testnet":vt,"wrap.near":vt};function wt(e){var t,a,n=e.tokenAccountId,r=e.className,s=Object(Te.a)(e,Ot),c=null===(t=Re().tokens[n])||void 0===t||null===(a=t.meta)||void 0===a?void 0:a.icon;if(c)return Object(_.jsx)("img",Object(se.a)({src:c,alt:n,className:r},s));var o=n in yt?yt[n]:xt;return Object(_.jsx)(o,Object(se.a)({className:r},s))}function gt(e){var t=e.tokenAccountId,a=e.size,n=void 0===a?8:a,r=e.className;return Object(_.jsx)("div",{className:m()("p-1 flex-shrink-0 rounded-full bg-black inline-flex items-center justify-center","w-".concat(n," h-").concat(n),r),children:Object(_.jsx)(wt,{className:"w-full h-full rounded-full",tokenAccountId:t})})}var Nt="INITIALIZED",kt="ACTIVE",Ct="PAUSED",St="FINISHED",At="INTERRUPTED",It="in",Rt="out",Et="factory.bridge.near",Lt=["get_account","get_stream","get_stream_history","get_status"],Tt=["create_stream","deposit","update_account","start_stream","pause_stream","stop_stream","change_auto_deposit","start_cron"],Mt=a(147),Bt=a.n(Mt),Pt=["children","className"];function Ft(e){var t=e.opened,a=e.children,n=e.className,s=e.onClose,c=r.a.useRef(null);return function(e,t){var a=function(a){var n=a.target;e.current&&n instanceof HTMLElement&&!e.current.contains(n)&&t()};r.a.useEffect((function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}))}(c,(function(){t&&s()})),Object(_.jsx)("div",{ref:c,className:m()(Bt.a.menu,Object(h.a)({},Bt.a.hidden,!t),n),children:a})}function Dt(e){var t=e.children,a=e.className,n=Object(Te.a)(e,Pt);return Object(_.jsx)("div",Object(se.a)(Object(se.a)({className:a},n),{},{children:t}))}function Ht(){return Object(_.jsx)("div",{className:Bt.a.menuDivider})}function Vt(e){var t=r.a.useState(e),a=Object(C.a)(t,2),n=a[0],s=a[1];return{on:n,off:!n,toggle:function(){return s(!n)},turnOff:function(){return s(!1)},turnOn:function(){return s(!0)},setOn:s}}function Wt(){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(k.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new I.keyStores.BrowserLocalStorageKeyStore,e.next=3,Object(I.connect)({nodeUrl:R.NEAR_NODE_URL,walletUrl:R.WALLET_URL,networkId:R.NEAR_NETWORK_ID,keyStore:t,headers:{}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(e){var t=e.getAccountId();function a(){return(a=Object(k.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"Roketo Token Streaming Service",t.next=3,e.requestSignIn("dev-1635510732093-17387698050424","Roketo Token Streaming Service");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function n(){return(n=Object(k.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.signOut();case 2:window.location.reload();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{account:e.account(),signedIn:!!t,accountId:t,login:function(){return a.apply(this,arguments)},logout:function(){return n.apply(this,arguments)}}}var qt=["ft_balance_of"],Yt=["ft_transfer","ft_transfer_call"],zt="dev-1635510732093-17387698050424",Kt="200000000000000",Jt=1e9;function Xt(e){return e.status===St||e.status===At}function Gt(e){return e.status===kt}var Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"any";return{account_id:e,dynamic_inputs:[],dynamic_outputs:[],static_streams:[],last_action:null,ready_to_withdraw:[],total_incoming:[],total_outgoing:[],total_received:[],is_external_update_enabled:!1,cron_task:null}};function $t(e){var t=e.contract,a=e.ft,n=e.walletConnection,r=e.account,s=e.operationalCommission,c=e.tokens,o=function(){var e=Object(k.a)(A.a.mark((function e(a){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qt(a),e.prev=1,e.next=4,t.get_account({account_id:a});case 4:return r=e.sent,e.abrupt("return",r||n);case 8:e.prev=8,e.t0=e.catch(1),console.debug("[RoketoContractApi]: nearerror",e.t0);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return{getCurrentAccount:function(){return o(n.getAccountId())},updateAccount:function(){var e=Object(k.a)(A.a.mark((function e(a){var n,c,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.tokensWithoutStorage,c=void 0===n?0:n,e.next=3,t.update_account({account_id:r.accountId},Kt,new H.a(1e22).multipliedBy(c).plus(s).toFixed());case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAccount:o,createStream:function(){var e=Object(k.a)(A.a.mark((function e(r){var s,o,i,l,u,d,m,j,b,p,f,h,_=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.deposit,o=r.receiverId,i=r.token,l=r.speed,u=r.description,d=r.isAutoStartEnabled,m=void 0===d||d,j=_.length>1&&void 0!==_[1]?_[1]:{},b=j.callbackUrl,f=c[i].commission_on_create,e.prev=3,"NEAR"!==i){e.next=10;break}return e.next=7,t.create_stream({args:{owner_id:n.getAccountId(),receiver_id:o,token_name:i,tokens_per_tick:l,description:u,is_auto_deposit_enabled:!1,is_auto_start_enabled:m},gas:Kt,amount:new H.a(s).plus(f).toFixed(),callbackUrl:b});case 7:p=e.sent,e.next=14;break;case 10:return h=a[i].contract,e.next=13,h.ft_transfer_call({args:{receiver_id:t.contractId,amount:new H.a(s).plus(f).toFixed(),memo:"Roketo transfer",msg:JSON.stringify({Create:{description:u,owner_id:n.getAccountId(),receiver_id:o,token_name:i,tokens_per_tick:l,balance:s,is_auto_deposit_enabled:!1,is_auto_start_enabled:m}})},gas:Kt,amount:1,callbackUrl:b});case 13:p=e.sent;case 14:return e.abrupt("return",p);case 17:throw e.prev=17,e.t0=e.catch(3),console.debug(e.t0),e.t0;case 21:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t){return e.apply(this,arguments)}}(),depositStream:function(){var e=Object(k.a)(A.a.mark((function e(n){var r,s,c,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.streamId,s=n.token,c=n.deposit,"NEAR"!==s){e.next=6;break}return e.next=4,t.deposit({stream_id:r},Kt,c);case 4:e.next=9;break;case 6:return o=a[s].contract,e.next=9,o.ft_transfer_call({receiver_id:t.contractId,amount:c,msg:JSON.stringify({Deposit:r})},Kt,1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pauseStream:function(){var e=Object(k.a)(A.a.mark((function e(a){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,e.next=3,t.pause_stream({stream_id:n},Kt,s);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),startStream:function(){var e=Object(k.a)(A.a.mark((function e(a){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,e.next=3,t.start_stream({stream_id:n},Kt,s);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stopStream:function(){var e=Object(k.a)(A.a.mark((function e(a){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,e.next=3,t.stop_stream({stream_id:n},Kt,s);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getStream:function(){var e=Object(k.a)(A.a.mark((function e(a){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,e.next=3,t.get_stream({stream_id:n});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getStatus:function(){var e=Object(k.a)(A.a.mark((function e(){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get_status({});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getStreamHistory:function(){var e=Object(k.a)(A.a.mark((function e(a){var n,r,s,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,r=a.from,s=a.to,e.next=3,t.get_stream_history({stream_id:n,from:r,to:s});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}var ea=function(e){var t={};return e.forEach((function(e){t[e.ticker]=e})),t};function ta(e){return aa.apply(this,arguments)}function aa(){return(aa=Object(k.a)(A.a.mark((function e(t){var a,n,r,s,c,o,i,l,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.walletConnection,e.next=3,a.account();case 3:n=e.sent,e.next=6;break;case 6:return r=new I.Contract(n,zt,{viewMethods:Lt,changeMethods:Tt}),e.next=9,r.get_status({});case 9:return s=e.sent,c={},o=ea(s.tokens),s.tokens.forEach((function(e){c[e.ticker]={name:e.ticker,address:e.account_id,contract:new I.Contract(n,e.account_id,{viewMethods:qt,changeMethods:Yt})}})),i=$t({contract:r,ft:c,walletConnection:a,account:n,operationalCommission:s.operational_commission,tokens:o}),l=function(e){return s.tokens.find((function(t){return t.ticker===e}))},u=function(e){var t=l(e);return Boolean(null===t||void 0===t?void 0:t.account_id.endsWith(Et))},e.abrupt("return",{api:i,status:s,tokenMeta:l,isBridged:u});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var na=Object(F.a)((function e(t){var a=t.ticker,n=t.metadata;Object(P.a)(this,e),this.ticker=void 0,this.metadata=void 0,this.ticker=a,this.metadata=n}));var ra=new na({ticker:"NEAR",metadata:{spec:null,name:"Near Protocol",symbol:"NEAR",icon:"",reference:null,reference_hash:null,decimals:24}}),sa=function(){function e(t){var a=this,n=t.tokens,r=t.account;Object(P.a)(this,e),this.__tokens=void 0,this.__account=void 0,this.__contracts=void 0,this.tokens=void 0,this.__tokens=n,this.__account=r,this.__contracts={},this.tokens={},n&&r&&n.forEach((function(e){a.__contracts[e.ticker]=function(e,t){return new I.Contract(e,t,{viewMethods:["ft_balance_of","ft_metadata","storage_balance_of"],changeMethods:["ft_transfer","ft_transfer_call"]})}(r,e.account_id)}))}return Object(F.a)(e,[{key:"tickers",get:function(){return Object.keys(this.tokens)}},{key:"contract",value:function(e){return this.__contracts[e]}},{key:"get",value:function(e){return this.tokens[e]||new na({ticker:e,metadata:{spec:null,name:e,symbol:e,icon:"",reference:null,reference_hash:null,decimals:24}})}},{key:"init",value:function(){var e=Object(k.a)(A.a.mark((function e(){var t=this;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.__tokens.map(function(){var e=Object(k.a)(A.a.mark((function e(a){var n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("NEAR"!==a.ticker){e.next=4;break}n=ra,e.next=15;break;case 4:if(a.account_id){e.next=8;break}n=new na({ticker:a.ticker,metadata:{spec:null,name:a.ticker,symbol:a.ticker,icon:"",reference:null,reference_hash:null,decimals:24}}),e.next=15;break;case 8:return r=t.contract(a.ticker),e.next=11,r.ft_metadata();case 11:if(!((s=e.sent).decimals<8)){e.next=14;break}return e.abrupt("return");case 14:n=new na({ticker:a.ticker,metadata:s});case 15:t.tokens[a.ticker]=n;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"balance",value:function(){var e=Object(k.a)(A.a.mark((function e(t){var a,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("NEAR"!==t){e.next=5;break}return e.next=3,this.__account.getAccountBalance();case 3:return a=e.sent,e.abrupt("return",a.total);case 5:return n=this.contract(t),e.next=8,n.ft_balance_of({account_id:this.__account.accountId});case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ftStorageBalance",value:function(){var e=Object(k.a)(A.a.mark((function e(t){var a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.contract(t),e.next=3,a.storage_balance_of({account_id:this.__account.accountId});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ca=r.a.createContext(null);function oa(e){var t=e.children,a=Object(n.useState)(null),r=Object(C.a)(a,2),s=r[0],c=r[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(k.a)(A.a.mark((function e(){var t,a,n,r,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt();case 2:return t=e.sent,a=new I.WalletConnection(t,R.ROKETO_CONTRACT_NAME),n=Zt(a),e.next=7,ta({walletConnection:a});case 7:return r=e.sent,s=new sa({account:a.account(),tokens:r.status.tokens}),e.next=11,s.init();case 11:c({auth:n,near:t,roketo:r,walletConnection:a,tokens:s});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(_.jsx)(ca.Provider,{value:s,children:s?t:null})}var ia,la=new Error("Near context is not found");function ua(){var e=Object(n.useContext)(ca);if(!e)throw la;return e}var da=(ia={},Object(h.a)(ia,Nt,{label:"Initialized"}),Object(h.a)(ia,kt,{label:"Active"}),Object(h.a)(ia,Ct,{label:"Paused"}),Object(h.a)(ia,St,{label:"Finished"}),Object(h.a)(ia,At,{label:"Finished"}),ia);function ma(e){var t=e.stream,a=e.className,n=da[t.status];return Object(_.jsx)("div",{className:m()(a),children:n.label})}var ja=a(22),ba=a.n(ja);function pa(){return Object(_.jsx)("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",children:Object(_.jsx)("path",{d:"M1.66634 2.76016L5.17968 5.00016L1.66634 7.24016V2.76016ZM0.333008 0.333496V9.66683L7.66634 5.00016L0.333008 0.333496Z",fill:"currentColor"})})}function fa(){return Object(_.jsx)("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",children:Object(_.jsx)("path",{d:"M0 9.66659H2.66667V0.333252H0V9.66659ZM5.33333 0.333252V9.66659H8V0.333252H5.33333Z",fill:"currentColor"})})}function ha(){return Object(_.jsx)("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:Object(_.jsx)("path",{d:"M6.66667 1.33333V6.66667H1.33333V1.33333H6.66667ZM8 0H0V8H8V0Z",fill:"currentColor"})})}function _a(e){var t=e.modalControl,a=e.onConfirm;return Object(_.jsxs)(i.a,{isOpen:t.on,onRequestClose:t.turnOff,className:ba.a.modalContent,overlayClassName:ba.a.modalOverlay,children:[Object(_.jsx)("h2",{className:ba.a.modalHeader,children:"Are you sure?"}),Object(_.jsx)("p",{children:"As a stream receiver, you will not be able to resume stream. Only stream owners can resume streams."}),Object(_.jsxs)("div",{className:ba.a.modalButtons,children:[Object(_.jsx)("button",{type:"button",onClick:t.turnOff,className:m()(ba.a.modalButton,ba.a.modalSecondary),children:"Cancel"}),Object(_.jsx)("button",{type:"button",onClick:function(){t.turnOff(),a()},className:m()(ba.a.modalButton,ba.a.modalWarning),children:"Pause"})]})]})}function Oa(e){var t=e.modalControl,a=e.onConfirm;return Object(_.jsxs)(i.a,{isOpen:t.on,onRequestClose:t.turnOff,className:ba.a.modalContent,overlayClassName:ba.a.modalOverlay,children:[Object(_.jsx)("h2",{className:ba.a.modalHeader,children:"Stop stream"}),Object(_.jsx)("p",{children:"This action will completely shut down the stream. After that, it can't be turned on."}),Object(_.jsxs)("div",{className:ba.a.modalButtons,children:[Object(_.jsx)("button",{type:"button",onClick:t.turnOff,className:m()(ba.a.modalButton,ba.a.modalSecondary),children:"Cancel"}),Object(_.jsx)("button",{type:"button",onClick:function(){t.turnOff(),a()},className:m()(ba.a.modalButton,ba.a.modalDanger),children:"Stop"})]})]})}function va(e){var t,a=e.stream,r=e.className,s=ua(),c=s.auth,o=s.roketo,i=Vt(!1),l=Vt(!1),u=Object(n.useState)(!1),d=Object(C.a)(u,2),j=d[0],b=d[1],p=Object(n.useState)(!1),f=Object(C.a)(p,2),O=f[0],v=f[1],x=c.accountId===a.owner_id,y=c.accountId===a.receiver_id,w=!x&&!y,g=function(){var e=Object(k.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,o.api.pauseStream({streamId:a.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(k.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,o.api.startStream({streamId:a.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(k.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,o.api.stopStream({streamId:a.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Xt(a)||w)return Object(_.jsx)(ma,{className:r,stream:a});var I=O&&!j,R=a.status!==kt&&x,E=a.status===kt,L=(t={},Object(h.a)(t,ba.a.active,Gt(a)),Object(h.a)(t,ba.a.pause,function(e){return e.status===Ct}(a)),Object(h.a)(t,ba.a.stop,Xt(a)),t);return Object(_.jsxs)("div",{className:m()(ba.a.relative,r),children:[Object(_.jsx)(_a,{modalControl:i,onConfirm:g}),Object(_.jsx)(Oa,{modalControl:l,onConfirm:S}),Object(_.jsx)(it,{opened:I,onChange:v,className:m()(ba.a.dropdownOpener,L),children:j?"Loading...":Object(_.jsx)(ma,{stream:a,className:ba.a.statusPadded})}),Object(_.jsxs)(Ft,{onClose:function(){return v(!1)},opened:I,className:ba.a.controlsMenu,children:[R&&Object(_.jsx)(Dt,{children:Object(_.jsxs)("button",{type:"button",onClick:N,className:m()(ba.a.controlButton,ba.a.start),children:[Object(_.jsx)(pa,{}),Object(_.jsx)("span",{children:"Start"})," "]})}),E&&Object(_.jsx)(Dt,{children:Object(_.jsxs)("button",{type:"button",onClick:function(){v(!1),y?i.turnOn():g()},className:m()(ba.a.controlButton,ba.a.pause),children:[Object(_.jsx)(fa,{}),Object(_.jsx)("span",{children:"Pause"})]})}),(R||E)&&Object(_.jsx)(Ht,{}),Object(_.jsx)(Dt,{children:Object(_.jsxs)("button",{type:"button",onClick:function(){v(!1),l.turnOn()},className:m()(ba.a.controlButton,ba.a.stop),children:[Object(_.jsx)(ha,{}),Object(_.jsx)("span",{children:"Stop"})]})})]})]})}var xa="in",ya="out";function wa(e){var t=ua().auth;return e.receiver_id===t.accountId?xa:e.owner_id===t.accountId?ya:null}var ga=a(18),Na=a(44),ka=a(256),Ca=a(492),Sa=a(487);function Aa(e,t){return e.map((function(e){return Object(se.a)(Object(se.a)({},e),{},{direction:e.owner_id===t?Rt:e.receiver_id===t?It:null})}))}function Ia(){var e=ua(),t=e.auth,a=e.roketo;return Object(Na.a)(["account",t.accountId],a.api.getCurrentAccount,{errorRetryInterval:250})}function Ra(e,t,a){if(!Gt(e))return e;var n=Object(ka.a)(Date.now(),a);return Object(se.a)(Object(se.a)({},e),{},{available_to_withdraw:String(Math.min(Number(t)+Number(e.tokens_per_tick)*Jt*n,Number(e.balance)))})}var Ea={values:{},cachedAt:0};function La(e){var t=e.account,a=ua(),s=a.auth,c=a.roketo,o=Object(n.useRef)(Ea),i=Object(n.useRef)(0),l=Object(Na.a)((function(){return!!t&&["streams",t.account_id,t.last_action]}),Object(k.a)(A.a.mark((function e(){var a,n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[].concat(Object(ga.a)((null===t||void 0===t?void 0:t.dynamic_inputs)||[]),Object(ga.a)((null===t||void 0===t?void 0:t.dynamic_outputs)||[]),Object(ga.a)((null===t||void 0===t?void 0:t.static_streams)||[])),e.next=3,Promise.all(a.map((function(e){return c.api.getStream({streamId:e})})));case 3:return n=e.sent,r=Aa(n,s.accountId).filter((function(e){return!Xt(e)})),o.current={values:r.reduce((function(e,t){return Object.assign(e,Object(h.a)({},t.id,t.available_to_withdraw))}),{}),cachedAt:Date.now()},i.current=29,e.abrupt("return",{inputs:r.filter((function(e){return e.direction===It})),outputs:r.filter((function(e){return e.direction===Rt}))});case 8:case"end":return e.stop()}}),e)}))));return r.a.useEffect((function(){var e=setTimeout((function(){if(!l.data||i.current<=0)l.mutate();else{i.current-=1;var e=function(e){return Ra(e,o.current.values[e.id],o.current.cachedAt)};l.mutate({inputs:l.data.inputs.map(e),outputs:l.data.outputs.map(e)},{revalidate:!1})}}),1e3);return function(){return clearTimeout(e)}}),[l]),l}var Ta={value:"",cachedAt:0};function Ma(e,t){if(function(e){return e.status===Nt||e.status===Ct}(e))return null;var a=new H.a(e.tokens_per_tick).multipliedBy(1e6);return Number(e.timestamp_created)/1e6+t.dividedBy(a).toNumber()}function Ba(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=290304e5,n=t?new H.a(e.available_to_withdraw):new H.a(0),r=H.a.minimum(a,new H.a(e.balance).minus(n).dividedBy(e.tokens_per_tick).dividedBy(Jt).toFixed()).toNumber(),s=Object(Ca.a)({start:0,end:1e3*r});(s.days||s.weeks||s.months||s.years)&&(s.seconds=0);var c=Object(Sa.a)(s,{locale:U}),o=new H.a(e.balance),i=o.plus(e.tokens_total_withdrawn),l=new H.a(e.tokens_total_withdrawn),u=l.plus(n),d=i.minus(u),m=[l.dividedBy(i).toNumber(),u.dividedBy(i).toNumber()],j={left:i.minus(u).dividedBy(i).toNumber(),streamed:u.dividedBy(i).toNumber(),withdrawn:l.dividedBy(i).toNumber(),available:n.dividedBy(i).toNumber()};return{secondsLeft:r,progresses:m,isDead:Xt(e),percentages:j,timeLeft:c,streamEndInfo:Ma(e,o),progress:{full:i.toFixed(),withdrawn:l.toFixed(),streamed:u.toFixed(),left:d.toFixed(),available:n.toFixed()}}}function Pa(e){var t=e.className;return Object(_.jsx)("svg",{className:t,width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",children:Object(_.jsx)("path",{d:"M0.895051 11.6285C0.745051 11.6285 0.603384 11.5702 0.495051 11.4535C0.295051 11.2285 0.311718 10.8869 0.528384 10.6869L5.836 5.90328L0.495028 1.27828C0.270028 1.07828 0.261695 0.736613 0.461695 0.511613C0.661695 0.294947 1.00336 0.27828 1.22836 0.47828L6.97766 5.46995C7.23599 5.70328 7.23599 6.10328 6.97766 6.33662L1.26172 11.4869C1.15338 11.5869 1.02838 11.6285 0.895051 11.6285Z",fill:"currentColor"})})}var Fa=a(13),Da=a.n(Fa),Ha=a(94),Va=(a(447),a(187)),Wa=a.n(Va);function Ua(e){var t=e.placement,a=void 0===t?"top":t,n=e.children,r=e.overlay,s=e.align,c=e.overlayClassName;return Object(_.jsx)(Ha.a,{align:s,placement:a,overlay:r,overlayClassName:m()(Wa.a.defaultOverlay,c),children:n||Object(_.jsx)("span",{className:Wa.a.defaultIcon,children:"?"})})}function Za(e){console.assert(e,"Provide stream id to use stream methods")}function qa(e){var t=Re().tokens;return fe(e)&&(t[e].meta.symbol="NEAR"),t["NEAR"===e?R.WNEAR_ID:e]}var Ya=["NEAR"];function za(e){var t=e.ticker,a=e.balance,n=e.className,r=qa(t).formatter.amount(a);return Object(_.jsxs)("div",{className:m()("inline-flex items-center p-2 rounded-lg border",n),style:{borderColor:"#A7B0BE"},children:[Object(_.jsx)(gt,{tokenAccountId:t,className:"mr-2"})," ",Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:"font-semibold",children:r})," ",Object(_.jsx)("span",{className:"text-gray",children:t})]}),Object(_.jsx)("div",{children:t})]})]})}function Ka(e){var t=ua().auth,a=function(e){var t=ua().roketo,a=r.a.useState(!1),n=Object(C.a)(a,2),s=n[0],c=n[1];function o(){return(o=Object(k.a)(A.a.mark((function e(a){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.tokensWithoutStorage,r=void 0===n?0:n,e.next=3,t.api.updateAccount({tokensWithoutStorage:r});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(k.a)(A.a.mark((function a(n){var r,s;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.token,s=n.deposit,Za(e),a.next=4,t.api.depositStream({token:r,deposit:s,streamId:e});case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function l(){return(l=Object(k.a)(A.a.mark((function a(){var n;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return Za(e),console.debug("pausing",e),a.next=4,t.api.pauseStream({streamId:e});case 4:n=a.sent,console.debug("pausing res",n);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function u(){return(u=Object(k.a)(A.a.mark((function a(){var n;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return Za(e),console.debug("restarting",e),a.next=4,t.api.startStream({streamId:e});case 4:n=a.sent,console.debug("restarting res",n);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function d(){return(d=Object(k.a)(A.a.mark((function a(){var n;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return Za(e),console.debug("Stop called stopping",e),a.next=4,t.api.stopStream({streamId:e});case 4:n=a.sent,console.debug("stopping res",n);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function m(e){return Object(k.a)(A.a.mark((function t(){var a=arguments;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=2;break}return t.abrupt("return");case 2:return c(!0),t.prev=3,t.next=6,e.apply(void 0,a);case 6:return t.prev=6,c(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[3,,6,9]])})))}return{loading:s,updateAllAndWithdraw:m((function(e){return o.apply(this,arguments)})),pause:m((function(){return l.apply(this,arguments)})),restart:m((function(){return u.apply(this,arguments)})),stop:m((function(){return d.apply(this,arguments)})),deposit:m((function(e){return i.apply(this,arguments)}))}}(),s=Object(Na.b)().mutate,c=Vt(!1),o=function(){var e=ua(),t=e.roketo,a=e.tokens,r=Ia(),s=La({account:r.data}),c=Object(n.useMemo)((function(){var e={};return r.data&&s.data&&(r.data.ready_to_withdraw.forEach((function(t){var a=Object(C.a)(t,2),n=a[0],r=a[1];e[n]=e[n]||0,e[n]+=Number(r)})),s.data.inputs.forEach((function(t){e[t.ticker]=e[t.ticker]||0,e[t.ticker]+=Number(t.available_to_withdraw)}))),e}),[r.data,s.data]),o=Object(Na.a)((function(){c.NEAR;var e=Object(Te.a)(c,Ya),t=Object.keys(e);return t.sort(),JSON.stringify(t)}),(function(e){var t=JSON.parse(e);return Promise.all(t.map(function(){var e=Object(k.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Boolean,e.next=4,a.ftStorageBalance(t);case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",{ticker:e.t0,hasStorageBalance:e.t3});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),{refreshInterval:5e3}),i=!r.data||!s.data||!o.data,l=(o.data||[]).filter((function(e){return!e.hasStorageBalance})),u=l.filter((function(e){var a=e.ticker;return t.isBridged(a)})),d=0===u.length&&o.data;return{balances:Object.entries(c),loading:i,tokensRequireManualDeposit:u,notRegisteredTokens:l,isSafeToWithdraw:d}}(),l=o.balances,u=o.loading,d=o.isSafeToWithdraw,m=o.notRegisteredTokens;function j(){return(j=Object(k.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.updateAllAndWithdraw({tokensWithoutStorage:m.length});case 2:s(["account",t.accountId]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(k.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.setOn(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=Object(_.jsxs)(i.a,{isOpen:c.on,onRequestClose:c.turnOff,className:"ModalContent",overlayClassName:"ModalOverlay",children:[Object(_.jsx)("h2",{className:"text-2xl mb-6",children:"Restricted withdrawal"}),Object(_.jsxs)("p",{children:["Due to NEP-141 issues you are required to do storage deposit before withdrawing. You can do it by buying any amount of"," ",m.map((function(e){return e.ticker})).join(", ")," ","tokens at any DEX"]})]}),f=u?function(){}:function(){d?function(){j.apply(this,arguments)}():function(){b.apply(this,arguments)}()};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Ua,{placement:"bottom",align:{offset:[0,20]},overlay:Object(_.jsxs)("div",{className:"text-left",children:[Object(_.jsx)("p",{className:"mb-4 text-gray",children:"Move all received tokens to your wallet. With Roketo you can only withdraw from all your legacy streams simultaneously."}),Object(_.jsx)("div",{className:"text-left",children:u?Object(_.jsx)("p",{className:"font-semibold text-center",children:"Loading balances..."}):l.length?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("p",{className:"font-semibold mb-2",children:"Available balances:"}),Object(_.jsx)("div",{children:l.map((function(e){var t=Object(C.a)(e,2),a=t[0],n=t[1];return Object(_.jsx)(za,{ticker:a,balance:n,className:"w-full mb-2"},a)}))})]}):Object(_.jsx)("p",{className:"font-semibold text-center",children:"You have nothing to withdraw"})})]}),children:Object(_.jsx)(Fe,Object(se.a)(Object(se.a)({},e),{},{onClick:f,displayMode:Le.action}))}),c.on?p:null]})}function Ja(e){var t=e.stream,a=Re().tokens["NEAR"===t.ticker?R.WNEAR_ID:t.ticker],n=a.meta,r=a.formatter,s=Ba(t).progress,c=s.streamed,o=s.withdrawn,i=s.full;return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:Da.a.numericProgress,children:[Object(_.jsx)(gt,{tokenAccountId:"NEAR"===t.ticker?R.WNEAR_ID:t.ticker,className:Da.a.tokenIcon}),Object(_.jsx)("span",{children:"".concat(n.symbol," ").concat(r.amount(c)," of ").concat(r.amount(i))})]}),Object(_.jsx)(_t,{total:i,streamed:c,withdrawn:o})]})}function Xa(e){var t=e.stream,a=Ba(t).isDead,n=wa(t);return a?null:Object(_.jsxs)("div",{className:Da.a.buttons,children:[Object(_.jsx)(va,{stream:t}),n===xa&&t.status===kt&&"0"!==t.available_to_withdraw&&Object(_.jsx)(Ka,{children:"Withdraw all"})]})}function Ga(e){var t=e.stream,a=Re().tokens;return Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:Da.a.blockTitle,children:"Speed"}),Object(_.jsx)("div",{className:Da.a.speed,children:jt(Number(t.tokens_per_tick)*Jt,a["NEAR"===t.ticker?R.WNEAR_ID:t.ticker])})]})}function Qa(e){var t=e.stream,a="";try{a=JSON.parse(t.description).comment}catch(n){a=t.description}return""===a?null:Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:Da.a.blockTitle,children:"Comment"}),Object(_.jsx)("div",{className:Da.a.commentBody,children:a})]})}function $a(e){var t=e.stringToCopy;return Object(_.jsx)("button",{type:"button",className:Da.a.copyButton,onClick:function(){return Ye()(t)},children:Object(_.jsx)(Je,{className:Da.a.linkIcon})})}function en(e){var t=Ze(e.stream.id);return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:m()(Da.a.blockTitle,Da.a.copyTitle),children:["Public link to view the stream",Object(_.jsx)($a,{stringToCopy:t})]}),Object(_.jsx)("div",{className:Da.a.link,children:t})]})}function tn(e){var t=e.title,a=e.children;return Object(_.jsxs)("div",{className:Da.a.infoRow,children:[Object(_.jsx)("span",{className:Da.a.infoTitle,children:t}),a]})}function an(e){var t=e.stream,a=wa(t),r=Re().tokens,s=Ba(t),c=s.streamEndInfo,o=s.timeLeft,i=s.progress,l=i.streamed,u=i.left,d=i.full,j=pt(l,d).toNumber(),b=pt(u,d).toNumber(),p=Number(t.available_to_withdraw),f=r["NEAR"===t.ticker?R.WNEAR_ID:t.ticker],h=f.meta,O=f.formatter,v=Object(n.useState)(!1),x=Object(C.a)(v,2),y=x[0],w=x[1];return Object(_.jsxs)("div",{className:m()(Da.a.tile,Da.a.infoTile),children:[Object(_.jsx)("div",{className:Da.a.blockHeader,children:"Stream info"}),Object(_.jsx)(tn,{title:"Sender",children:Object(_.jsx)("span",{className:Da.a.font16,children:a===ya?"You":t.owner_id})}),Object(_.jsx)(tn,{title:"Receiver",children:Object(_.jsx)("span",{className:Da.a.font16,children:a===xa?"You":t.receiver_id})}),Object(_.jsx)(tn,{title:"Amount",children:Object(_.jsxs)("span",{className:Da.a.font14,children:[O.amount(d),"\xa0",Object(_.jsx)("span",{className:Da.a.font12,children:h.symbol})]})}),Object(_.jsx)(tn,{title:"Stream Created",children:Object(_.jsx)("span",{className:Da.a.font14,children:Object(ze.a)(new Date(Number(t.timestamp_created)/1e6),"PP 'at' p")})}),null!==c&&Object(_.jsx)(tn,{title:Object(Ke.a)(c)?"Stream Ended":"Stream Ends",children:Object(_.jsx)("span",{className:Da.a.font14,children:Object(ze.a)(new Date(c),"PP 'at' p")})}),Object(_.jsx)(tn,{title:"Token",children:Object(_.jsxs)("span",{className:Da.a.font14,children:[h.name,",\xa0",Object(_.jsx)("span",{className:Da.a.font12,children:h.symbol})]})}),Object(_.jsx)("div",{className:Da.a.divider}),Object(_.jsx)(it,{className:Da.a.dropdownOpener,opened:y,onChange:function(e){w(e)},children:Object(_.jsx)("h3",{className:Da.a.sectionHeader,children:"Other info"})}),y&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(tn,{title:"Stream ID",children:Object(_.jsxs)("div",{className:Da.a.centeredFlex,children:[Object(_.jsx)("span",{className:m()(Da.a.font14,Da.a.streamID),children:t.id}),Object(_.jsx)($a,{stringToCopy:t.id})]})}),Object(_.jsx)(tn,{title:"Remaining",children:Object(_.jsx)("span",{className:Da.a.font14,children:o||"Finished"})}),Object(_.jsx)(tn,{title:"Tokens Transferred",children:Object(_.jsxs)("span",{className:Da.a.font14,children:[O.amount(l),"\xa0",Object(_.jsxs)("span",{className:Da.a.font12,children:[h.symbol," ",Object(_.jsxs)("span",{className:Da.a.grey,children:["(",j,"%)"]})]})]})}),Object(_.jsx)(tn,{title:"Tokens Left",children:Object(_.jsxs)("span",{className:Da.a.font14,children:[O.amount(u),"\xa0",Object(_.jsxs)("span",{className:Da.a.font12,children:[h.symbol," ",Object(_.jsxs)("span",{className:Da.a.grey,children:["(",b,"%)"]})]})]})}),Object(_.jsx)(tn,{title:"Tokens Available",children:Object(_.jsxs)("span",{className:Da.a.font14,children:[O.amount(p),"\xa0",Object(_.jsx)("span",{className:Da.a.font12,children:h.symbol})]})})]})]})}function nn(){var e=Object(u.h)().id,t=function(e,t){var a=ua().roketo,s=Object(n.useRef)(Ta),c=Object(n.useRef)(0),o=Object(Na.a)((function(){return!!t&&["stream",e,t.account_id,t.last_action]}),Object(k.a)(A.a.mark((function t(){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.api.getStream({streamId:e});case 2:return n=t.sent,s.current={value:n.available_to_withdraw,cachedAt:Date.now()},c.current=9,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),{errorRetryInterval:2e3,errorRetryCount:3}),i=o.data||{balance:null,available_to_withdraw:null,status:null},l=i.balance===i.available_to_withdraw;return r.a.useEffect((function(){if(i.status===kt&&!l){var e=setTimeout((function(){!o.data||c.current<=0?o.mutate():(c.current-=1,o.mutate(Ra(o.data,s.current.value,s.current.cachedAt),{revalidate:!1}))}),1e3);return function(){return clearTimeout(e)}}}),[i.status,l,o]),o}(e,Ia().data),a=t.data,s=t.error;return Object(_.jsx)("div",{className:Da.a.root,children:Object(_.jsxs)(N,{children:[Object(_.jsxs)("div",{className:Da.a.breadbrumbs,children:[Object(_.jsx)(l.b,{to:Ue.legacyStreams.path,className:Da.a.streamsLink,children:"Streams (legacy)"}),Object(_.jsx)(Pa,{className:Da.a.breadbrumb}),Object(_.jsx)("span",{className:Da.a.id,children:e})]}),s&&Object(_.jsx)(nt,{className:"max-w-2xl mx-auto py-32",message:s.message,onRetry:function(){t.mutate()}}),!s&&!a&&Object(_.jsx)("div",{className:"py-32 text-center text-gray text-2xl",children:"Loading..."}),!s&&a&&Object(_.jsxs)("main",{className:Da.a.stream,children:[Object(_.jsxs)("div",{className:Da.a.left,children:[Object(_.jsxs)("div",{className:m()(Da.a.tile,Da.a.remaining),children:[Object(_.jsx)("span",{className:Da.a.blockTitle,children:"Remaining"}),Object(_.jsx)("span",{children:Ba(a).timeLeft||"Finished"})]}),Object(_.jsxs)("div",{className:m()(Da.a.tile,Da.a.main),children:[Object(_.jsx)(Ja,{stream:a}),Object(_.jsx)(Xa,{stream:a}),Object(_.jsx)(Ga,{stream:a}),Object(_.jsx)("div",{className:Da.a.divider}),Object(_.jsx)(Qa,{stream:a}),Object(_.jsx)(en,{stream:a})]})]}),Object(_.jsx)("div",{className:Da.a.right,children:Object(_.jsx)(an,{stream:a})})]})]})})}var rn,sn=a(259),cn=a.n(sn);!function(e){e.asc="ascending",e.desc="descending"}(rn||(rn={}));var on=function(e){var t=e.width,a=void 0===t?24:t,n=e.height,r=void 0===n?24:n,s=e.type,c=void 0===s?rn.desc:s,o=e.className;return Object(_.jsx)("div",{className:m()(Object(h.a)({},cn.a.rotate,c===rn.asc),o),children:Object(_.jsx)("svg",{width:a,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M3 18H9V16H3V18ZM3 6V8H21V6H3ZM3 13H15V11H3V13Z",fill:"#2B313B"})})})},ln=a(117),un=a.n(ln);function dn(e){var t=e.active,a=e.label,n=e.value,r=e.onChange;return Object(_.jsxs)("label",{className:un.a.root,children:[Object(_.jsx)("input",{type:"radio",className:"invisible w-0 h-0 absolute",checked:t,onChange:function(){return r(n)}}),Object(_.jsx)("div",{className:m()(un.a.radio,Object(h.a)({},un.a.radioActive,t))}),Object(_.jsx)("div",{className:un.a.text,children:a})]})}var mn=a(118),jn=a.n(mn);function bn(e){var t=e.count,a=e.option;return Object(_.jsxs)("span",{children:[a," ",Object(_.jsx)("span",{className:"text-gray font-normal",children:t})]})}function pn(e){var t=e.label,a=e.options,r=e.renderOption,s=e.renderActive,c=e.active,o=e.onChange,i=e.className,l=e.isDisabled,u=Object(n.useState)(!1),d=Object(C.a)(u,2),j=d[0],b=d[1];return Object(_.jsxs)("div",{className:m()(jn.a.root,i),children:[t&&Object(_.jsx)("div",{className:"text-gray mr-2",children:t}),Object(_.jsxs)("div",{className:jn.a.dropdownWrapper,children:[Object(_.jsx)(it,{className:m()(l&&jn.a.dropdownInactive,l&&"text-gray"),opened:!l&&j,onChange:b,children:s?s(c):c}),Object(_.jsx)(Ft,{opened:!l&&j,className:jn.a.dropdownMenu,onClose:function(){b(!1)},children:a.map((function(e){return Object(_.jsx)(dn,{label:r?r(e,c===e):e,active:c===e,value:e,onChange:o},JSON.stringify(e))}))})]})]})}var fn,hn=a(148),_n=a.n(hn),On=function(e){var t=e.directions,a=e.activeDirection,n=e.onDirectionClick,r=e.isInactive;return Object(_.jsx)("div",{className:_n.a.root,children:t.map((function(e){return Object(_.jsx)(Fe,{className:m()(_n.a.sort,Object(h.a)({},_n.a.active,e===a)),onClick:function(){return n(e)},disabled:r,children:e},e)}))})};function vn(e){var t=e.options,a=Object(n.useMemo)((function(){return Object.keys(t)}),[t]),r=Object(n.useState)(a[0]),s=Object(C.a)(r,2),c=s[0],o=s[1];return Object(n.useMemo)((function(){var e=t[c];return{option:c,selectOption:o,options:t,optionsArray:a,currentFilterFunction:e}}),[t,c,a])}var xn="All",yn="Incoming",wn="Outgoing",gn=(fn={ALL:"All"},Object(h.a)(fn,Nt,"Initialized"),Object(h.a)(fn,kt,"Active"),Object(h.a)(fn,Ct,"Paused"),fn);function Nn(e){var t=Re().auth,a=Object(n.useMemo)((function(){var e;return e={},Object(h.a)(e,gn.ALL,(function(){return!0})),Object(h.a)(e,gn[Nt],(function(e){return e.status===Nt})),Object(h.a)(e,gn[kt],(function(e){return e.status===kt})),Object(h.a)(e,gn[Ct],(function(e){return e.status===Ct})),e}),[]),r=Object(n.useMemo)((function(){var e;return e={},Object(h.a)(e,xn,(function(){return!0})),Object(h.a)(e,yn,(function(e){return t.accountId===e.receiver_id})),Object(h.a)(e,wn,(function(e){return t.accountId===e.owner_id})),e}),[t.accountId]),s=vn({options:a}),c=vn({options:r}),o=function(e){var t=e.items,a=e.filters,r=Object(n.useState)(void 0),s=Object(C.a)(r,2),c=s[0],o=s[1],i=Object(n.useState)([]),l=Object(C.a)(i,2),u=l[0],d=l[1];return Object(n.useEffect)((function(){var e=t,n=[];a.forEach((function(t){var a={};Object.keys(t.options).forEach((function(n){var r;a[n]=null===(r=e)||void 0===r?void 0:r.filter(t.options[n])}));var r={};Object.keys(a).forEach((function(e){r[e]=(a[e]||[]).length})),n.push(r),e=a[t.option]})),d(n),o(e)}),[t,a]),{filterCounts:u,filteredItems:c}}({items:e,filters:Object(n.useMemo)((function(){return[c,s]}),[c,s])});return{statusFilter:s,directionFilter:c,result:o}}var kn=a(149),Cn=a.n(kn);function Sn(e,t,a){return Number(t[a])-Number(e[a])}var An={bigBalanceFirst:{label:"With high amount",order:rn.desc,fn:function(e,t){return Sn(e,t,"balance")}},highSpeedFirst:{label:"With high speed",order:rn.desc,fn:function(e,t){return Sn(e,t,"tokens_per_tick")}},highSpeedLast:{label:"With low speed",order:rn.asc,fn:function(e,t){return-1*Sn(e,t,"tokens_per_tick")}},mostRecent:{label:"Most recent",order:rn.desc,fn:function(e,t){return Sn(e,t,"timestamp_created")}}};function In(e){var t=e.items,a=e.onFilterDone,r=e.className,s=Nn(t),c=s.result.filteredItems,o=Object(n.useState)(An.mostRecent),i=Object(C.a)(o,2),l=i[0],u=i[1],d=Object.values(An),j=!t||0===t.length;return Object(n.useEffect)((function(){if(c){var e=Object(ga.a)(c);e.sort(l.fn),a(e)}else a(c)}),[c,a,l.fn]),Object(_.jsxs)("div",{className:m()(Cn.a.root,r),children:[Object(_.jsx)(On,{directions:s.directionFilter.optionsArray,activeDirection:s.directionFilter.option,onDirectionClick:s.directionFilter.selectOption,isInactive:j}),Object(_.jsxs)("div",{className:Cn.a.filtersWrapper,children:[Object(_.jsx)(pn,{options:s.statusFilter.optionsArray,label:"Status:",active:s.statusFilter.option,onChange:s.statusFilter.selectOption,isDisabled:j,renderOption:function(e){var t=s.result.filterCounts[1];return Object(_.jsx)(bn,{option:e,count:t?t[e]:""},e)}}),Object(_.jsx)(pn,{options:d,label:"Show first:",active:l,onChange:u,isDisabled:j,renderOption:function(e){return Object(_.jsx)("span",{children:e.label})},renderActive:function(e){return Object(_.jsxs)("div",{className:Cn.a.sortWithOrder,children:[e.order&&Object(_.jsx)(on,{type:e.order}),Object(_.jsx)("span",{children:e.label})]})}})]})]})}var Rn=a(188),En=a.n(Rn),Ln=function(e){var t=e.wrapperClassName,a=e.spinnerClassName,n=e.testId;return Object(_.jsx)("div",{className:m()(En.a.wrapper,t),"data-testid":n,children:Object(_.jsx)("div",{className:m()(En.a.spinner,a)})})},Tn=a(150),Mn=a.n(Tn),Bn=function(e){var t=e.name,a=e.label;return Object(_.jsxs)("div",{className:Mn.a.flexCenter,children:[Object(_.jsx)("span",{className:Mn.a.name,children:t}),a&&Object(_.jsx)("span",{className:Mn.a.nameLabel,children:a})]})};function Pn(e){var t=e.className;return Object(_.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:t,children:Object(_.jsx)("path",{d:"M8.99169 0.666504C4.39169 0.666504 0.666687 4.39984 0.666687 8.99984C0.666687 13.5998 4.39169 17.3332 8.99169 17.3332C13.6 17.3332 17.3334 13.5998 17.3334 8.99984C17.3334 4.39984 13.6 0.666504 8.99169 0.666504ZM9.00002 15.6665C5.31669 15.6665 2.33335 12.6832 2.33335 8.99984C2.33335 5.3165 5.31669 2.33317 9.00002 2.33317C12.6834 2.33317 15.6667 5.3165 15.6667 8.99984C15.6667 12.6832 12.6834 15.6665 9.00002 15.6665ZM9.41669 4.83317H8.16669V9.83317L12.5417 12.4582L13.1667 11.4332L9.41669 9.20817V4.83317Z",fill:"black"})})}var Fn=a(26),Dn=a.n(Fn),Hn={points:["tl","bc"],offset:[-24,10]},Vn=function(e){var t=e.stream,a=e.className,n=t.ticker,r=t.tokens_per_tick,s=Number(r)*Jt,c=Ba(t),o=c.progress,i=c.timeLeft,l=qa(n).formatter,u="NEAR"===t.ticker?R.WNEAR_ID:t.ticker,d=Number(l.toHumanReadableValue(o.streamed,3)),j=Number(l.toHumanReadableValue(o.withdrawn,3)),b=Number(l.toHumanReadableValue(o.full,3)),p=je.formatSmartly(d),f=je.formatSmartly(j),h=pt(d,b,1),O=pt(j,d,1),v="".concat(p," of ").concat(b),x=l.tokensPerMeaningfulPeriod(s),y=x.formattedValue,w=x.unit;return Object(_.jsx)(Ha.a,{overlayClassName:Dn.a.overlay,destroyTooltipOnHide:!0,align:Hn,placement:"bottom",overlay:Object(_.jsxs)("div",{className:m()(Dn.a.tooltip,Dn.a.text),children:[Object(_.jsxs)("div",{className:Dn.a.innerStatus,children:[Object(_.jsx)("span",{children:v})," ",Object(_.jsx)("span",{className:m()(Dn.a.grey,Dn.a.smaller),children:u})]}),Object(_.jsx)(_t,{total:o.full,streamed:o.streamed,withdrawn:o.withdrawn}),Object(_.jsxs)("div",{className:m()(Dn.a.status,Dn.a.speed),children:[y," ",Object(_.jsxs)("span",{className:m()(Dn.a.grey,Dn.a.smaller),children:[u," / ",w]})]}),i&&Object(_.jsxs)("div",{className:Dn.a.remained,children:[Object(_.jsx)(Pn,{className:Dn.a.clock}),i]}),Object(_.jsxs)("div",{className:m()(Dn.a.progress,Dn.a.streamed),children:["Streamed: ",p," ",Object(_.jsx)("span",{className:m()(Dn.a.grey,Dn.a.smaller),children:"".concat(h,"%")})]}),Object(_.jsxs)("div",{className:m()(Dn.a.progress,Dn.a.withdrawn),children:["Withdrawn: ",f," ",Object(_.jsx)("span",{className:m()(Dn.a.grey,Dn.a.smaller),children:"".concat(O,"%")})]})]}),children:Object(_.jsxs)("div",{className:m()(Dn.a.root,Dn.a.text,a),children:[Object(_.jsxs)("div",{className:Dn.a.status,children:[Object(_.jsx)("span",{children:v})," ",Object(_.jsx)("span",{className:Dn.a.grey,children:u})]}),Object(_.jsx)(_t,{total:o.full,streamed:o.streamed,withdrawn:o.withdrawn})]})})},Wn=a(189),Un=a.n(Wn),Zn=function(e){var t=e.onCLick;return Object(_.jsx)("button",{className:Un.a.linkButton,type:"button",onClick:t,children:Object(_.jsx)(Je,{})})},qn=function(e){var t=e.className,a=e.stream,r=a.id,s=Object(n.useCallback)((function(e){e.preventDefault();var t=Ze(r);Ye()(t)}),[r]);return Object(_.jsxs)("div",{className:m()(Un.a.root,t),children:[Object(_.jsx)(va,{stream:a}),Object(_.jsx)(Zn,{onCLick:s})]})},Yn=a(97),zn=a.n(Yn),Kn=function(e){var t=e.stream,a=e.className,n=t.id,r=t.description,s="";try{s=JSON.parse(r).comment}catch(j){s=r}var c=wa(t)===xa,o=c?t.owner_id:t.receiver_id,i=c?void 0:"Sending",d=Object(u.f)(Ue.legacyStream.path,{id:n});return Object(_.jsxs)("div",{className:m()(zn.a.root,a),children:[Object(_.jsx)(l.b,{to:d,className:zn.a.name,children:Object(_.jsx)(Bn,{name:o,label:i})}),Object(_.jsx)(Vn,{stream:t,className:zn.a.withMarginRight}),Object(_.jsx)(l.b,{to:d,className:"col-span-2 grow-0",children:Object(_.jsx)("p",{className:zn.a.comment,children:s})}),Object(_.jsx)(qn,{stream:t,className:m()(zn.a.controls,"col-span-2 grow-0")})]})},Jn=a(53),Xn=a.n(Jn),Gn=function(e){var t=e.children;return Object(_.jsx)("div",{className:Xn.a.emptyState,children:t})},Qn=function(e){var t,a=e.className,n=e.displayingStreams,r=e.onCreateStreamClick,s=La({account:Ia().data}).data,c=s||{},o=c.inputs,i=void 0===o?[]:o,l=c.outputs,u=void 0===l?[]:l,d=[].concat(Object(ga.a)(i),Object(ga.a)(u)).length,j=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;return s?s&&0===d?Object(_.jsxs)(Gn,{children:[Object(_.jsx)("div",{children:"You don't have any streams yet."}),Object(_.jsx)(Fe,{onClick:r,children:"Create First Stream"})]}):s&&0!==d&&0===j?Object(_.jsx)(Gn,{children:Object(_.jsx)("div",{children:"No streams matching your filters. Try selecting different ones"})}):Object(_.jsx)("div",{className:m()(Xn.a.container,a),children:Object(_.jsxs)("section",{className:Xn.a.flexColumn,children:[Object(_.jsxs)("div",{className:m()(Xn.a.withPaddings,"grid grid-cols-6 gap-x-10"),children:[Object(_.jsx)("h3",{className:Xn.a.title,children:"Wallet address"}),Object(_.jsx)("h3",{className:Xn.a.title,children:"Amount to stream"}),Object(_.jsx)("h3",{className:Xn.a.title,children:"Comment"})]}),null===n||void 0===n?void 0:n.map((function(e){return Object(_.jsx)(Kn,{stream:e,className:m()(Xn.a.withPaddings,"grid grid-cols-6 gap-x-10")},e.id)}))]})}):Object(_.jsx)(Gn,{children:Object(_.jsx)(Ln,{wrapperClassName:Xn.a.loader})})},$n=a(63),er=a.n($n),tr=function(){var e=La({account:Ia().data}).data||{},t=e.inputs,a=e.outputs,r=Object(n.useMemo)((function(){return(t||a)&&[].concat(Object(ga.a)(t||[]),Object(ga.a)(a||[]))}),[t,a]),s=Object(n.useState)([]),c=Object(C.a)(s,2),o=c[0],i=c[1],l=Object(n.useState)(!1),u=Object(C.a)(l,2),d=u[0],j=u[1],b=Object(n.useCallback)((function(){return j(!d)}),[j,d]);return Object(_.jsx)("div",{className:er.a.root,children:Object(_.jsxs)(N,{children:[Object(_.jsxs)("section",{className:m()(er.a.flex,er.a.header),children:[Object(_.jsx)("h1",{className:er.a.title,children:"Streams (legacy)"}),Object(_.jsx)("div",{className:m()(er.a.flex,er.a.buttonsWrapper),children:Object(_.jsx)(Ka,{children:"Withdraw all"})})]}),Object(_.jsx)(In,{items:r,onFilterDone:i,className:er.a.streamFilters}),Object(_.jsx)(Qn,{displayingStreams:o,className:er.a.section,onCreateStreamClick:b})]})})};var ar=function(e){var t,a;return null!==(t=null===(a=window)||void 0===a?void 0:a.matchMedia(e).matches)&&void 0!==t&&t};function nr(e){var t=Object(n.useState)((function(){return ar(e)})),a=Object(C.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){var t=window.matchMedia(e);function a(){s(ar(e))}return a(),t.addListener?t.addListener(a):t.addEventListener("change",a),function(){t.removeListener?t.removeListener(a):t.removeEventListener("change",a)}}),[e,s]),r}var rr,sr=function(e){var t=e.to,a=e.className,n=e.children,r=e.onClick;return Object(_.jsx)(l.b,{to:t,className:a,onClick:r,children:n})},cr=a(190),or=a.n(cr),ir=function(e){var t=e.pageRoutes,a=void 0===t?[]:t;return 0===a.length?null:Object(_.jsx)("ul",{className:or.a.root,children:a.map((function(e){return Object(_.jsx)("li",{className:or.a.pageLink,children:Object(_.jsx)(sr,{to:e.path,children:e.title})},e.path)}))})},lr=function(e){var t=e.width,a=void 0===t?17:t,n=e.height,r=void 0===n?16:n,s=e.className;return Object(_.jsx)("div",{className:s,children:Object(_.jsx)("svg",{width:a,height:r,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M15.5 4.06667V2.16667C15.5 1.25 14.75 0.5 13.8333 0.5H2.16667C1.24167 0.5 0.5 1.25 0.5 2.16667V13.8333C0.5 14.75 1.24167 15.5 2.16667 15.5H13.8333C14.75 15.5 15.5 14.75 15.5 13.8333V11.9333C15.9917 11.6417 16.3333 11.1167 16.3333 10.5V5.5C16.3333 4.88333 15.9917 4.35833 15.5 4.06667ZM14.6667 5.5V10.5H8.83333V5.5H14.6667ZM2.16667 13.8333V2.16667H13.8333V3.83333H8.83333C7.91667 3.83333 7.16667 4.58333 7.16667 5.5V10.5C7.16667 11.4167 7.91667 12.1667 8.83333 12.1667H13.8333V13.8333H2.16667Z",fill:"#626F84"})})})},ur=function(e){var t=e.width,a=void 0===t?20:t,n=e.height,r=void 0===n?16:n,s=e.className;return Object(_.jsx)("div",{className:s,children:Object(_.jsx)("svg",{width:a,height:r,viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M17.5 0.508362H2.49998C1.58331 0.508362 0.833313 1.25836 0.833313 2.17503V5.50003H2.49998V2.15836H17.5V13.85H2.49998V10.5H0.833313V13.8417C0.833313 14.7584 1.58331 15.4917 2.49998 15.4917H17.5C18.4166 15.4917 19.1666 14.7584 19.1666 13.8417V2.17503C19.1666 1.25003 18.4166 0.508362 17.5 0.508362ZM9.16665 11.3334L12.5 8.00003L9.16665 4.6667V7.1667H0.833313V8.83336H9.16665V11.3334ZM17.5 0.508362H2.49998C1.58331 0.508362 0.833313 1.25836 0.833313 2.17503V5.50003H2.49998V2.15836H17.5V13.85H2.49998V10.5H0.833313V13.8417C0.833313 14.7584 1.58331 15.4917 2.49998 15.4917H17.5C18.4166 15.4917 19.1666 14.7584 19.1666 13.8417V2.17503C19.1666 1.25003 18.4166 0.508362 17.5 0.508362ZM9.16665 11.3334L12.5 8.00003L9.16665 4.6667V7.1667H0.833313V8.83336H9.16665V11.3334Z",fill:"#626F84"})})})},dr=function(e){var t=e.width,a=void 0===t?17:t,n=e.height,r=void 0===n?16:n,s=e.className;return Object(_.jsx)("div",{className:s,children:Object(_.jsxs)("svg",{width:a,height:r,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(_.jsx)("path",{d:"M12.1667 12.1666L16.3333 7.99998L12.1667 3.83331L10.9917 5.00831L13.1417 7.16665H5.5V8.83331H13.1417L10.9917 10.9916L12.1667 12.1666Z",fill:"#626F84"}),Object(_.jsx)("path",{d:"M13.8333 13.8333H2.16667V2.16667H13.8333V3.83333H15.5V2.16667C15.5 1.25 14.7583 0.5 13.8333 0.5H2.16667C1.25 0.5 0.5 1.25 0.5 2.16667V13.8333C0.5 14.75 1.25 15.5 2.16667 15.5H13.8333C14.7583 15.5 15.5 14.75 15.5 13.8333V12.1667H13.8333V13.8333Z",fill:"#626F84"})]})})};function mr(e){var t=Re().tokens;return fe(e)&&(t[e].meta.symbol="NEAR"),t[e]}function jr(e){var t,a=e.tokenAccountId,n=e.className,r=e.mode,s=void 0===r?rr.CRYPTO:r,c=Re(),o=c.auth,i=c.priceOracle,l=mr(a),u=l.balance,d=l.formatter,m=l.meta,j=fe(a)?(null===(t=o.balance)||void 0===t?void 0:t.available)||"0":u,b=d.amount(j),p=s===rr.USD,f=p?i.getPriceInUsd(a,b):b,h=p?"$":m.symbol;return Object(_.jsx)("span",{className:n,children:"Balance: ".concat(h," ").concat(f)})}!function(e){e.USD="USD",e.CRYPTO="CRYPTO",e.BOTH="BOTH"}(rr||(rr={}));var br;!function(e){e.income="total_incoming",e.outcome="total_outgoing"}(br||(br={}));var pr=function(e){var t=e.type,a=e.period,n=e.className,r=Re(),s=r.roketo,c=r.priceOracle,o=r.tokens,i=s.account[t],l=Object.keys(i).reduce((function(e,t){var n=o[t].formatter,r=function(e,t){var a=new H.a(e);switch(t){case ae.Minute:return a.multipliedBy(60);case ae.Hour:return a.multipliedBy(ce);case ae.Day:return a.multipliedBy(oe);default:return a}}(i[t],a).toFixed(),s=n.toHumanReadableValue(r,3),l=c.getPriceInUsd(t,s);return e+Number(l)}),0);return Object(_.jsx)("div",{className:n,children:"".concat(l," $ ").concat(de[a])})},fr=a(73),hr=a.n(fr),_r=function(e){var t=e.className;return Object(_.jsxs)("div",{className:m()(hr.a.root,t),children:[Object(_.jsxs)("div",{className:hr.a.wrapper,children:[Object(_.jsx)(dr,{}),Object(_.jsx)(pr,{className:hr.a.balance,type:br.outcome,period:ae.Hour})]}),Object(_.jsxs)("div",{className:hr.a.wrapper,children:[Object(_.jsx)(ur,{}),Object(_.jsx)(pr,{className:hr.a.balance,type:br.income,period:ae.Hour})]}),Object(_.jsxs)("div",{className:hr.a.wrapper,children:[Object(_.jsx)(lr,{}),Object(_.jsx)(jr,{className:hr.a.balance,tokenAccountId:R.WNEAR_ID,mode:rr.USD})]})]})},Or=a(74),vr={baseServer:new Or.ServerConfiguration(R.WEB_API_URL,{})},xr=function(){function e(){Object(P.a)(this,e),this.initialized=!1,this.token=null,this.authApiClient=new Or.AuthApi(Or.createConfiguration(Object(se.a)({},vr)))}return Object(F.a)(e,[{key:"getToken",value:function(){return this.token||(this.token=this.getRefreshedToken()),this.token}},{key:"refreshToken",value:function(){this.token=this.getRefreshedToken()}},{key:"getRefreshedToken",value:function(){var e=Object(k.a)(A.a.mark((function e(){var t,a,n,r,s,c,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccountIdAndNear();case 3:if(t=e.sent,a=t.accountId,"roketoApiAccessToken",n="".concat("roketoApiAccessToken",":").concat(a),this.initialized){e.next=12;break}if(this.initialized=!0,!(r=localStorage[n]||null)||this.containsUnicode(r)){e.next=12;break}return e.abrupt("return",r);case 12:return delete localStorage[n],e.next=15,this.generateLoginParams();case 15:return s=e.sent,e.next=18,this.authApiClient.login(s);case 18:return c=e.sent,o=c.accessToken,localStorage[n]=o,e.abrupt("return",o);case 24:throw e.prev=24,e.t0=e.catch(0),this.token=null,e.t0;case 28:case"end":return e.stop()}}),e,this,[[0,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountIdAndNear",value:function(){var e=Object(k.a)(A.a.mark((function e(){var t,a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:return t=e.sent,a=new I.WalletConnection(t,R.ROKETO_CONTRACT_NAME),n=a.getAccountId(),e.abrupt("return",{accountId:n,near:t});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"generateLoginParams",value:function(){var e=Object(k.a)(A.a.mark((function e(){var t,a,n,r,s,c,o,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAccountIdAndNear();case 2:return t=e.sent,a=t.accountId,n=t.near,e.next=7,n.config.keyStore.getKey(n.config.networkId,a);case 7:return r=e.sent,s=Date.now(),c=r.sign((new TextEncoder).encode(String(s))),o=c.signature,i=Array.from(o),e.abrupt("return",{accountId:a,timestamp:s,signature:i});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"containsUnicode",value:function(e){return e!==encodeURIComponent(e)}}]),e}(),yr=new xr,wr=function(){var e=Object(k.a)(A.a.mark((function e(t,a,n,r,s){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=s.retryCount,!(t.message.startsWith("HTTP-Code: 401")&&c<=3)){e.next=5;break}return e.next=4,yr.refreshToken();case 4:r({retryCount:c});case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}(),gr=Or.createConfiguration(Object(se.a)(Object(se.a)({},vr),{},{authMethods:{bearer:{tokenProvider:yr}}})),Nr=new Or.UsersApi(gr);function kr(){var e=Re().auth;return Object(Na.a)(e.accountId?"user":null,(function(){return Nr.findOne(e.accountId)}),{onErrorRetry:wr})}var Cr=Or.User,Sr=new Or.NotificationsApi(gr);var Ar=a(191),Ir=a.n(Ar),Rr=["className","hasError"],Er=function(e){var t=e.className,a=e.hasError,n=void 0!==a&&a,r=Object(Te.a)(e,Rr);return Object(_.jsx)("input",Object(se.a)({className:m()(Ir.a.input,Object(h.a)({},Ir.a.error,n),t)},r))},Lr=a(98),Tr=a.n(Lr),Mr=["children","isRequired","label","description","error","className"],Br=function(e){var t=e.children,a=e.isRequired,n=void 0!==a&&a,r=e.label,s=e.description,c=e.error,o=e.className,i=Object(Te.a)(e,Mr);return Object(_.jsxs)("div",Object(se.a)(Object(se.a)({className:m()(Tr.a.root,o)},i),{},{children:[r&&Object(_.jsx)("label",{className:m()(Tr.a.label,Object(h.a)({},Tr.a.required,n)),children:r}),t,s&&Object(_.jsx)("div",{className:Tr.a.description,children:s}),c&&Object(_.jsx)("div",{className:Tr.a.error,children:c})]}))},Pr=a(192),Fr=a.n(Pr),Dr="nameInput",Hr="emailInput";function Vr(){var e=Re().auth,t=Object(n.useState)(""),a=Object(C.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(""),o=Object(C.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(!1),d=Object(C.a)(u,2),m=d[0],j=d[1],b=kr();Object(n.useEffect)((function(){var e,t,a,n;s(null!==(e=null===(t=b.data)||void 0===t?void 0:t.name)&&void 0!==e?e:""),l(null!==(a=null===(n=b.data)||void 0===n?void 0:n.email)&&void 0!==a?a:"")}),[b.data]);var p=Object(n.useRef)(null),f=Object(n.useCallback)(function(){var t=Object(k.a)(A.a.mark((function t(a){var n,r,s,c,o;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),b.data){t.next=3;break}return t.abrupt("return");case 3:return j(!0),s=null===(n=p.current)||void 0===n?void 0:n.nameInput.value,c=null===(r=p.current)||void 0===r?void 0:r.emailInput.value,o=b.data,t.next=9,b.mutate(Object(k.a)(A.a.mark((function t(){var a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={name:s,email:c},t.next=4,Nr.update(e.accountId,a);case 4:return t.abrupt("return",Object.assign(new Cr,o,a));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",o);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),{revalidate:!1,optimisticData:Object(se.a)(Object(se.a)({},b.data),{},{name:s}),rollbackOnError:!0});case 9:j(!1);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e.accountId,b]),h=b.isValidating||m;return Object(_.jsxs)("form",{className:Fr.a.profileForm,onSubmit:f,ref:p,children:[h&&Object(_.jsx)(Ln,{wrapperClassName:Fr.a.loaderWrapper}),Object(_.jsx)(Br,{label:"User name",children:Object(_.jsx)(Er,{placeholder:"Name",name:Dr,value:r,onChange:function(e){return s(e.target.value)},disabled:h})}),Object(_.jsx)(Br,{label:"Email",description:"Email address is used for notifications",children:Object(_.jsx)(Er,{placeholder:"Email",name:Hr,value:i,onChange:function(e){return l(e.target.value)},disabled:h})}),Object(_.jsx)(Fe,{type:Ee.submit,disabled:h,children:"Save"})]})}var Wr=a(79),Ur=a.n(Wr),Zr=function(){var e,t=Object(n.useState)(!1),a=Object(C.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(!1),o=Object(C.a)(c,2),i=o[0],l=o[1],u=Re().auth,d=null!==(e=kr().data)&&void 0!==e?e:{},m=d.name,j=d.email,b=u.accountId;return Object(_.jsxs)("div",{className:Ur.a.profile,children:[Object(_.jsxs)(it,{onChange:s,className:Ur.a.dropdownOpener,opened:r,children:[Object(_.jsx)("span",{className:Ur.a.name,children:m||b}),i?Object(_.jsx)("svg",{className:Ur.a.avatar}):Object(_.jsx)("img",{className:Ur.a.avatar,src:"".concat(R.WEB_API_URL,"/users/").concat(b,"/avatar?email=").concat(j),alt:"",onError:function(){return l(!0)}})]}),Object(_.jsx)(Ft,{opened:r,onClose:function(){return s(!1)},className:Ur.a.dropdownMenu,children:Object(_.jsx)(Vr,{})})]})},qr=a(140),Yr=a(489),zr=a(490),Kr="in",Jr="out";function Xr(e){var t=Re().auth;return e.receiver_id===t.accountId?Kr:e.owner_id===t.accountId?Jr:null}function Gr(e){var t=e.swr,a=e.revalidationPeriod,r=e.isEnabled,s=void 0===r||r,c=Object(n.useState)(a),o=Object(C.a)(c,2),i=o[0],l=o[1];Object(n.useEffect)((function(){if(s){var e=setTimeout((function(){i<=0?(l(a),t.mutate()):l((function(e){return e-1}))}),1e3);return function(){return clearTimeout(e)}}}),[t,i,a,s])}function Qr(){var e=Re(),t=e.auth,a=e.roketo,n=Object(Na.a)(["streams",t.accountId,a.account.last_created_stream],Object(k.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.api.getAccountIncomingStreams({from:0,limit:100});case 2:return t=e.sent,e.next=5,a.api.getAccountOutgoingStreams({from:0,limit:100});case 5:return n=e.sent,e.abrupt("return",{inputs:t,outputs:n});case 7:case"end":return e.stop()}}),e)}))));return Gr({swr:n,revalidationPeriod:30}),n}function $r(e){if(J(e))return null;var t=new H.a(e.tokens_per_sec).dividedBy(1e3);return e.last_action/1e6+new H.a(e.balance).dividedBy(t).toNumber()}function es(e){if(!e.cliff)return null;var t=$r(e);return t?(e.cliff-e.timestamp_created)/1e6/(t-e.timestamp_created/1e6)*100:null}function ts(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=290304e5,n=t?G(e):new H.a(0),r=new H.a(e.balance),s=H.a.minimum(a,r.minus(n).dividedBy(e.tokens_per_sec).toFixed()).toNumber(),c=Object(Ca.a)({start:0,end:1e3*s});(c.days||c.weeks||c.months||c.years)&&(c.seconds=0);var o=Object(Sa.a)(c,{locale:U}),i=r.plus(e.tokens_total_withdrawn),l=new H.a(e.tokens_total_withdrawn),u=l.plus(n),d=i.minus(u),m=[l.dividedBy(i).toNumber(),u.dividedBy(i).toNumber()],j={left:i.minus(u).multipliedBy(100).dividedBy(i).toNumber(),streamed:u.multipliedBy(100).dividedBy(i).toNumber(),withdrawn:l.multipliedBy(100).dividedBy(i).toNumber(),available:n.multipliedBy(100).dividedBy(i).toNumber(),cliff:es(e)};return{secondsLeft:s,progresses:m,isDead:X(e),percentages:j,timeLeft:o,streamEndTimestamp:$r(e),cliffEndTimestamp:e.cliff?e.cliff/1e6:null,progress:{full:i.toFixed(),withdrawn:l.toFixed(),streamed:u.toFixed(),left:d.toFixed(),available:n.toFixed()}}}var as=a(28),ns=a.n(as);function rs(e){var t=e.className,a=e.withBadge;return Object(_.jsxs)("svg",{className:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(_.jsx)("path",{d:"M15.375 17.5556H8.625M15.375 17.5556H21L19.4194 15.9944C19.2071 15.7848 19.0387 15.5358 18.9239 15.2619C18.809 14.9879 18.75 14.6943 18.75 14.3978V10.8889C18.7502 9.50993 18.3175 8.16482 17.5116 7.03876C16.7057 5.91271 15.5662 5.06107 14.25 4.60111V4.22222C14.25 3.63285 14.0129 3.06762 13.591 2.65087C13.169 2.23413 12.5967 2 12 2C11.4033 2 10.831 2.23413 10.409 2.65087C9.98705 3.06762 9.75 3.63285 9.75 4.22222V4.60111C7.12875 5.51667 5.25 7.98667 5.25 10.8889V14.3989C5.25 14.9967 5.00925 15.5711 4.58063 15.9944L3 17.5556H8.625H15.375ZM15.375 17.5556V18.6667C15.375 19.5507 15.0194 20.3986 14.3865 21.0237C13.7536 21.6488 12.8951 22 12 22C11.1049 22 10.2464 21.6488 9.61351 21.0237C8.98058 20.3986 8.625 19.5507 8.625 18.6667V17.5556H15.375Z",stroke:a?"#3E65F2":"#2B313B",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a&&Object(_.jsx)("circle",{cx:"19",cy:"5",r:"5",fill:"#D80A1F",stroke:"white",strokeWidth:"2"})]})}function ss(e){var t=e.className;return Object(_.jsxs)("svg",{className:t,width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[Object(_.jsx)("rect",{width:"44",height:"44",rx:"22",fill:"#F1F6FE"}),Object(_.jsx)("path",{d:"M22 14.9167V19.5M14.5 29.5V26.1667V29.5ZM14.5 26.1667V16.1667C14.5 15.7246 14.6756 15.3007 14.9882 14.9882C15.3007 14.6756 15.7246 14.5 16.1667 14.5H21.5833L22.4167 15.3333H29.5L27 20.3333L29.5 25.3333H22.4167L21.5833 24.5H16.1667C15.7246 24.5 15.3007 24.6756 14.9882 24.9882C14.6756 25.3007 14.5 25.7246 14.5 26.1667V26.1667Z",stroke:"#3E65F2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function cs(e){var t=e.className;return Object(_.jsxs)("svg",{className:t,width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[Object(_.jsx)("rect",{width:"44",height:"44",rx:"22",fill:"#F2FCF5"}),Object(_.jsx)("path",{d:"M28.3128 19.7147L20.9824 15.0357C20.6368 14.815 20.235 14.6883 19.82 14.6692C19.405 14.6501 18.9923 14.7393 18.6262 14.9273C18.26 15.1153 17.9541 15.3949 17.7411 15.7364C17.5281 16.0779 17.4161 16.4683 17.417 16.866V26.2217C17.4169 26.6191 17.5296 27.0089 17.7429 27.3498C17.9562 27.6906 18.2622 27.9697 18.6282 28.1571C18.9942 28.3446 19.4065 28.4334 19.8211 28.4141C20.2358 28.3948 20.6371 28.2682 20.9824 28.0477L28.3128 23.3687C28.6268 23.1683 28.8843 22.8968 29.0624 22.5783C29.2405 22.2597 29.3337 21.904 29.3337 21.5428C29.3337 21.1815 29.2405 20.8258 29.0624 20.5073C28.8843 20.1888 28.6268 19.9173 28.3128 19.7169V19.7147Z",stroke:"#1EBA52",strokeWidth:"2.75",strokeLinecap:"round",strokeLinejoin:"round"})]})}function os(e){var t=e.className;return Object(_.jsxs)("svg",{className:t,width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[Object(_.jsx)("rect",{width:"44",height:"44",rx:"22",fill:"#FFF7EE"}),Object(_.jsx)("path",{d:"M18.333 16.5V27.5M25.6663 16.5V27.5",stroke:"#FF8C19",strokeWidth:"3.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})}function is(e){var t=e.className;return Object(_.jsxs)("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",className:t,children:[Object(_.jsx)("rect",{width:"44",height:"44",rx:"22",fill:"#FFEEF0"}),Object(_.jsx)("path",{d:"M20.5833 24.3833H23.9167V13.425H20.5833V24.3833ZM22.125 31.3C22.6806 31.3 23.1319 31.1264 23.4792 30.7792C23.8264 30.4319 24 29.9806 24 29.425C24 28.8972 23.8264 28.4458 23.4792 28.0708C23.1319 27.6958 22.6806 27.5083 22.125 27.5083C21.5694 27.5083 21.1181 27.6958 20.7708 28.0708C20.4236 28.4458 20.25 28.8972 20.25 29.425C20.25 29.9806 20.4236 30.4319 20.7708 30.7792C21.1181 31.1264 21.5694 31.3 22.125 31.3Z",fill:"#D80A1F"})]})}function ls(e){var t=e.type,a=function(){switch(t){case"StreamStarted":case"StreamContinued":return cs;case"StreamPaused":return os;case"StreamFinished":return ss;case"StreamIsDue":case"StreamCliffPassed":return is;default:throw new Error("This should never happen")}}();return Object(_.jsx)(a,{className:ns.a.icon})}function us(e){var t=e.children;return Object(_.jsx)("div",{className:ns.a.primaryText,"data-testid":me.notificationPrimaryCaption,children:t})}function ds(e){var t=e.children;return Object(_.jsx)("div",{className:ns.a.secondaryText,"data-testid":me.notificationSecondaryCaption,children:t})}function ms(e){var t=e.notification,a=t.type,n=t.payload,r=Re().tokens,s=Xr(n),c=ts(n,false),o=c.progress,i=o.full,l=o.streamed,u=o.left,d=c.timeLeft,m=r[n.token_account_id],j=m.meta.symbol,b=m.formatter;switch(a){case"StreamStarted":return Object(_.jsxs)("div",{className:ns.a.notificationBody,children:[Object(_.jsx)(us,{children:s===Kr?Object(_.jsxs)(_.Fragment,{children:[n.owner_id," ",Object(_.jsx)("strong",{children:"started"})," a stream for you to receive."]}):Object(_.jsxs)(_.Fragment,{children:["You\u2019ve successfully ",Object(_.jsx)("strong",{children:"started"})," a stream to ",n.receiver_id,"."]})}),Object(_.jsxs)(ds,{children:["Total streaming amount: ",Object(_.jsxs)("strong",{children:[b.amount(i),"\xa0",j]})]}),Object(_.jsxs)(ds,{children:["Stream duration: ",Object(_.jsx)("strong",{children:d})]})]});case"StreamPaused":return Object(_.jsxs)("div",{className:ns.a.notificationBody,children:[Object(_.jsxs)(us,{children:["The stream ",s===Kr?"from ".concat(n.owner_id):"to ".concat(n.receiver_id)," is ",Object(_.jsx)("strong",{children:"paused"}),"."]}),Object(_.jsxs)(ds,{children:["Already streamed: ",Object(_.jsxs)("strong",{children:[b.amount(l),"\xa0",j]})]}),Object(_.jsxs)(ds,{children:["Amount left: ",Object(_.jsxs)("strong",{children:[b.amount(u),"\xa0",j]})]})]});case"StreamFinished":return Object(_.jsxs)("div",{className:ns.a.notificationBody,children:[Object(_.jsxs)(us,{children:["The stream ",s===Kr?"from ".concat(n.owner_id):"to ".concat(n.receiver_id)," has ",Object(_.jsx)("strong",{children:"ended"}),"."]}),Object(_.jsxs)(ds,{children:["Total amount streamed: ",Object(_.jsxs)("strong",{children:[b.amount(i),"\xa0",j]})]})]});case"StreamIsDue":return Object(_.jsxs)("div",{className:ns.a.notificationBody,children:[Object(_.jsxs)(us,{children:["The stream from ",n.owner_id," is ",Object(_.jsx)("strong",{children:"due"}),"."]}),Object(_.jsxs)(ds,{children:["Available for withdrawal: ",Object(_.jsxs)("strong",{children:[b.amount(u),"\xa0",j]})]})]});case"StreamContinued":return Object(_.jsxs)("div",{className:ns.a.notificationBody,children:[Object(_.jsx)(us,{children:s===Kr?Object(_.jsxs)(_.Fragment,{children:[n.owner_id," has ",Object(_.jsx)("strong",{children:"continued"})," the stream."]}):Object(_.jsxs)(_.Fragment,{children:["The stream to ",n.receiver_id," was ",Object(_.jsx)("strong",{children:"continued"}),"."]})}),Object(_.jsxs)(ds,{children:["Amount left: ",Object(_.jsxs)("strong",{children:[b.amount(u),"\xa0",j]})]}),Object(_.jsxs)(ds,{children:["Time left: ",Object(_.jsx)("strong",{children:d})]})]});case"StreamCliffPassed":return Object(_.jsxs)("div",{className:ns.a.notificationBody,children:[Object(_.jsxs)(us,{children:["The stream ",s===Kr?"from ".concat(n.owner_id):"to ".concat(n.receiver_id)," has ",Object(_.jsx)("strong",{children:"passed the cliff period"}),"."]}),Object(_.jsxs)(ds,{children:["Available for withdrawal: ",Object(_.jsxs)("strong",{children:[b.amount(u),"\xa0",j]})]})]});default:throw new Error("This should never happen")}}function js(){var e,t,a,s,c=nr("(max-width: 645px)"),o=Object(n.useState)(!1),i=Object(C.a)(o,2),d=i[0],b=i[1],p=function(){var e=Re().auth,t=Object(Na.a)(e.accountId?"notifications":null,Object(k.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sr.findAll();case 2:return t=e.sent,a=new Set(["StreamStarted","StreamPaused","StreamFinished","StreamIsDue","StreamContinued","StreamCliffPassed"]),e.abrupt("return",t.filter((function(e){return a.has(e.type)})));case 5:case"end":return e.stop()}}),e)}))),{onErrorRetry:wr});return Object(n.useEffect)((function(){setTimeout(t.mutate,5e3)}),[t]),t}(),f=Object(n.useCallback)((function(){b(!1),p.data&&p.mutate(function(){var e=Object(k.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sr.markAllRead();case 2:return e.abrupt("return",null===t||void 0===t?void 0:t.map((function(e){return e.isRead?e:Object(se.a)(Object(se.a)({},e),{},{isRead:!0})})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[p]),h=null!==(e=null===(t=p.data)||void 0===t?void 0:t.some((function(e){return!e.isRead})))&&void 0!==e&&e;return Object(_.jsxs)("div",{className:ns.a.root,children:[Object(_.jsx)(it,{onChange:b,className:ns.a.dropdownOpener,opened:d,testId:me.openNotificationsButton,children:Object(_.jsx)(rs,{withBadge:h})}),Object(_.jsx)(Ft,{opened:d,onClose:f,className:m()(ns.a.dropdownMenu,c&&ns.a.compact),children:Object(_.jsxs)("div",{className:ns.a.container,children:[Object(_.jsx)("header",{className:ns.a.header,children:"Notifications"}),!p.data&&Object(_.jsx)(Ln,{wrapperClassName:ns.a.loader,testId:me.notificationsLoader}),0===(null===(a=p.data)||void 0===a?void 0:a.length)&&Object(_.jsx)("h3",{className:"text-3xl text-center my-12 mx-auto",children:"Your notifications will be displayed here."}),null===(s=p.data)||void 0===s?void 0:s.map((function(e,t,a){return Object(_.jsxs)(r.a.Fragment,{children:[0!==t&&Object(_.jsx)("div",{className:ns.a.divider}),(0===t||!Object(qr.a)(a[t-1].createdAt,e.createdAt))&&Object(_.jsx)("div",{className:ns.a.date,children:Object(Yr.a)(e.createdAt)?"Today":Object(zr.a)(e.createdAt)?"Yesterday":Object(ze.a)(e.createdAt,"PP")}),Object(_.jsxs)(l.b,{to:Object(u.f)(j.stream.path,{id:e.payload.id}),className:m()(ns.a.notification,!e.isRead&&ns.a.unread),onClick:f,"data-testid":me.notificationElement,children:[Object(_.jsx)(ls,{type:e.type}),Object(_.jsx)(ms,{notification:e}),Object(_.jsx)("div",{className:ns.a.time,children:Object(ze.a)(new Date(e.createdAt),"HH:mm")})]})]},e.id)}))]})})]})}var bs,ps,fs,hs=a(48),_s=a.n(hs),Os=[j.streams],vs=function(){var e=Re().auth,t=!nr("(min-width: 1280px)"),a=function(){var e=La({account:Ia().data}).data;return e&&(e.inputs.length>0||e.outputs.length>0)}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:_s.a.wrapper,children:Object(_.jsxs)(N,{className:_s.a.root,children:[Object(_.jsxs)("div",{className:_s.a.left,children:[Object(_.jsx)(l.b,{to:"/",className:_s.a.unshrinkable,children:Object(_.jsx)(y,{className:_s.a.logo})}),e.signedIn&&Object(_.jsx)(ir,{pageRoutes:a?[].concat(Os,[Ue.legacyStreams]):Os})]}),Object(_.jsxs)("div",{className:_s.a.right,children:[e.signedIn&&!t&&Object(_.jsx)(_r,{className:_s.a.marginRight}),e.signedIn&&Object(_.jsx)(Zr,{}),e.signedIn&&!t&&Object(_.jsx)(js,{}),!t&&Object(_.jsx)(We,{})]})]})}),e.signedIn&&t&&Object(_.jsx)("div",{className:_s.a.secondWrapper,children:Object(_.jsxs)(N,{className:_s.a.secondRoot,children:[Object(_.jsx)(_r,{className:_s.a.marginRight}),Object(_.jsxs)("div",{className:_s.a.right,children:[Object(_.jsx)(js,{}),Object(_.jsx)(We,{})]})]})})]})},xs=a(260),ys=a.n(xs);function ws(){return Object(_.jsx)("div",{className:m()("py-4 px-6","absolute w-full pt-8","flex justify-center"),children:Object(_.jsx)(y,{className:ys.a.logo})})}function gs(){return Object(u.i)(j.authorize.path)?Object(_.jsx)(ws,{}):Object(_.jsx)(vs,{})}function Ns(e){var t=e.children,a=e.allowed,n=e.redirect,r=e.path,s=e.exact,c=void 0!==s&&s;return Object(_.jsx)(u.b,{exact:c,path:r,render:function(){return a?t:n}})}var ks=["title","titleId"];function Cs(){return Cs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Cs.apply(this,arguments)}function Ss(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function As(e,t){var a=e.title,r=e.titleId,s=Ss(e,ks);return n.createElement("svg",Cs({width:"auto",height:"auto",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,bs||(bs=n.createElement("path",{d:"M8.14141 20.601C7.50192 20.601 7.61064 20.3595 7.39007 19.7506L5.50977 13.5625L19.9838 4.97559",fill:"currentColor"})),ps||(ps=n.createElement("path",{d:"M8.14062 20.6012C8.63406 20.6012 8.85199 20.3755 9.12749 20.1078L11.7591 17.5488L8.47649 15.5693",fill:"#8E909C"})),fs||(fs=n.createElement("path",{d:"M8.47667 15.5697L16.4308 21.4463C17.3386 21.9471 17.9935 21.6877 18.2197 20.6037L21.4574 5.34624C21.7888 4.01726 20.9508 3.41429 20.0824 3.80854L1.07041 11.1395C-0.227316 11.66 -0.219585 12.3841 0.833894 12.7066L5.71279 14.2295L17.008 7.10352C17.5412 6.78015 18.0307 6.95384 17.629 7.31043",fill:"currentColor"})))}var Is,Rs=n.forwardRef(As),Es=(a.p,function(e){var t=e.className;return Object(_.jsx)("div",{className:t,children:Object(_.jsx)(Rs,{})})}),Ls=["title","titleId"];function Ts(){return Ts=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ts.apply(this,arguments)}function Ms(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Bs(e,t){var a=e.title,r=e.titleId,s=Ms(e,Ls);return n.createElement("svg",Ts({width:"auto",height:"auto",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,Is||(Is=n.createElement("path",{d:"M7.57758 21.9092C16.5744 21.9092 21.4944 13.5154 21.4944 6.2365C21.4944 5.99809 21.4901 5.76075 21.4806 5.52449C22.4356 4.74696 23.2657 3.77667 23.9204 2.67212C23.044 3.11083 22.1009 3.40615 21.1115 3.53932C22.1214 2.85737 22.8966 1.77862 23.2624 0.492616C22.3174 1.12355 21.2708 1.58212 20.1565 1.8297C19.2639 0.759024 17.9932 0.0893555 16.5862 0.0893555C13.885 0.0893555 11.6946 2.55622 11.6946 5.59697C11.6946 6.02922 11.7376 6.44967 11.8215 6.85297C7.75628 6.62261 4.15156 4.4307 1.73908 1.09777C1.31902 1.91181 1.0768 2.8574 1.0768 3.86636C1.0768 5.77743 1.94032 7.46453 3.25344 8.4515C2.45096 8.42358 1.69712 8.1755 1.03824 7.76257C1.03752 7.78568 1.03752 7.80822 1.03752 7.83292C1.03752 10.5006 2.72352 12.7279 4.9616 13.2326C4.55059 13.3588 4.11816 13.4264 3.67184 13.4264C3.35715 13.4264 3.05056 13.3916 2.75256 13.3271C3.37526 15.5158 5.18096 17.1084 7.32176 17.1529C5.64768 18.6307 3.5388 19.5108 1.2468 19.5108C0.852482 19.5108 0.462934 19.4855 0.0800781 19.4345C2.2448 20.9971 4.8152 21.9089 7.57784 21.9089",fill:"currentColor"})))}var Ps,Fs=n.forwardRef(Bs),Ds=(a.p,function(e){var t=e.className;return Object(_.jsx)("div",{className:t,children:Object(_.jsx)(Fs,{})})}),Hs=["title","titleId"];function Vs(){return Vs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Vs.apply(this,arguments)}function Ws(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Us(e,t){var a=e.title,r=e.titleId,s=Ws(e,Hs);return n.createElement("svg",Vs({width:"auto",height:"auto",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,Ps||(Ps=n.createElement("path",{d:"M12.0001 0C5.3735 0 0 5.50144 0 12.2881C0 17.7173 3.43839 22.3234 8.2064 23.9482C8.80613 24.062 9.0263 23.6817 9.0263 23.3571C9.0263 23.0641 9.01518 22.0961 9.01001 21.0693C5.67157 21.8127 4.96712 19.6195 4.96712 19.6195C4.42125 18.1992 3.63473 17.8215 3.63473 17.8215C2.54596 17.0588 3.7168 17.0745 3.7168 17.0745C4.92181 17.1612 5.55632 18.3408 5.55632 18.3408C6.6266 20.2194 8.36359 19.6763 9.04836 19.3623C9.15607 18.5681 9.46706 18.026 9.81024 17.7191C7.14486 17.4084 4.34295 16.3548 4.34295 11.6463C4.34295 10.3047 4.81172 9.20855 5.57937 8.34801C5.45477 8.0385 5.04402 6.78869 5.69562 5.0961C5.69562 5.0961 6.70331 4.76584 8.9965 6.35568C9.95372 6.08341 10.9803 5.94687 12.0001 5.94219C13.0199 5.94687 14.0473 6.08341 15.0063 6.35568C17.2967 4.76584 18.303 5.0961 18.303 5.0961C18.9562 6.78869 18.5452 8.0385 18.4206 8.34801C19.1901 9.20855 19.6557 10.3047 19.6557 11.6463C19.6557 16.366 16.8484 17.4052 14.1762 17.7094C14.6067 18.0907 14.9902 18.8385 14.9902 19.985C14.9902 21.6291 14.9763 22.9524 14.9763 23.3571C14.9763 23.6841 15.1923 24.0673 15.8006 23.9466C20.566 22.32 24 17.7155 24 12.2881C24 5.50144 18.6273 0 12.0001 0ZM4.49443 17.5047C4.468 17.5657 4.3742 17.584 4.28876 17.5421C4.20172 17.502 4.15283 17.4188 4.18105 17.3575C4.20688 17.2947 4.30088 17.2772 4.38772 17.3193C4.47495 17.3594 4.52463 17.4434 4.49443 17.5047ZM5.0847 18.044C5.02747 18.0983 4.91559 18.0731 4.83968 17.9872C4.76119 17.9016 4.74648 17.787 4.80451 17.7318C4.86353 17.6775 4.97203 17.7029 5.05072 17.7886C5.12921 17.8753 5.14451 17.9891 5.0847 18.044ZM5.48965 18.734C5.41612 18.7863 5.2959 18.7373 5.22158 18.628C5.14805 18.5188 5.14805 18.3877 5.22317 18.3352C5.29769 18.2827 5.41612 18.3299 5.49144 18.4384C5.56476 18.5495 5.56476 18.6805 5.48965 18.734ZM6.1745 19.5332C6.10873 19.6075 5.96863 19.5876 5.86609 19.4862C5.76117 19.3871 5.73196 19.2465 5.79793 19.1722C5.8645 19.0978 6.00539 19.1187 6.10873 19.2193C6.21285 19.3181 6.24465 19.4598 6.1745 19.5332ZM7.05961 19.803C7.0306 19.8993 6.89567 19.943 6.75975 19.9021C6.62402 19.86 6.5352 19.7473 6.56262 19.65C6.59084 19.5531 6.72636 19.5076 6.86328 19.5513C6.9988 19.5932 7.08783 19.7052 7.05961 19.803ZM8.0669 19.9175C8.07028 20.0188 7.95502 20.1028 7.81235 20.1047C7.66887 20.1079 7.55282 20.0259 7.55123 19.9262C7.55123 19.8239 7.6639 19.7406 7.80738 19.7382C7.95006 19.7353 8.0669 19.8167 8.0669 19.9175ZM9.05645 19.8786C9.07354 19.9775 8.97438 20.0791 8.8327 20.1061C8.6934 20.1322 8.56443 20.0711 8.54674 19.973C8.52945 19.8717 8.6304 19.7702 8.7695 19.7439C8.91139 19.7187 9.03837 19.7781 9.05645 19.8786Z",fill:"currentColor"})))}var Zs=n.forwardRef(Us),qs=(a.p,function(e){var t=e.className;return Object(_.jsx)("div",{className:t,children:Object(_.jsx)(Zs,{})})}),Ys=a.p+"static/media/Privacy_policy.d5afb133.pdf",zs=a(54),Ks=a.n(zs),Js=function(){return Object(_.jsx)("footer",{className:Ks.a.root,children:Object(_.jsxs)(N,{className:Ks.a.layout,children:[Object(_.jsxs)("section",{className:Ks.a.section,children:[Object(_.jsx)(y,{className:Ks.a.logo,type:f.CURRENT_COLOR}),Object(_.jsxs)("div",{className:Ks.a.links,children:[Object(_.jsx)("a",{href:"https://www.roke.to/#page-top",target:"_blank",rel:"noreferrer",children:"About"}),Object(_.jsx)("a",{href:"https://www.roke.to/#how-work",target:"_blank",rel:"noreferrer",children:"Features"}),Object(_.jsx)("a",{href:"https://www.roke.to/#used-technologies",target:"_blank",rel:"noreferrer",children:"Docs"}),Object(_.jsx)("a",{href:"https://www.roke.to/#team",target:"_blank",rel:"noreferrer",children:"Team"}),Object(_.jsx)("a",{href:"https://www.roke.to/#blog",target:"_blank",rel:"noreferrer",children:"Blog"}),Object(_.jsx)("a",{href:"https://kikimora-labs.notion.site/Jobs-68acb030fcac42a18ae7c62a56779d5b",target:"_blank",rel:"noreferrer",children:"Jobs"})]})]}),Object(_.jsxs)("section",{className:Ks.a.section,children:[Object(_.jsxs)("div",{className:Ks.a.legal,children:[Object(_.jsx)("a",{href:Ys,target:"_blank",rel:"noreferrer",children:"Privacy Policy"}),Object(_.jsx)("a",{href:"https://uploads-ssl.webflow.com/6136222580031d054842f5d6/617993de0d09ef005611beac_Cookie_Policy_of_Roketo.pdf",target:"_blank",rel:"noreferrer",children:"Cookie Policy"})]}),Object(_.jsxs)("div",{className:Ks.a.socials,children:[Object(_.jsx)("a",{href:"https://twitter.com/roketostream",target:"_blank",rel:"noreferrer",children:Object(_.jsx)(Ds,{})}),Object(_.jsx)("a",{href:"https://t.me/roketochat",target:"_blank",rel:"noreferrer",children:Object(_.jsx)(Es,{})}),Object(_.jsx)("a",{href:"https://github.com/roke-to",target:"_blank",rel:"noreferrer",children:Object(_.jsx)(qs,{})})]})]}),Object(_.jsxs)("section",{className:Ks.a.jurInfo,children:["ROKETO LABS LTD",Object(_.jsx)("br",{}),"Registered address: Intershore Chambers, Road Town, Tortola, British Virgin Islands",Object(_.jsx)("br",{}),"Registration number: 2089289",Object(_.jsx)("br",{}),"Build info: ",R.COMMIT_HASH," ",R.BUILD_TIME]})]})})},Xs=a(80),Gs=a.n(Xs),Qs=function(e){var t=e.title,a=e.children,n=e.isOpen,r=void 0===n||n,s=e.onCloseModal;return Object(_.jsx)(i.a,{isOpen:r,onRequestClose:s,className:Gs.a.content,overlayClassName:Gs.a.overlay,bodyOpenClassName:Gs.a.bodyOverflowHidden,children:Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:Gs.a.close,onClick:s}),Object(_.jsx)("h2",{className:Gs.a.title,children:t}),Object(_.jsx)("div",{className:Gs.a.contentContainer,children:a})]})})},$s=a(61),ec=a(49),tc=a.n(ec);function ac(){var e,t=Re(),a=t.tokens,n=t.roketo,r=Qr().data,s=(r||{}).inputs,c=(void 0===s?[]:s).filter(K),o={},i=[],l=[],u=Object($s.a)(c);try{for(u.s();!(e=u.n()).done;){var d=e.value,m=d.token_account_id,j=G(d);if("0"!==j.toFixed()&&l.push(d.id),o[m])o[m].available=o[m].available.plus(j);else{var b={available:j,tokenAccountId:m};i.push(b),o[m]=b}}}catch(O){u.e(O)}finally{u.f()}var p=i.map((function(e){var t=a[e.tokenAccountId],n=t.formatter,r=t.meta.symbol,s=n.amount(e.available.toFixed());return{tokenAccountId:e.tokenAccountId,amount:s,symbol:r}})),f=r&&0!==p.length,h=r&&0===p.length;return Object(_.jsx)(Ua,{placement:"bottom",align:{offset:[0,20]},overlay:Object(_.jsxs)("div",{className:tc.a.root,children:[Object(_.jsx)("p",{className:tc.a.description,children:"Move all received tokens to your wallet."}),Object(_.jsxs)("div",{className:tc.a.preparedTokensWrapper,"data-testid":me.withdrawTooltip,children:[!r&&Object(_.jsx)("p",{className:tc.a.description,"data-testid":me.withdrawLoadingCaption,children:"Loading..."}),f&&p.map((function(e){return Object(_.jsxs)("div",{className:tc.a.preparedToken,children:[Object(_.jsx)(gt,{tokenAccountId:e.tokenAccountId}),Object(_.jsxs)("div",{className:tc.a.info,children:[Object(_.jsx)("span",{className:tc.a.amount,children:e.amount}),Object(_.jsx)("span",{className:tc.a.symbol,children:e.symbol})]})]},e.tokenAccountId)})),h&&Object(_.jsx)("p",{className:tc.a.description,children:"You have nothing to withdraw"})]})]}),children:Object(_.jsx)(Fe,{onClick:function(){l.length>0&&n.api.withdraw({streamIds:l})},testId:me.withdrawAllButton,displayMode:f?Le.action:Le.secondary,className:f?void 0:tc.a.notAllowed,children:"Withdraw tokens"})})}var nc,rc=a(151),sc=a.n(rc),cc=function(e){var t=e.directions,a=e.activeDirection,n=e.onDirectionClick,r=e.isInactive;return Object(_.jsx)("div",{className:sc.a.root,children:t.map((function(e){return Object(_.jsx)(Fe,{className:m()(sc.a.sort,Object(h.a)({},sc.a.active,e===a)),onClick:function(){return n(e)},disabled:r,children:e},e)}))})};function oc(e){var t=e.options,a=Object(n.useMemo)((function(){return Object.keys(t)}),[t]),r=Object(n.useState)(a[0]),s=Object(C.a)(r,2),c=s[0],o=s[1];return Object(n.useMemo)((function(){var e=t[c];return{option:c,selectOption:o,options:t,optionsArray:a,currentFilterFunction:e}}),[t,c,a])}var ic="All",lc="Incoming",uc="Outgoing",dc=(nc={ALL:"All"},Object(h.a)(nc,Z,"Initialized"),Object(h.a)(nc,q,"Active"),Object(h.a)(nc,Y,"Paused"),nc);function mc(e){var t=Re().auth,a=Object(n.useMemo)((function(){var e;return e={},Object(h.a)(e,dc.ALL,(function(){return!0})),Object(h.a)(e,dc[Z],(function(e){return e.status===Z})),Object(h.a)(e,dc[q],(function(e){return e.status===q})),Object(h.a)(e,dc[Y],(function(e){return e.status===Y})),e}),[]),r=Object(n.useMemo)((function(){var e;return e={},Object(h.a)(e,ic,(function(){return!0})),Object(h.a)(e,lc,(function(e){return t.accountId===e.receiver_id})),Object(h.a)(e,uc,(function(e){return t.accountId===e.owner_id})),e}),[t.accountId]),s=oc({options:a}),c=oc({options:r}),o=function(e){var t=e.items,a=e.filters,r=Object(n.useState)(void 0),s=Object(C.a)(r,2),c=s[0],o=s[1],i=Object(n.useState)([]),l=Object(C.a)(i,2),u=l[0],d=l[1];return Object(n.useEffect)((function(){var e=t,n=[];a.forEach((function(t){var a={};Object.keys(t.options).forEach((function(n){var r;a[n]=null===(r=e)||void 0===r?void 0:r.filter(t.options[n])}));var r={};Object.keys(a).forEach((function(e){r[e]=(a[e]||[]).length})),n.push(r),e=a[t.option]})),d(n),o(e)}),[t,a]),{filterCounts:u,filteredItems:c}}({items:e,filters:Object(n.useMemo)((function(){return[c,s]}),[c,s])});return{statusFilter:s,directionFilter:c,result:o}}var jc=a(152),bc=a.n(jc);function pc(e,t,a){return Number(t[a])-Number(e[a])}var fc={bigBalanceFirst:{label:"With high amount",order:rn.desc,fn:function(e,t){return pc(e,t,"balance")}},highSpeedFirst:{label:"With high speed",order:rn.desc,fn:function(e,t){return pc(e,t,"tokens_per_sec")}},highSpeedLast:{label:"With low speed",order:rn.asc,fn:function(e,t){return-1*pc(e,t,"tokens_per_sec")}},mostRecent:{label:"Most recent",order:rn.desc,fn:function(e,t){return pc(e,t,"timestamp_created")}}};function hc(e){var t=e.items,a=e.onFilterDone,r=e.className,s=mc(t),c=s.result.filteredItems,o=Object(n.useState)(fc.mostRecent),i=Object(C.a)(o,2),l=i[0],u=i[1],d=Object.values(fc),j=!t||0===t.length;return Object(n.useEffect)((function(){if(c){var e=Object(ga.a)(c);e.sort(l.fn),a(e)}else a(c)}),[c,a,l.fn]),Object(_.jsxs)("div",{className:m()(bc.a.root,r),children:[Object(_.jsx)(cc,{directions:s.directionFilter.optionsArray,activeDirection:s.directionFilter.option,onDirectionClick:s.directionFilter.selectOption,isInactive:j}),Object(_.jsxs)("div",{className:bc.a.filtersWrapper,children:[Object(_.jsx)(pn,{options:s.statusFilter.optionsArray,label:"Status:",active:s.statusFilter.option,onChange:s.statusFilter.selectOption,isDisabled:j,renderOption:function(e){var t=s.result.filterCounts[1];return Object(_.jsx)(bn,{option:e,count:t?t[e]:""},e)}}),Object(_.jsx)(pn,{options:d,label:"Show first:",active:l,onChange:u,isDisabled:j,renderOption:function(e){return Object(_.jsx)("span",{children:e.label})},renderActive:function(e){return Object(_.jsxs)("div",{className:bc.a.sortWithOrder,children:[e.order&&Object(_.jsx)(on,{type:e.order}),Object(_.jsx)("span",{children:e.label})]})}})]})]})}var _c=a(56),Oc=function(e){var t=e.width,a=void 0===t?20:t,n=e.height,r=void 0===n?20:n,s=e.className;return Object(_.jsx)("div",{className:s,children:Object(_.jsx)("svg",{width:a,height:r,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM11 15H9V13H11V15ZM11 11H9V5H11V11Z",fill:"#D80A1F"})})})},vc=["placeholder","description","isRequired","className","field","form","label"],xc=function(e){var t=e.placeholder,a=e.description,n=e.isRequired,r=e.className,s=e.field,c=e.form,o=e.label,i=Object(Te.a)(e,vc),l=c.errors[s.name];return Object(_.jsx)(Br,{isRequired:n,className:r,description:a,label:o,error:l,children:Object(_.jsx)(Er,Object(se.a)(Object(se.a)({required:n,hasError:Boolean(l),placeholder:t},s),i))})},yc=a(99),wc=a.n(yc),gc=["description","className","hasError","disabled","value"],Nc=function(e){var t=e.description,a=e.className,n=e.hasError,r=void 0!==n&&n,s=e.disabled,c=void 0!==s&&s,o=e.value,i=Object(Te.a)(e,gc);return Object(_.jsxs)("label",{className:m()(wc.a.root,c&&wc.a.disabled,a),children:[Object(_.jsx)("input",Object(se.a)(Object(se.a)({type:"checkbox",className:m()(wc.a.checkbox,Object(h.a)({},wc.a.error,r)),disabled:c},i),{},{checked:!c&&Boolean(o)})),t&&Object(_.jsx)("div",{className:wc.a.description,children:t})]})},kc=["description","isRequired","className","label","field","form"],Cc=function(e){var t=e.description,a=e.isRequired,n=e.className,r=e.label,s=e.field,c=e.form,o=Object(Te.a)(e,kc),i=c.errors[s.name];return Object(_.jsx)(Br,{isRequired:a,className:n,label:r,error:i,children:Object(_.jsx)(Nc,Object(se.a)(Object(se.a)({description:t,required:a,hasError:Boolean(i)},s),o))})},Sc=a(193),Ac=a.n(Sc),Ic=["className","hasError"],Rc=function(e){var t=e.className,a=e.hasError,n=void 0!==a&&a,r=Object(Te.a)(e,Ic);return Object(_.jsx)("textarea",Object(se.a)({className:m()(Ac.a.textarea,Object(h.a)({},Ac.a.error,n),t)},r))},Ec=a(194),Lc=a.n(Ec),Tc=["placeholder","description","isRequired","className","maxLength","field","label","form"],Mc=function(e){var t,a=e.placeholder,n=e.description,r=e.isRequired,s=e.className,c=e.maxLength,o=e.field,i=e.label,l=e.form,u=Object(Te.a)(e,Tc),d=l.errors[o.name];return Object(_.jsxs)(Br,{isRequired:r,className:m()(Lc.a.formfield,s),description:n,label:i,error:d,children:[Object(_.jsx)(Rc,Object(se.a)(Object(se.a)({required:r,hasError:Boolean(d),placeholder:a,maxLength:c},o),u)),c&&Object(_.jsx)("span",{className:Lc.a.textLimitCounter,children:"".concat((null===o||void 0===o||null===(t=o.value)||void 0===t?void 0:t.length)||0,"/").concat(c)})]})};var Bc=/^[0-9]+$/,Pc=a(65),Fc=a.n(Pc),Dc=function(e){var t=e.className,a=e.value,n=e.onChange,r=e.label,s=e.testId;return Object(_.jsxs)("div",{className:m()(Fc.a.speedInput,t),children:[Object(_.jsx)(Er,{placeholder:"0",value:a,onChange:n,className:Fc.a.input,"data-testid":s}),Object(_.jsx)("label",{className:Fc.a.label,children:r})]})},Hc=function(e){var t=e.form,a=e.field,r=e.label,s=e.deposit,c=e.className,o=e.isRequired,i=e.description,l=e.onSpeedChange,u=e.tokenAccountId,d=Re().tokens[u],j=d.formatter,b=t.errors[a.name],p=a.value,f=Object(n.useState)(0),h=Object(C.a)(f,2),O=h[0],v=h[1],x=Object(n.useState)(0),y=Object(C.a)(x,2),w=y[0],g=y[1],N=Object(n.useState)(0),k=Object(C.a)(N,2),S=k[0],A=k[1],I=Object(n.useState)(0),R=Object(C.a)(I,2),E=R[0],L=R[1],T=j.toYocto(s),M=function(e,t,a,n){return(Object(ut.a)(Object(dt.a)(new Date,e),new Date)+t)*oe+60*n+a*ce}(O,w,E,S),B=function(e,t){var a=new H.a(e).dividedToIntegerBy(t).toFixed();return"Infinity"!==a&&"NaN"!==a?a:"0"}(T,M),P=function(e){var t=Object(n.useRef)(e);return Object(n.useEffect)((function(){t.current=e}),[e]),t.current}(B);Object(n.useEffect)((function(){P!==B&&l(B)}),[B,l,P]);var F=function(e,t){return function(a){var n,r=a.target.value||"0";n=r,Bc.test(n)&&Number(r)<=t&&e(Number(r))}},D=jt(p,d),V=Object(_.jsxs)("div",{className:Fc.a.formLabel,children:[r,Object(_.jsx)("span",{className:m()(Fc.a.speed,Fc.a.label),children:"Streaming speed: ".concat(D)})]});return Object(_.jsx)(Br,{isRequired:o,className:m()(Fc.a.formField,c),description:i,label:V,error:b,children:Object(_.jsxs)("div",{className:Fc.a.wrapper,children:[Object(_.jsx)(Dc,{value:O,onChange:F(v,12),label:"Months, max: 12",testId:me.createStreamMonthsInput}),Object(_.jsx)(Dc,{value:w,onChange:F(g,31),label:"Days, max: 31",testId:me.createStreamDaysInput}),Object(_.jsx)(Dc,{value:E,onChange:F(L,24),label:"Hours, max: 24",testId:me.createStreamHoursInput}),Object(_.jsx)(Dc,{value:S,onChange:F(A,60),label:"Minutes, max: 60",testId:me.createStreamMinutesInput})]})})},Vc=a(100),Wc=a.n(Vc),Uc=function(e){var t=e.token,a=e.onClick,n=e.className,r=m()(Wc.a.tokenOption,n),s=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(gt,{tokenAccountId:t.roketoMeta.account_id}),Object(_.jsx)("span",{children:"".concat(t.meta.name,", ").concat(t.meta.symbol)})]});return a?Object(_.jsx)("button",{type:"button",className:r,onClick:a,children:s}):Object(_.jsx)("div",{className:r,children:s})},Zc=function(e){var t=e.form,a=e.label,r=e.field,s=e.className,c=e.isRequired,o=e.description,i=e.onTokenChoose,l=e.activeTokenAccountId,u=Re().tokens,d=Object(n.useState)(!1),m=Object(C.a)(d,2),j=m[0],b=m[1],p=Object.values(u),f=u[l],h=t.errors[r.name];return Object(_.jsx)(Br,{isRequired:c,className:s,description:o,label:a,error:h,children:Object(_.jsxs)("div",{className:Wc.a.dropdownWrapper,children:[Object(_.jsx)(it,{onChange:b,className:Wc.a.dropdownOpener,opened:j,children:Object(_.jsx)(Uc,{token:f})}),Object(_.jsx)(Ft,{opened:j,onClose:function(){return b(!1)},className:Wc.a.dropdownMenu,children:p.map((function(e){return Object(_.jsx)(Uc,{token:e,onClick:function(){return function(e){b(!1),i(e.roketoMeta.account_id)}(e)},className:Wc.a.withHover},e.meta.name)}))})]})})},qc=a(263),Yc=a.n(qc),zc=a(264),Kc=a.n(zc),Jc=function(e){var t=e.form,a=e.label,n=e.field,r=e.className,s=e.onCliffDateTimeChange,c=t.errors[n.name];return Object(_.jsx)(Br,{className:r,label:a,error:c,children:Object(_.jsx)(Yc.a,{className:Kc.a.maxWidth,amPmAriaLabel:"Select AM/PM",calendarAriaLabel:"Toggle calendar",clearAriaLabel:"Clear value",dayAriaLabel:"Day",hourAriaLabel:"Hour",maxDetail:"second",minuteAriaLabel:"Minute",monthAriaLabel:"Month",nativeInputAriaLabel:"Date and time",onChange:s,secondAriaLabel:"Second",value:t.values[n.name],yearAriaLabel:"Year"})})},Xc=function(e){var t=e.tokenAccountId,a=e.className,n=Re().tokens[t],r=n.meta,s=n.formatter,c=n.roketoMeta;return r&&Object(_.jsx)("div",{className:a,children:"You will be charged \n        ".concat(s.amount(c.commission_on_create)," \n        ").concat(r.symbol," fee for the stream")})},Gc=a(36),Qc=a.n(Gc),$c=function(e){var t=e.children,a=e.className;return Object(_.jsx)("div",{className:m()(Qc.a.row,a),children:t})},eo=function(e){var t=e.error;return Object(_.jsxs)("div",{className:Qc.a.submitError,children:[Object(_.jsx)(Oc,{}),Object(_.jsx)("span",{children:t})]})},to=Object(_.jsxs)("div",{children:["Delayed start",Object(_.jsxs)("div",{className:Qc.a.subDescription,children:["Select this if you want the stream not to start immediately,",Object(_.jsx)("br",{}),"you'll need to start it manually from stream page",Object(_.jsx)("br",{}),"(streams with cliff cannot be delayed)"]})]}),ao=Object(_.jsxs)("div",{children:["Uneditable stream",Object(_.jsxs)("div",{className:Qc.a.subDescription,children:["If you select this field, you will not be able",Object(_.jsx)("br",{}),"to carry out any actions on the stream"]})]}),no=function(e){var t=e.onFormCancel,a=e.onFormSubmit,r=Re(),s=r.near,c=r.auth,o=Object(n.useState)(null),i=Object(C.a)(o,2),l=i[0],u=i[1],d=function(e,t){return lt.d().shape({receiver:lt.e().required("Receiver is required").test("receiver-not-equal-owner","Receiver can not be the same as the owner",(function(e){return e!==t})).test("receiver-is-valida-address","Address does not exists",function(){var t=Object(k.a)(A.a.mark((function t(a){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,t.t0=Boolean,t.t1=a,!t.t1){t.next=7;break}return t.next=6,e.connection.provider.query({request_type:"view_account",finality:"final",account_id:a});case 6:t.t1=t.sent;case 7:return t.t2=t.t1,t.abrupt("return",(0,t.t0)(t.t2));case 11:return t.prev=11,t.t3=t.catch(0),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()),streamName:lt.e().max(100,"Stream name must be less or equal 100 symbols"),token:lt.e().required(),deposit:lt.c().required("Deposit is required").moreThan(0,"Deposit should be more than 0"),speed:lt.c().required("Stream duration is required").moreThan(0,"Choose stream duration"),autoStart:lt.a(),isLocked:lt.a(),comment:lt.e().max(80),cliffDateTime:lt.b().nullable().test("futureDate","Date cannot be in the past",(function(e){return!e||e>new Date}))})}(s,c.accountId);return Object(_.jsxs)("div",{className:Qc.a.root,children:[Object(_.jsx)("h2",{className:Qc.a.title,children:"Create Stream"}),Object(_.jsx)(_c.b,{initialValues:mt,onSubmit:function(e){a(e).catch((function(e){return u(e)}))},validateOnBlur:!0,validationSchema:d,validateOnChange:!1,validateOnMount:!1,children:function(e){var a=e.values,n=e.handleSubmit,r=e.setFieldValue,s=e.setFieldTouched,c=e.validateField,o=a.token;return Object(_.jsxs)("form",{onSubmit:n,className:Qc.a.form,children:[Object(_.jsxs)($c,{children:[Object(_.jsx)(_c.a,{isRequired:!0,name:"receiver",label:"Receiver:",component:xc,placeholder:"receiver.".concat(R.ACCOUNT_SUFFIX),className:Qc.a.rowItem,"data-testid":me.createStreamReceiverInput}),Object(_.jsx)(_c.a,{isRequired:!0,name:"token",label:"Token",activeTokenAccountId:a.token,onTokenChoose:function(){var e=Object(k.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("token",t,!1);case 2:return e.next=4,s("token",!0,!1);case 4:c("token");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),component:Zc,className:Qc.a.rowItem})]}),Object(_.jsxs)($c,{className:Qc.a.amount,children:[Object(_.jsx)(_c.a,{isRequired:!0,name:"deposit",label:"Amount to stream:",component:xc,placeholder:"Amount to stream",className:Qc.a.rowItem,description:Object(_.jsx)(jr,{tokenAccountId:o,mode:rr.CRYPTO}),"data-testid":me.createStreamAmountInput}),Object(_.jsx)(_c.a,{name:"cliffDateTime",label:"Cliff period",component:Jc,onCliffDateTimeChange:function(){var e=Object(k.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("cliffDateTime",t,!1);case 2:return e.next=4,s("cliffDateTime",!0,!1);case 4:c("cliffDateTime");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:Qc.a.rowItem})]}),Object(_.jsx)($c,{children:Object(_.jsx)(_c.a,{tokenAccountId:o,isRequired:!0,name:"speed",label:"Stream duration:",deposit:a.deposit,component:Hc,onSpeedChange:function(){var e=Object(k.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("speed",t,!1);case 2:return e.next=4,s("speed",!0,!1);case 4:c("speed");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:Qc.a.rowItem})}),Object(_.jsx)($c,{children:Object(_.jsx)(_c.a,{maxLength:80,name:"comment",label:"Comment:",placeholder:"Enter comment",component:Mc,className:Qc.a.rowItem,"data-testid":me.createStreamCommentInput})}),Object(_.jsxs)($c,{className:Qc.a.checkboxes,children:[Object(_.jsx)(_c.a,{name:"delayed",disabled:Boolean(a.cliffDateTime),description:to,type:"checkbox",component:Cc,"data-testid":me.createStreamDelayedCheckbox}),Object(_.jsx)(_c.a,{name:"isLocked",description:ao,type:"checkbox",component:Cc,"data-testid":me.createStreamLockedCheckbox})]}),Object(_.jsx)($c,{children:Object(_.jsx)(Xc,{tokenAccountId:o,className:Qc.a.feeDisclaimer})}),Object(_.jsxs)("div",{className:Qc.a.actionButtonsWrapper,children:[l&&Object(_.jsx)(eo,{error:l.message}),Object(_.jsx)(Fe,{displayMode:Le.simple,onClick:t,testId:me.createStreamCancelButton,children:"Cancel"}),Object(_.jsx)(Fe,{type:Ee.submit,displayMode:Le.action,testId:me.createStreamSubmitButton,children:"Create"})]})]})}})]})},ro=a(153),so=a.n(ro),co=function(e){var t=e.title,a=e.total,n=e.streamed,r=void 0===n?0:n,s=e.withdrawn,c=void 0===s?0:s,o=e.withProgressBar,i=void 0===o||o,l=e.testId,u=r?"$ ".concat(r," of ").concat(a):"$ ".concat(a);return Object(_.jsxs)("div",{className:so.a.card,children:[Object(_.jsx)("h3",{className:so.a.title,children:t}),Object(_.jsx)("span",{className:so.a.finance,"data-testid":l,children:u}),i&&Object(_.jsx)(_t,{total:String(a),streamed:String(r),withdrawn:String(c)})]})},oo=new H.a(0),io=function(e,t,a){var n={total:oo,streamed:oo,withdrawn:oo},r=e.reduce((function(e,n){var r=n.token_account_id,s=t[r].formatter,c=ts(n).progress,o=s.toHumanReadableValue(c.streamed,3),i=a.getPriceInUsd(r,o),l=s.toHumanReadableValue(c.full,3),u=a.getPriceInUsd(r,l),d=s.toHumanReadableValue(c.withdrawn,3),m=a.getPriceInUsd(r,d);return{total:e.total.plus(u),streamed:e.streamed.plus(i),withdrawn:e.withdrawn.plus(m)}}),n);return{total:Number(r.total.toFixed(0)),streamed:Number(r.streamed.toFixed(0)),withdrawn:Number(r.withdrawn.toFixed(0))}},lo=a(265),uo=a.n(lo),mo=function(e){var t=e.className,a=Re(),n=a.tokens,r=a.priceOracle,s=Qr().data||{},c=s.inputs,o=void 0===c?[]:c,i=s.outputs,l=void 0===i?[]:i,u=o.filter(K),d=l.filter(K),j=io(d,n,r),b=io(u,n,r),p=function(e,t,a){var n=e.reduce((function(e,n){var r=n.token_account_id,s=t[r].formatter,c=G(n).toFixed(),o=s.toHumanReadableValue(c,3),i=a.getPriceInUsd(r,o);return e.plus(i)}),oo);return Number(n.toFixed(0))}(u,n,r);return Object(_.jsxs)("section",{className:m()(uo.a.root,t),children:[Object(_.jsx)(co,{title:"Sending",total:j.total,streamed:j.streamed,withdrawn:j.withdrawn}),Object(_.jsx)(co,{title:"Receiving",total:b.total,streamed:b.streamed,withdrawn:b.withdrawn}),Object(_.jsx)(co,{title:"Available for withdrawal",total:p,withProgressBar:!1,testId:me.availableForWithdrawalCaption})]})},jo=a(154),bo=a.n(jo);function po(e){var t=e.isOrange,a=e.children,n=e.className;return Object(_.jsx)("span",{className:m()(bo.a.badge,t?bo.a.orange:bo.a.blue,n),children:a})}var fo,ho=a(196),_o=a.n(ho),Oo=function(e){var t=e.name,a=e.isOutgoing,n=e.isLocked;return Object(_.jsxs)("div",{className:_o.a.flexCenter,children:[Object(_.jsx)("span",{className:_o.a.name,children:t}),a&&Object(_.jsx)(po,{children:"Sending"}),n&&Object(_.jsx)(po,{isOrange:!0,children:"Locked"})]})},vo=a(27),xo=a.n(vo),yo={points:["tl","bc"],offset:[-24,10]},wo=function(e){var t=e.stream,a=e.className,n=t.token_account_id,r=t.tokens_per_sec,s=ts(t),c=s.progress,o=s.timeLeft,i=s.percentages,l=mr(n),u=l.formatter,d=l.meta.symbol,j=Number(u.toHumanReadableValue(c.streamed,3)),b=Number(u.toHumanReadableValue(c.withdrawn,3)),p=Number(u.toHumanReadableValue(c.full,3)),f=je.formatSmartly(j),h=je.formatSmartly(b),O=pt(c.streamed,c.full,1),v=pt(c.withdrawn,c.streamed,1),x="".concat(f," of ").concat(p),y=u.tokensPerMeaningfulPeriod(r),w=y.formattedValue,g=y.unit;return Object(_.jsx)(Ha.a,{overlayClassName:xo.a.overlay,destroyTooltipOnHide:!0,align:yo,placement:"bottom",overlay:Object(_.jsxs)("div",{className:m()(xo.a.tooltip,xo.a.text),children:[Object(_.jsxs)("div",{className:xo.a.innerStatus,children:[Object(_.jsx)("span",{children:x})," ",Object(_.jsx)("span",{className:m()(xo.a.grey,xo.a.smaller),children:d})]}),Object(_.jsx)(_t,{total:c.full,streamed:c.streamed,withdrawn:c.withdrawn,cliffPercent:i.cliff}),Object(_.jsxs)("div",{className:m()(xo.a.status,xo.a.speed),children:[w," ",Object(_.jsxs)("span",{className:m()(xo.a.grey,xo.a.smaller),children:[d," / ",g]})]}),o&&Object(_.jsxs)("div",{className:xo.a.remained,children:[Object(_.jsx)(Pn,{className:xo.a.clock}),o]}),Object(_.jsxs)("div",{className:m()(xo.a.progress,xo.a.streamed),children:["Streamed: ",f," ",Object(_.jsx)("span",{className:m()(xo.a.grey,xo.a.smaller),children:"".concat(O,"%")})]}),Object(_.jsxs)("div",{className:m()(xo.a.progress,xo.a.withdrawn),children:["Withdrawn: ",h," ",Object(_.jsx)("span",{className:m()(xo.a.grey,xo.a.smaller),children:"".concat(v,"%")})]})]}),children:Object(_.jsxs)("div",{className:m()(xo.a.root,xo.a.text,a),children:[Object(_.jsxs)("div",{className:xo.a.status,children:[Object(_.jsx)("span",{"data-testid":me.streamProgressCaption,children:x})," ",Object(_.jsx)("span",{className:xo.a.grey,children:d})]}),Object(_.jsx)(_t,{total:c.full,streamed:c.streamed,withdrawn:c.withdrawn,cliffPercent:i.cliff})]})})},go=a(155),No=a.n(go),ko=["stream","small"];function Co(e){var t,a=e.stream,n=e.small,r=void 0!==n&&n,s=Object(Te.a)(e,ko),c=Re(),o=c.tokens,i=c.roketo,l=G(a),u=ts(a).percentages,d=u.cliff,j=u.streamed,b=o[a.token_account_id].formatter.amount(l.toFixed()),p=!d||j>d,f=Object(_.jsx)(Fe,Object(se.a)(Object(se.a)({disabled:0===Number(b),type:Ee.button,displayMode:p?Le.primary:Le.secondary,className:m()((t={},Object(h.a)(t,No.a.notAllowed,!p),Object(h.a)(t,No.a.small,r),t)),onClick:p?function(e){e.preventDefault(),i.api.withdraw({streamIds:[a.id]})}:void 0,testId:me.withdrawButton},s),{},{children:"Withdraw"}));return p?f:Object(_.jsx)(Ua,{placement:"bottom",align:{offset:[0,20]},overlay:Object(_.jsx)("div",{className:No.a.hasntPassedCliff,children:"Cliff period isn't passed yet."}),children:f})}function So(e){var t=r.a.useState(e),a=Object(C.a)(t,2),n=a[0],s=a[1];return{on:n,off:!n,toggle:function(){return s(!n)},turnOff:function(){return s(!1)},turnOn:function(){return s(!0)},setOn:s}}var Ao=(fo={},Object(h.a)(fo,Z,{label:"Initialized"}),Object(h.a)(fo,q,{label:"Active"}),Object(h.a)(fo,Y,{label:"Paused"}),Object(h.a)(fo,z,{label:"Finished"}),fo);function Io(e){var t=e.stream,a=e.className,n="string"===typeof t.status?Ao[t.status]:Ao[z];return Object(_.jsx)("div",{className:m()(a),children:n.label})}var Ro=a(21),Eo=a.n(Ro);function Lo(){return Object(_.jsx)("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",children:Object(_.jsx)("path",{d:"M1.66634 2.76016L5.17968 5.00016L1.66634 7.24016V2.76016ZM0.333008 0.333496V9.66683L7.66634 5.00016L0.333008 0.333496Z",fill:"currentColor"})})}function To(){return Object(_.jsx)("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",children:Object(_.jsx)("path",{d:"M0 9.66659H2.66667V0.333252H0V9.66659ZM5.33333 0.333252V9.66659H8V0.333252H5.33333Z",fill:"currentColor"})})}function Mo(){return Object(_.jsx)("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:Object(_.jsx)("path",{d:"M6.66667 1.33333V6.66667H1.33333V1.33333H6.66667ZM8 0H0V8H8V0Z",fill:"currentColor"})})}function Bo(e){var t=e.modalControl,a=e.onConfirm;return Object(_.jsxs)(i.a,{isOpen:t.on,onRequestClose:t.turnOff,className:Eo.a.modalContent,overlayClassName:Eo.a.modalOverlay,children:[Object(_.jsx)("h2",{className:Eo.a.modalHeader,children:"Are you sure?"}),Object(_.jsx)("p",{children:"As a stream receiver, you will not be able to resume stream. Only stream owners can resume streams."}),Object(_.jsxs)("div",{className:Eo.a.modalButtons,children:[Object(_.jsx)("button",{type:"button",onClick:t.turnOff,className:m()(Eo.a.modalButton,Eo.a.modalSecondary),children:"Cancel"}),Object(_.jsx)("button",{type:"button",onClick:function(){t.turnOff(),a()},className:m()(Eo.a.modalButton,Eo.a.modalWarning),children:"Pause"})]})]})}function Po(e){var t=e.modalControl,a=e.onConfirm;return Object(_.jsxs)(i.a,{isOpen:t.on,onRequestClose:t.turnOff,className:Eo.a.modalContent,overlayClassName:Eo.a.modalOverlay,children:[Object(_.jsx)("h2",{className:Eo.a.modalHeader,children:"Stop stream"}),Object(_.jsx)("p",{children:"This action will completely shut down the stream. After that, it can't be turned on."}),Object(_.jsxs)("div",{className:Eo.a.modalButtons,children:[Object(_.jsx)("button",{type:"button",onClick:t.turnOff,className:m()(Eo.a.modalButton,Eo.a.modalSecondary),children:"Cancel"}),Object(_.jsx)("button",{type:"button",onClick:function(){t.turnOff(),a()},className:m()(Eo.a.modalButton,Eo.a.modalDanger),children:"Stop"})]})]})}function Fo(e){var t,a=e.stream,r=e.className,s=Re(),c=s.auth,o=s.roketo,i=So(!1),l=So(!1),u=Object(n.useState)(!1),d=Object(C.a)(u,2),j=d[0],b=d[1],p=Object(n.useState)(!1),f=Object(C.a)(p,2),O=f[0],v=f[1],x=c.accountId===a.owner_id,y=c.accountId===a.receiver_id,w=!x&&!y,g=function(){var e=Object(k.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,o.api.pauseStream({streamId:a.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(k.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,o.api.startStream({streamId:a.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(k.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,o.api.stopStream({streamId:a.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(X(a)||w)return Object(_.jsx)(Io,{className:r,stream:a});var I=O&&!j,R=a.status!==q&&x,E=a.status===q&&!function(e){return Boolean(null===e||void 0===e?void 0:e.cliff)}(a),L=(t={},Object(h.a)(t,Eo.a.active,K(a)),Object(h.a)(t,Eo.a.pause,function(e){return e.status===Y}(a)),Object(h.a)(t,Eo.a.stop,X(a)),t);return function(e){var t=e.is_locked,a=e.status;return t&&a!==Z}(a)?Object(_.jsx)("div",{className:m()(Eo.a.relative,r),children:Object(_.jsx)("button",{type:"button",className:m()(Eo.a.dropdownOpener,Eo.a.notAllowed),children:Object(_.jsx)(Io,{stream:a})})}):Object(_.jsxs)("div",{className:m()(Eo.a.relative,r),children:[Object(_.jsx)(Bo,{modalControl:i,onConfirm:g}),Object(_.jsx)(Po,{modalControl:l,onConfirm:S}),Object(_.jsx)(it,{opened:I,onChange:v,className:m()(Eo.a.dropdownOpener,L),testId:me.streamControlsDropdown,children:j?"Loading...":Object(_.jsx)(Io,{stream:a,className:Eo.a.statusPadded})}),Object(_.jsxs)(Ft,{onClose:function(){return v(!1)},opened:I,className:Eo.a.controlsMenu,children:[R&&Object(_.jsx)(Dt,{children:Object(_.jsxs)("button",{type:"button",onClick:N,className:m()(Eo.a.controlButton,Eo.a.start),"data-testid":me.streamStartButton,children:[Object(_.jsx)(Lo,{}),Object(_.jsx)("span",{children:"Start"})," "]})}),E&&Object(_.jsx)(Dt,{children:Object(_.jsxs)("button",{type:"button",onClick:function(){v(!1),y?i.turnOn():g()},className:m()(Eo.a.controlButton,Eo.a.pause),"data-testid":me.streamPauseButton,children:[Object(_.jsx)(To,{}),Object(_.jsx)("span",{children:"Pause"})]})}),(R||E)&&Object(_.jsx)(Ht,{}),Object(_.jsx)(Dt,{children:Object(_.jsxs)("button",{type:"button",onClick:function(){v(!1),l.turnOn()},className:m()(Eo.a.controlButton,Eo.a.stop),"data-testid":me.streamStopButton,children:[Object(_.jsx)(Mo,{}),Object(_.jsx)("span",{children:"Stop"})]})})]})]})}var Do=a(197),Ho=a.n(Do),Vo=function(e){var t=e.onCLick;return Object(_.jsx)("button",{className:Ho.a.linkButton,type:"button",onClick:t,children:Object(_.jsx)(Je,{})})},Wo=function(e){var t=e.className,a=e.stream,r=a.id,s=Object(n.useCallback)((function(e){e.preventDefault();var t=b(r);Ye()(t)}),[r]),c=Xr(a)===Kr&&K(a);return Object(_.jsxs)("div",{className:m()(Ho.a.root,t),children:[c&&Object(_.jsx)(Co,{stream:a,small:!0}),Object(_.jsx)(Fo,{stream:a}),Object(_.jsx)(Vo,{onCLick:s})]})},Uo=a(101),Zo=a.n(Uo),qo=function(e){var t=e.stream,a=e.className,n=t.id,r=t.description,s="";try{s=JSON.parse(r).comment}catch(d){s=r}var c=Xr(t)===Kr,o=c?t.owner_id:t.receiver_id,i=Object(u.f)(j.stream.path,{id:n});return Object(_.jsxs)("div",{className:m()(Zo.a.root,a),children:[Object(_.jsx)(l.b,{to:i,className:Zo.a.name,children:Object(_.jsx)(Oo,{name:o,isOutgoing:!c,isLocked:t.is_locked})}),Object(_.jsx)(wo,{stream:t,className:Zo.a.withMarginRight}),Object(_.jsx)(l.b,{to:i,className:"col-span-2 grow-0",children:Object(_.jsx)("p",{className:Zo.a.comment,children:s})}),Object(_.jsx)(Wo,{stream:t,className:m()(Zo.a.controls,"col-span-2 grow-0")})]})},Yo=a(55),zo=a.n(Yo),Ko=function(e){var t=e.children;return Object(_.jsx)("div",{className:zo.a.emptyState,children:t})},Jo=function(e){var t,a=e.className,n=e.displayingStreams,r=e.onCreateStreamClick,s=Qr().data,c=s||{},o=c.inputs,i=void 0===o?[]:o,l=c.outputs,u=void 0===l?[]:l,d=[].concat(Object(ga.a)(i),Object(ga.a)(u)).length,j=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;return s?s&&0===d?Object(_.jsxs)(Ko,{children:[Object(_.jsx)("div",{children:"You don't have any streams yet."}),Object(_.jsx)(Fe,{onClick:r,children:"Create First Stream"})]}):s&&0!==d&&0===j?Object(_.jsx)(Ko,{children:Object(_.jsx)("div",{children:"No streams matching your filters. Try selecting different ones"})}):Object(_.jsx)("div",{className:m()(zo.a.container,a),children:Object(_.jsxs)("section",{className:zo.a.flexColumn,children:[Object(_.jsxs)("div",{className:m()(zo.a.withPaddings,"grid grid-cols-6 gap-x-10"),children:[Object(_.jsx)("h3",{className:zo.a.title,children:"Wallet address"}),Object(_.jsx)("h3",{className:zo.a.title,children:"Amount to stream"}),Object(_.jsx)("h3",{className:zo.a.title,children:"Comment"})]}),null===n||void 0===n?void 0:n.map((function(e){return Object(_.jsx)(qo,{stream:e,className:m()(zo.a.withPaddings,"grid grid-cols-6 gap-x-10")},e.id)}))]})}):Object(_.jsx)(Ko,{children:Object(_.jsx)(Ln,{wrapperClassName:zo.a.loader})})},Xo=a(66),Go=a.n(Xo),Qo=Object(u.f)(j.streams.path),$o="".concat(window.location.origin,"/#").concat(Qo),ei=function(){var e=Re(),t=e.roketo,a=e.tokens,r=Qr().data||{},s=r.inputs,c=r.outputs,o=Object(n.useMemo)((function(){return(s||c)&&[].concat(Object(ga.a)(s||[]),Object(ga.a)(c||[]))}),[s,c]),i=Object(n.useState)([]),l=Object(C.a)(i,2),u=l[0],d=l[1],j=Object(n.useState)(!1),b=Object(C.a)(j,2),p=b[0],f=b[1],h=Object(n.useCallback)((function(){return f(!p)}),[f,p]),O=function(){var e=Object(k.a)(A.a.mark((function e(n){var r,s,c,o,i,l,u,d,m,j,b,p;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.receiver,s=n.delayed,c=n.comment,o=n.deposit,i=n.speed,l=n.token,u=n.isLocked,d=n.cliffDateTime,m=a[l],j=m.formatter,b=m.api,p=m.roketoMeta,e.next=4,t.api.createStream({deposit:j.toYocto(o),comment:c,receiverId:r,tokenAccountId:l,commissionOnCreate:p.commission_on_create,tokensPerSec:i,delayed:!d&&s,callbackUrl:$o,handleTransferStream:b.transfer,isLocked:u,cliffPeriodSec:d?Math.floor((d.getTime()-Date.now())/1e3):void 0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{className:Go.a.root,children:Object(_.jsxs)(N,{children:[Object(_.jsxs)("section",{className:m()(Go.a.flex,Go.a.header),children:[Object(_.jsx)("h1",{className:Go.a.title,children:"Streams"}),Object(_.jsxs)("div",{className:m()(Go.a.flex,Go.a.buttonsWrapper),children:[Object(_.jsx)(ac,{}),Object(_.jsx)(Fe,{onClick:h,testId:me.createStreamButton,children:"Create a stream"}),Object(_.jsx)(Qs,{isOpen:p,onCloseModal:h,children:Object(_.jsx)(no,{onFormCancel:h,onFormSubmit:O})})]})]}),Object(_.jsx)(mo,{}),Object(_.jsx)(hc,{items:o,onFilterDone:d,className:Go.a.streamFilters}),Object(_.jsx)(Jo,{displayingStreams:u,className:Go.a.section,onCreateStreamClick:h})]})})},ti=a(156),ai=a.n(ti);function ni(){return Object(_.jsx)("div",{className:"flex h-screen mx-3",children:Object(_.jsx)("div",{className:m()("lg:m-auto mx-auto my-auto lg:w-2/5 bg-gray-90 rounded-3xl p-5",ai.a.block),children:Object(_.jsxs)("div",{className:m()("my-24",ai.a.content),children:[Object(_.jsxs)("h1",{className:"text-3xl mb-4 font-semibold",children:[" ","Login via NEAR Network"," "]}),Object(_.jsx)("p",{className:m()("mb-4",ai.a.hint),children:"Click button below to login or create new account"}),Object(_.jsx)(We,{})]})})})}var ri=a(11),si=a.n(ri);function ci(e){var t=e.className;return Object(_.jsx)("svg",{className:t,width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",children:Object(_.jsx)("path",{d:"M0.895051 11.6285C0.745051 11.6285 0.603384 11.5702 0.495051 11.4535C0.295051 11.2285 0.311718 10.8869 0.528384 10.6869L5.836 5.90328L0.495028 1.27828C0.270028 1.07828 0.261695 0.736613 0.461695 0.511613C0.661695 0.294947 1.00336 0.27828 1.22836 0.47828L6.97766 5.46995C7.23599 5.70328 7.23599 6.10328 6.97766 6.33662L1.26172 11.4869C1.15338 11.5869 1.02838 11.6285 0.895051 11.6285Z",fill:"currentColor"})})}function oi(e){var t=e.stream,a=Re().tokens[t.token_account_id],n=a.meta,r=a.formatter,s=ts(t),c=s.progress,o=c.streamed,i=c.withdrawn,l=c.full,u=s.percentages;return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:si.a.numericProgress,children:[Object(_.jsx)(gt,{tokenAccountId:t.token_account_id,className:si.a.tokenIcon}),Object(_.jsx)("span",{children:"".concat(n.symbol," ").concat(r.amount(o)," of ").concat(r.amount(l))})]}),Object(_.jsx)(_t,{total:l,streamed:o,withdrawn:i,cliffPercent:u.cliff,withBigCliffMark:!0})]})}function ii(e){var t=e.stream,a=ts(t).isDead,n=Xr(t);return a?null:Object(_.jsxs)("div",{className:si.a.buttons,children:[Object(_.jsx)(Fo,{stream:t}),n===Kr&&t.status===q&&Object(_.jsx)(Co,{stream:t})]})}function li(e){var t=e.stream,a=Re().tokens;return Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:si.a.blockTitle,children:"Speed"}),Object(_.jsx)("div",{className:si.a.speed,children:jt(Number(t.tokens_per_sec),a[t.token_account_id])})]})}function ui(e){var t=e.stream,a="";try{a=JSON.parse(t.description).comment}catch(n){a=t.description}return""===a?null:Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:si.a.blockTitle,children:"Comment"}),Object(_.jsx)("div",{className:si.a.commentBody,children:a})]})}function di(e){var t=e.stringToCopy;return Object(_.jsx)("button",{type:"button",className:si.a.copyButton,onClick:function(){return Ye()(t)},children:Object(_.jsx)(Je,{className:si.a.linkIcon})})}function mi(e){var t=b(e.stream.id);return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:m()(si.a.blockTitle,si.a.copyTitle),children:["Public link to view the stream",Object(_.jsx)(di,{stringToCopy:t})]}),Object(_.jsx)("div",{className:si.a.link,children:t})]})}function ji(e){var t=e.title,a=e.children;return Object(_.jsxs)("div",{className:si.a.infoRow,children:[Object(_.jsx)("span",{className:si.a.infoTitle,children:t}),a]})}function bi(e){var t=e.stream,a=Xr(t),r=Re().tokens,s=ts(t),c=s.streamEndTimestamp,o=s.cliffEndTimestamp,i=s.timeLeft,l=s.progress,u=l.streamed,d=l.left,j=l.full,b=pt(u,j).toNumber(),p=pt(d,j).toNumber(),f=G(t).toNumber(),h=r[t.token_account_id],O=h.meta,v=h.formatter,x=Object(n.useState)(!1),y=Object(C.a)(x,2),w=y[0],g=y[1];return Object(_.jsxs)("div",{className:m()(si.a.tile,si.a.infoTile),children:[Object(_.jsx)("div",{className:si.a.blockHeader,children:"Stream info"}),Object(_.jsx)(ji,{title:"Sender",children:Object(_.jsx)("span",{className:m()(si.a.font16,si.a.name),children:a===Jr?"You":t.owner_id})}),Object(_.jsx)(ji,{title:"Receiver",children:Object(_.jsx)("span",{className:m()(si.a.font16,si.a.name),children:a===Kr?"You":t.receiver_id})}),Object(_.jsx)(ji,{title:"Amount",children:Object(_.jsxs)("span",{className:si.a.font14,children:[v.amount(j),"\xa0",Object(_.jsx)("span",{className:si.a.font12,children:O.symbol})]})}),Object(_.jsx)(ji,{title:"Stream Created",children:Object(_.jsx)("span",{className:si.a.font14,children:Object(ze.a)(new Date(Number(t.timestamp_created)/1e6),"PP 'at' p")})}),o&&Object(_.jsx)(ji,{title:Object(Ke.a)(o)?"Cliff Period Ended":"Cliff Period Ends",children:Object(_.jsx)("span",{className:si.a.font14,children:Object(ze.a)(o,"PP 'at' p")})}),c&&Object(_.jsx)(ji,{title:Object(Ke.a)(c)?"Stream Ended":"Stream Ends",children:Object(_.jsx)("span",{className:si.a.font14,children:Object(ze.a)(c,"PP 'at' p")})}),Object(_.jsx)(ji,{title:"Token",children:Object(_.jsxs)("span",{className:si.a.font14,children:[O.name,",\xa0",Object(_.jsx)("span",{className:si.a.font12,children:O.symbol})]})}),Object(_.jsx)("div",{className:si.a.divider}),Object(_.jsx)(it,{className:si.a.dropdownOpener,opened:w,onChange:function(e){g(e)},children:Object(_.jsx)("h3",{className:si.a.sectionHeader,children:"Other info"})}),w&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ji,{title:"Stream ID",children:Object(_.jsxs)("div",{className:si.a.centeredFlex,children:[Object(_.jsx)("span",{className:m()(si.a.font14,si.a.streamID),children:t.id}),Object(_.jsx)(di,{stringToCopy:t.id})]})}),Object(_.jsx)(ji,{title:"Remaining",children:Object(_.jsx)("span",{className:si.a.font14,children:i||"Finished"})}),Object(_.jsx)(ji,{title:"Tokens Transferred",children:Object(_.jsxs)("span",{className:si.a.font14,children:[v.amount(u),"\xa0",Object(_.jsxs)("span",{className:si.a.font12,children:[O.symbol," ",Object(_.jsxs)("span",{className:si.a.grey,children:["(",b,"%)"]})]})]})}),t.timestamp_created!==t.last_action&&Object(_.jsx)(ji,{title:"Latest Withdrawal",children:Object(_.jsx)("span",{className:si.a.font14,children:Object(ze.a)(new Date(Number(t.last_action)/1e6),"PP 'at' p")})}),Object(_.jsx)(ji,{title:"Tokens Left",children:Object(_.jsxs)("span",{className:si.a.font14,children:[v.amount(d),"\xa0",Object(_.jsxs)("span",{className:si.a.font12,children:[O.symbol," ",Object(_.jsxs)("span",{className:si.a.grey,children:["(",p,"%)"]})]})]})}),Object(_.jsx)(ji,{title:"Tokens Available",children:Object(_.jsxs)("span",{className:si.a.font14,children:[v.amount(f),"\xa0",Object(_.jsx)("span",{className:si.a.font12,children:O.symbol})]})})]})]})}function pi(){var e=Object(u.h)().id,t=function(e){var t,a=Re().roketo,n=Object(Na.a)((function(){return!!a.account&&["stream",e,a.account.last_created_stream]}),Object(k.a)(A.a.mark((function t(){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.api.getStream({streamId:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),{errorRetryInterval:2e3,errorRetryCount:3});return Gr({swr:n,revalidationPeriod:10,isEnabled:(null===(t=n.data)||void 0===t?void 0:t.status)===q}),n}(e),a=t.data,n=t.error;return Object(_.jsx)("div",{className:si.a.root,children:Object(_.jsxs)(N,{children:[Object(_.jsxs)("div",{className:si.a.breadbrumbs,children:[Object(_.jsx)(l.b,{to:j.streams.path,className:si.a.streamsLink,children:"Streams"}),Object(_.jsx)(ci,{className:si.a.breadbrumb}),Object(_.jsx)("span",{className:si.a.id,children:e})]}),n&&Object(_.jsx)(nt,{className:"max-w-2xl mx-auto py-32",message:n.message,onRetry:function(){t.mutate()}}),!n&&!a&&Object(_.jsx)("div",{className:"py-32 text-center text-gray text-2xl",children:"Loading..."}),!n&&a&&Object(_.jsxs)("main",{className:si.a.stream,children:[Object(_.jsxs)("div",{className:si.a.left,children:[Object(_.jsxs)("div",{className:m()(si.a.tile,si.a.remaining),children:[Object(_.jsx)("span",{className:si.a.blockTitle,children:"Remaining"}),Object(_.jsx)("span",{children:ts(a).timeLeft||"Finished"})]}),Object(_.jsxs)("div",{className:m()(si.a.tile,si.a.main),children:[a.is_locked&&Object(_.jsx)(po,{isOrange:!0,className:si.a.closeBadge,children:"Locked"}),Object(_.jsx)(oi,{stream:a}),Object(_.jsx)(ii,{stream:a}),Object(_.jsx)(li,{stream:a}),Object(_.jsx)("div",{className:si.a.divider}),Object(_.jsx)(ui,{stream:a}),Object(_.jsx)(mi,{stream:a})]})]}),Object(_.jsx)("div",{className:si.a.right,children:Object(_.jsx)(bi,{stream:a})})]})]})})}var fi=a(81),hi=a.n(fi);function _i(){return Object(_.jsxs)("div",{className:hi.a.root,children:[Object(_.jsxs)("div",{className:hi.a.big404,children:["4",Object(_.jsx)("span",{className:hi.a.big0,children:"0"}),"4"]}),Object(_.jsx)("div",{className:hi.a.pageNotFound,children:"Page not found"}),Object(_.jsxs)("div",{className:hi.a.weAreSorry,children:["We're sorry the page",Object(_.jsx)("br",{}),"you requested was not found."]}),Object(_.jsx)(Fe,{className:hi.a.backButton,displayMode:Le.action,onClick:function(){return window.history.back()},children:"Back"})]})}var Oi=["transactionHashes","errorCode","errorMessage"];function vi(){Object(n.useEffect)((function(){var e=new URL(window.location.href);Oi.forEach((function(t){e.searchParams.has(t)&&e.searchParams.delete(t)})),window.history.replaceState(null,"",e)}));var e=Re().auth,t=j.root,a=j.stream,r=j.streams,s=j.authorize,c=Ue.legacyStream,o=Ue.legacyStreams;return Object(_.jsxs)(l.a,{basename:R.PUBLIC_URL,children:[Object(_.jsx)(gs,{}),Object(_.jsxs)(u.d,{children:[Object(_.jsx)(Ns,{exact:!0,redirect:Object(_.jsx)(u.a,{to:r.path}),allowed:!e.signedIn,path:t.path,children:Object(_.jsx)(u.a,{to:s.path})}),Object(_.jsx)(Ns,{exact:!0,redirect:Object(_.jsx)(u.a,{to:r.path}),allowed:!e.signedIn,path:s.path,children:Object(_.jsx)(ni,{})}),Object(_.jsx)(u.b,{exact:!0,path:c.path,children:Object(_.jsx)(nn,{})}),Object(_.jsx)(Ns,{exact:!0,redirect:Object(_.jsx)(u.a,{to:s.path}),allowed:e.signedIn,path:o.path,children:Object(_.jsx)(tr,{})}),Object(_.jsx)(u.b,{exact:!0,path:a.path,children:Object(_.jsx)(pi,{})}),Object(_.jsx)(Ns,{exact:!0,redirect:Object(_.jsx)(u.a,{to:s.path}),allowed:e.signedIn,path:r.path,children:Object(_.jsx)(ei,{})}),Object(_.jsx)(u.b,{render:_i})]}),Object(_.jsx)(Js,{})]})}a(481);var xi=function(){return Object(_.jsx)(Ae,{children:Object(_.jsx)(oa,{children:Object(_.jsx)(vi,{})})})},yi=document.getElementById("root");i.a.setAppElement(yi),c.a.render(Object(_.jsx)(xi,{}),yi)},49:function(e,t,a){e.exports={root:"styles_root__2_gZI",description:"styles_description__9SwXr",preparedTokensWrapper:"styles_preparedTokensWrapper__1n7o-",preparedToken:"styles_preparedToken__3wMsS",info:"styles_info__OjsX3",amount:"styles_amount__2Pqv4",symbol:"styles_symbol__HcQ7S",notAllowed:"styles_notAllowed__2nGW_"}},52:function(e,t,a){e.exports={progressBar:"styles_progressBar__WfqVp",streamed:"styles_streamed__2JSLG",progress:"styles_progress__1Vfwm",withdrawn:"styles_withdrawn__2eocI",cliffMarkContainer:"styles_cliffMarkContainer__n0scP",cliffMark:"styles_cliffMark__1jJk_",cliffMarkBig:"styles_cliffMarkBig__1-8_i",cliffMarkPassed:"styles_cliffMarkPassed__18H3L"}},53:function(e,t,a){e.exports={container:"styles_container__2hqfN",flexColumn:"styles_flexColumn__2kzF4",withPaddings:"styles_withPaddings__3uH1h",title:"styles_title__1uH5S",emptyState:"styles_emptyState__2YAVd",loader:"styles_loader__FohDd"}},54:function(e,t,a){e.exports={root:"styles_root__1wORt",layout:"styles_layout__3xx--",section:"styles_section__2r57z",logo:"styles_logo__w4rz3",links:"styles_links__2CP2p",legal:"styles_legal__1I5Mf",socials:"styles_socials__pFfwm",jurInfo:"styles_jurInfo__p5KY0"}},55:function(e,t,a){e.exports={container:"styles_container__2E2rA",flexColumn:"styles_flexColumn__vggyT",withPaddings:"styles_withPaddings__3K5aA",title:"styles_title__284Zv",emptyState:"styles_emptyState__3rrQX",loader:"styles_loader__xExeF"}},63:function(e,t,a){e.exports={root:"styles_root__14vNy",section:"styles_section__2FRx-",flex:"styles_flex__2TXuX",header:"styles_header__UtN1L",buttonsWrapper:"styles_buttonsWrapper__ANSH3",title:"styles_title__3qFk7",streamFilters:"styles_streamFilters__3D0RW"}},65:function(e,t,a){e.exports={wrapper:"styles_wrapper__TAkqw",speedInput:"styles_speedInput__pndxz",input:"styles_input__2-TTa",label:"styles_label__1NoFr",formLabel:"styles_formLabel__2w0iu",formField:"styles_formField__GA6eY",speed:"styles_speed__M079a"}},66:function(e,t,a){e.exports={root:"styles_root__2UE9y",section:"styles_section__2YjD4",flex:"styles_flex__5E-Gn",header:"styles_header__2fhvP",buttonsWrapper:"styles_buttonsWrapper__KUQAt",title:"styles_title__1SNWA",streamFilters:"styles_streamFilters__ZRc30"}},73:function(e,t,a){e.exports={root:"styles_root__3Kyti",wrapper:"styles_wrapper__P7W3S",balance:"styles_balance__o5yA-"}},79:function(e,t,a){e.exports={profile:"profile_profile__Dw7tT",dropdownOpener:"profile_dropdownOpener__rb_O7",name:"profile_name__2iGU9",avatar:"profile_avatar__20etB",dropdownMenu:"profile_dropdownMenu__2a3bk"}},80:function(e,t,a){e.exports={overlay:"styles_overlay__2aFDm",bodyOverflowHidden:"styles_bodyOverflowHidden__1QZAq",content:"styles_content__2Cjkl",title:"styles_title__1w-yg",close:"styles_close__1xZ3p"}},81:function(e,t,a){e.exports={root:"styles_root__17WVD",big404:"styles_big404__1ZrOC",big0:"styles_big0__1G3uC",pageNotFound:"styles_pageNotFound__2_Tlm",weAreSorry:"styles_weAreSorry__-XpXJ",backButton:"styles_backButton__2uRdQ"}},96:function(e,t,a){e.exports={root:"styles_root__2eQAJ",primary:"styles_primary__F4Fip",action:"styles_action__ZCYgS",simple:"styles_simple__2Db_y",secondary:"styles_secondary__3blHx"}},97:function(e,t,a){e.exports={root:"styles_root__gqzta",controls:"styles_controls__1VcAv",name:"styles_name__1n32K",comment:"styles_comment__1PgxT",withMarginRight:"styles_withMarginRight__2dPrt"}},98:function(e,t,a){e.exports={root:"styles_root__37pAo",label:"styles_label__1Z1u2",description:"styles_description__3HMUq",error:"styles_error__iK_dp",required:"styles_required__eL5Iv"}},99:function(e,t,a){e.exports={root:"styles_root__2b5hR",description:"styles_description__256I8",checkbox:"styles_checkbox__JfL1O",error:"styles_error__3vxG-",disabled:"styles_disabled__3pqPt"}}},[[482,1,2]]]);
//# sourceMappingURL=main.cae8b480.chunk.js.map